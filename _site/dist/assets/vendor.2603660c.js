"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(e){var t={exports:{}};return e(t,t.exports),t.exports
/*! InstantSearch.js 4.15.0 | Â© Algolia, Inc. and contributors; MIT License | https://github.com/algolia/instantsearch.js */}var t=e((function(e,t){e.exports=function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r,i,a=u(e);if(t){var s=u(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return r=this,!(i=n)||"object"!=typeof i&&"function"!=typeof i?d(r):i}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function b(e,t){if(e===t)return e;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n],i=e[n];void 0!==i&&void 0===r||(y(i)&&y(r)?e[n]=b(i,r):e[n]="object"==typeof(a=r)&&null!==a?b(Array.isArray(a)?[]:{},a):a)}var a;return e}function S(){return Array.prototype.slice.call(arguments).reduceRight((function(e,t){return Object.keys(Object(t)).forEach((function(n){void 0!==t[n]&&(void 0!==e[n]&&delete e[n],e[n]=t[n])})),e}),{})}var R=function(e){y(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];y(r)&&b(e,r)}return e},w=function(e,t){return e.filter((function(n,r){return-1<t.indexOf(n)&&e.indexOf(n)===r}))},P=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]},x=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")},N=function(e,t){if(null===e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i},I=function(e){return e&&0<Object.keys(e).length},_=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)},T={addRefinement:function(e,t,n){if(T.isRefined(e,t,n))return e;var r=""+n,i=e[t]?e[t].concat(r):[r],a={};return a[t]=i,S({},a,e)},removeRefinement:function(e,t,n){if(void 0===n)return T.clearRefinement(e,(function(e,n){return t===n}));var r=""+n;return T.clearRefinement(e,(function(e,n){return t===n&&r===e}))},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return T.isRefined(e,t,n)?T.removeRefinement(e,t,n):T.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(void 0===t)return I(e)?{}:e;if("string"==typeof t)return N(e,[t]);if("function"==typeof t){var r=!1,i=Object.keys(e).reduce((function(i,a){var s=e[a]||[],o=s.filter((function(e){return!t(e,a,n)}));return o.length!==s.length&&(r=!0),i[a]=o,i}),{});return r?i:e}},isRefined:function(e,t,n){var r=!!e[t]&&0<e[t].length;if(void 0===n||!r)return r;var i=""+n;return-1!==e[t].indexOf(i)}},F=T;function C(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return C(t[n],e)})):e===t}function k(e){var t=e?k._parseNumbers(e):{};void 0===t.userToken||_(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach((function(e){var r=-1!==k.PARAMETERS.indexOf(e),i=void 0!==t[e];!r&&i&&(n[e]=t[e])}))}k.PARAMETERS=Object.keys(new k),k._parseNumbers=function(e){if(e instanceof k)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(n){var r=e[n];if("string"==typeof r){var i=parseFloat(r);t[n]=isNaN(i)?r:i}})),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map((function(e){return Array.isArray(e)?e.map((function(e){return parseFloat(e)})):e}))),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t]||{};n[t]={},Object.keys(r).forEach((function(e){var i=r[e].map((function(e){return Array.isArray(e)?e.map((function(e){return"string"==typeof e?parseFloat(e):e})):"string"==typeof e?parseFloat(e):e}));n[t][e]=i}))})),t.numericRefinements=n}return R({},e,t)},k.make=function(e){var t=new k(e);return(e.hierarchicalFacets||[]).forEach((function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);0<n.length&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}})),t},k.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&0<n.tagRefinements.length?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):0<e.tagRefinements.length&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&I(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):I(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},k.prototype={constructor:k,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:F.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:F.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:F.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:F.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=x(n);if(this.isNumericRefined(e,t,r))return this;var i=R({},this.numericRefinements);return i[e]=R({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){return void 0!==n?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(r,i){return i===e&&r.op===t&&C(r.val,x(n))}))}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,r){return r===e&&n.op===t}))}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(t,n){return n===e}))}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return I(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return N(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,n=this.numericRefinements,r=Object.keys(n).reduce((function(r,i){var a=n[i],s={};return a=a||{},Object.keys(a).forEach((function(n){var r=a[n]||[],o=[];r.forEach((function(t){e({val:t,op:n},i,"numeric")||o.push(t)})),o.length!==r.length&&(t=!0),s[n]=o})),r[i]=s,r}),{});return t?r:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return F.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:F.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return F.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:F.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return F.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:F.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter((function(t){return t!==e}))}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(t){return t!==e}))}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(t){return t.name!==e}))}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return F.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:F.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return F.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:F.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return F.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:F.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter((function(t){return t!==e}))};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:F.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:F.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:F.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={};return void 0!==this.hierarchicalFacetsRefinements[e]&&0<this.hierarchicalFacetsRefinements[e].length&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:S({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:S({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:S({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return-1<this.disjunctiveFacets.indexOf(e)},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return-1<this.facets.indexOf(e)},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&F.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&F.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&F.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?-1!==n.indexOf(t):0<n.length},isNumericRefined:function(e,t,n){if(void 0===n&&void 0===t)return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===n||!r)return r;var i,a,s=x(n),o=void 0!==(i=this.numericRefinements[e][t],a=s,P(i,(function(e){return C(e,a)})));return r&&o},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=w(Object.keys(this.numericRefinements).filter((function(t){return 0<Object.keys(e.numericRefinements[t]).length})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(t){return 0<e.disjunctiveFacetsRefinements[t].length})).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return w(this.hierarchicalFacets.map((function(e){return e.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(t){return 0<e.hierarchicalFacetsRefinements[t].length})))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(t){return-1===e.indexOf(t)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},n=this;return Object.keys(this).forEach((function(r){var i=n[r];-1===e.indexOf(r)&&void 0!==i&&(t[r]=i)})),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=k.validate(this,e);if(t)throw t;var n=this,r=k._parseNumbers(e),i=Object.keys(this).reduce((function(e,t){return e[t]=n[t],e}),{}),a=Object.keys(r).reduce((function(e,t){var n=void 0!==e[t],i=void 0!==r[t];return n&&!i?N(e,[t]):(i&&(e[t]=r[t]),e)}),i);return new this.constructor(a)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return P(this.hierarchicalFacets,(function(t){return t.name===e}))},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(n).map((function(e){return e.trim()}))},toString:function(){return JSON.stringify(this,null,2)}};var E=k;function j(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=void 0!==t,a=null===t;if(!a&&t<e||r&&i||!n)return 1;if(!r&&e<t||a&&n||!i)return-1}return 0}function M(e){return Array.isArray(e)?e.filter(Boolean):[]}function O(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function L(e,t){var n=(t||[]).map((function(e){return e.split(":")}));return e.reduce((function(e,t){var r=t.split(":"),i=P(n,(function(e){return e[0]===r[0]}));return 1<r.length||!i?(e[0].push(r[0]),e[1].push(r[1])):(e[0].push(i[0]),e[1].push(i[1])),e}),[[],[]])}var A=function(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map((function(e,n){return{criteria:t.map((function(t){return e[t]})),index:n,value:e}}));return r.sort((function(e,t){for(var r=-1;++r<e.criteria.length;){var i=j(e.criteria[r],t.criteria[r]);if(i)return r>=n.length?i:"desc"===n[r]?-i:i}return e.index-t.index})),r.map((function(e){return e.value}))},H=function(e){return function(t,n){var r,i,a,s,o,c=e.hierarchicalFacets[n],u=e.hierarchicalFacetsRefinements[c.name]&&e.hierarchicalFacetsRefinements[c.name][0]||"",l=e._getHierarchicalFacetSeparator(c),h=e._getHierarchicalRootPath(c),d=e._getHierarchicalShowParentLevel(c),f=L(e._getHierarchicalFacetSortBy(c)),m=t.every((function(e){return e.exhaustive})),p=(r=f,i=l,a=h,s=d,o=u,function(e,t,n){var c=e;if(0<n){var u=0;for(c=e;u<n;){var l=c&&Array.isArray(c.data)?c.data:[];c=P(l,(function(e){return e.isRefined})),u++}}if(c){var h=Object.keys(t.data).map((function(e){return[e,t.data[e]]})).filter((function(e){return t=e[0],n=c.path||a,r=o,u=i,h=s,(!(l=a)||0===t.indexOf(l)&&l!==t)&&(!l&&-1===t.indexOf(u)||l&&t.split(u).length-l.split(u).length==1||-1===t.indexOf(u)&&-1===r.indexOf(u)||0===r.indexOf(t)||0===t.indexOf(n+u)&&(h||0===t.indexOf(r)));var t,n,r,u,l,h}));c.data=A(h.map((function(e){var n,r,a,s,c,u,l=e[0];return n=e[1],r=l,a=i,s=o,c=t.exhaustive,{name:(u=r.split(a))[u.length-1].trim(),path:r,count:n,isRefined:s===r||0===s.indexOf(r+a),exhaustive:c,data:null}})),r[0],r[1])}return e}),g=t;return h&&(g=t.slice(h.split(l).length)),g.reduce(p,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,exhaustive:m,data:null})}};function D(e){var t={};return e.forEach((function(e,n){t[e]=n})),t}function q(e,t,n){t&&t[n]&&(e.stats=t[n])}function W(e,t){var n=t[0];this._rawResults=t;var r=this;Object.keys(n).forEach((function(e){r[e]=n[e]})),this.processingTimeMS=t.reduce((function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map((function(){return[]})),this.facets=[];var i=e.getRefinedDisjunctiveFacets(),a=D(e.facets),s=D(e.disjunctiveFacets),o=1,c=n.facets||{};Object.keys(c).forEach((function(t){var i,o,u=c[t],l=(i=e.hierarchicalFacets,o=t,P(i,(function(e){return-1<(e.attributes||[]).indexOf(o)})));if(l){var h=l.attributes.indexOf(t),d=O(e.hierarchicalFacets,(function(e){return e.name===l.name}));r.hierarchicalFacets[d][h]={attribute:t,data:u,exhaustive:n.exhaustiveFacetsCount}}else{var f,m=-1!==e.disjunctiveFacets.indexOf(t),p=-1!==e.facets.indexOf(t);m&&(f=s[t],r.disjunctiveFacets[f]={name:t,data:u,exhaustive:n.exhaustiveFacetsCount},q(r.disjunctiveFacets[f],n.facets_stats,t)),p&&(f=a[t],r.facets[f]={name:t,data:u,exhaustive:n.exhaustiveFacetsCount},q(r.facets[f],n.facets_stats,t))}})),this.hierarchicalFacets=M(this.hierarchicalFacets),i.forEach((function(i){var a=t[o],c=a&&a.facets?a.facets:{},u=e.getHierarchicalFacetByName(i);Object.keys(c).forEach((function(t){var i,o=c[t];if(u){i=O(e.hierarchicalFacets,(function(e){return e.name===u.name}));var l=O(r.hierarchicalFacets[i],(function(e){return e.attribute===t}));if(-1===l)return;r.hierarchicalFacets[i][l].data=R({},r.hierarchicalFacets[i][l].data,o)}else{i=s[t];var h=n.facets&&n.facets[t]||{};r.disjunctiveFacets[i]={name:t,data:S({},o,h),exhaustive:a.exhaustiveFacetsCount},q(r.disjunctiveFacets[i],a.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach((function(n){!r.disjunctiveFacets[i].data[n]&&-1<e.disjunctiveFacetsRefinements[t].indexOf(n)&&(r.disjunctiveFacets[i].data[n]=0)}))}})),o++})),e.getRefinedHierarchicalFacets().forEach((function(n){var i=e.getHierarchicalFacetByName(n),a=e._getHierarchicalFacetSeparator(i),s=e.getHierarchicalRefinement(n);if(!(0===s.length||s[0].split(a).length<2)){var c=t[o],u=c&&c.facets?c.facets:{};Object.keys(u).forEach((function(t){var n=u[t],o=O(e.hierarchicalFacets,(function(e){return e.name===i.name})),c=O(r.hierarchicalFacets[o],(function(e){return e.attribute===t}));if(-1!==c){var l={};if(0<s.length){var h=s[0].split(a)[0];l[h]=r.hierarchicalFacets[o][c].data[h]}r.hierarchicalFacets[o][c].data=S(l,n,r.hierarchicalFacets[o][c].data)}})),o++}})),Object.keys(e.facetsExcludes).forEach((function(t){var i=e.facetsExcludes[t],s=a[t];r.facets[s]={name:t,data:n.facets[t],exhaustive:n.exhaustiveFacetsCount},i.forEach((function(e){r.facets[s]=r.facets[s]||{name:t},r.facets[s].data=r.facets[s].data||{},r.facets[s].data[e]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(H(e)),this.facets=M(this.facets),this.disjunctiveFacets=M(this.disjunctiveFacets),this._state=e}function B(e,t){if(!t.data||0===t.data.length)return t;var n=t.data.map((function(t){return B(e,t)})),r=e(n);return R({},t,{data:r})}function U(e,t){var n=P(e,(function(e){return e.name===t}));return n&&n.stats}function Q(e,t,n,r,i){var a=P(i,(function(e){return e.name===n})),s=a&&a.data&&a.data[r]?a.data[r]:0,o=a&&a.exhaustive||!1;return{type:t,attributeName:n,name:r,count:s,exhaustive:o}}W.prototype.getFacetByName=function(e){function t(t){return t.name===e}return P(this.facets,t)||P(this.disjunctiveFacets,t)||P(this.hierarchicalFacets,t)},W.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],W.prototype.getFacetValues=function(e,t){var n=function(e,t){function n(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var r=P(e.facets,n);return r?Object.keys(r.data).map((function(n){return{name:n,count:r.data[n],isRefined:e._state.isFacetRefined(t,n),isExcluded:e._state.isExcludeRefined(t,n)}})):[]}if(e._state.isDisjunctiveFacet(t)){var i=P(e.disjunctiveFacets,n);return i?Object.keys(i.data).map((function(n){return{name:n,count:i.data[n],isRefined:e._state.isDisjunctiveFacetRefined(t,n)}})):[]}if(e._state.isHierarchicalFacet(t))return P(e.hierarchicalFacets,n)}(this,e);if(n){var r=S({},t,{sortBy:W.DEFAULT_SORT});if(Array.isArray(r.sortBy)){var i=L(r.sortBy,W.DEFAULT_SORT);return Array.isArray(n)?A(n,i[0],i[1]):B((function(e){return A(e,i[0],i[1])}),n)}if("function"==typeof r.sortBy)return Array.isArray(n)?n.sort(r.sortBy):B((function(e){return t=r.sortBy,e.sort(t);var t}),n);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}},W.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?U(this.facets,e):this._state.isDisjunctiveFacet(e)?U(this.disjunctiveFacets,e):void 0},W.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach((function(r){e.facetsRefinements[r].forEach((function(i){n.push(Q(e,"facet",r,i,t.facets))}))})),Object.keys(e.facetsExcludes).forEach((function(r){e.facetsExcludes[r].forEach((function(i){n.push(Q(e,"exclude",r,i,t.facets))}))})),Object.keys(e.disjunctiveFacetsRefinements).forEach((function(r){e.disjunctiveFacetsRefinements[r].forEach((function(i){n.push(Q(e,"disjunctive",r,i,t.disjunctiveFacets))}))})),Object.keys(e.hierarchicalFacetsRefinements).forEach((function(r){e.hierarchicalFacetsRefinements[r].forEach((function(i){var a,s,o,c,u,l,h,d,f,m,p,g;n.push((a=e,s=r,o=i,c=t.hierarchicalFacets,u=a.getHierarchicalFacetByName(s),l=a._getHierarchicalFacetSeparator(u),h=o.split(l),d=P(c,(function(e){return e.name===s})),f=h.reduce((function(e,t){var n=e&&P(e.data,(function(e){return e.name===t}));return void 0!==n?n:e}),d),m=f&&f.count||0,p=f&&f.exhaustive||!1,g=f&&f.path||"",{type:"hierarchical",attributeName:s,name:g,count:m,exhaustive:p}))}))})),Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t];Object.keys(r).forEach((function(e){r[e].forEach((function(r){n.push({type:"numeric",attributeName:t,name:r,numericValue:r,operator:e})}))}))})),e.tagRefinements.forEach((function(e){n.push({type:"tag",attributeName:"_tags",name:e})})),n};var $=W;function V(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var z=V;function K(e){return"function"==typeof e}function J(e){return"object"==typeof e&&null!==e}function Y(e){return void 0===e}(V.EventEmitter=V).prototype._events=void 0,V.prototype._maxListeners=void 0,V.defaultMaxListeners=10,V.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},V.prototype.emit=function(e){var t,n,r,i,a,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||J(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var o=new Error('Uncaught, unspecified "error" event. ('+t+")");throw o.context=t,o}if(Y(n=this._events[e]))return!1;if(K(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(J(n))for(i=Array.prototype.slice.call(arguments,1),r=(s=n.slice()).length,a=0;a<r;a++)s[a].apply(this,i);return!0},V.prototype.on=V.prototype.addListener=function(e,t){var n;if(!K(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,K(t.listener)?t.listener:t),this._events[e]?J(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,J(this._events[e])&&!this._events[e].warned&&(n=Y(this._maxListeners)?V.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},V.prototype.once=function(e,t){if(!K(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},V.prototype.removeListener=function(e,t){var n,r,i,a;if(!K(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||K(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(J(n)){for(a=i;0<a--;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},V.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(K(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},V.prototype.listeners=function(e){return this._events&&this._events[e]?K(this._events[e])?[this._events[e]]:this._events[e].slice():[]},V.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(K(t))return 1;if(t)return t.length}return 0},V.listenerCount=function(e,t){return e.listenerCount(t)};var G=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function X(e,t){this.main=e,this.fn=t,this.lastResults=null}G(X,z.EventEmitter),X.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},X.prototype.getModifiedState=function(e){return this.fn(e)};var Z=X,ee={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:ee._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach((function(r){n.push({indexName:e,params:ee._getDisjunctiveFacetSearchParams(t,r)})})),t.getRefinedHierarchicalFacets().forEach((function(r){var i=t.getHierarchicalFacetByName(r),a=t.getHierarchicalRefinement(r),s=t._getHierarchicalFacetSeparator(i);0<a.length&&1<a[0].split(s).length&&n.push({indexName:e,params:ee._getDisjunctiveFacetSearchParams(t,r,!0)})})),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(ee._getHitsHierarchicalFacetsAttributes(e)),n=ee._getFacetFilters(e),r=ee._getNumericFilters(e),i={facets:t,tagFilters:ee._getTagFilters(e)};return 0<n.length&&(i.facetFilters=n),0<r.length&&(i.numericFilters=r),R({},e.getQueryParams(),i)},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=ee._getFacetFilters(e,t,n),i=ee._getNumericFilters(e,t),a={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:ee._getTagFilters(e),analytics:!1,clickAnalytics:!1},s=e.getHierarchicalFacetByName(t);return a.facets=s?ee._getDisjunctiveHierarchicalFacetAttribute(e,s,n):t,0<i.length&&(a.numericFilters=i),0<r.length&&(a.facetFilters=r),R({},e.getQueryParams(),a)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach((function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach((function(e){var a=i[e]||[];t!==r&&a.forEach((function(t){if(Array.isArray(t)){var i=t.map((function(t){return r+e+t}));n.push(i)}else n.push(r+e+t)}))}))})),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).forEach((function(e){(i[e]||[]).forEach((function(t){r.push(e+":"+t)}))}));var a=e.facetsExcludes||{};Object.keys(a).forEach((function(e){(a[e]||[]).forEach((function(t){r.push(e+":-"+t)}))}));var s=e.disjunctiveFacetsRefinements||{};Object.keys(s).forEach((function(e){var n=s[e]||[];if(e!==t&&n&&0!==n.length){var i=[];n.forEach((function(t){i.push(e+":"+t)})),r.push(i)}}));var o=e.hierarchicalFacetsRefinements||{};return Object.keys(o).forEach((function(i){var a=(o[i]||[])[0];if(void 0!==a){var s,c,u=e.getHierarchicalFacetByName(i),l=e._getHierarchicalFacetSeparator(u),h=e._getHierarchicalRootPath(u);if(t===i){if(-1===a.indexOf(l)||!h&&!0===n||h&&h.split(l).length===a.split(l).length)return;a=h?(c=h.split(l).length-1,h):(c=a.split(l).length-2,a.slice(0,a.lastIndexOf(l))),s=u.attributes[c]}else c=a.split(l).length-1,s=u.attributes[c];s&&r.push([s+":"+a])}})),r},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce((function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(n),a=r.split(i).length,s=n.attributes.slice(0,a+1);return t.concat(s)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(r).length),[t.attributes[a]]}var s=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,1+s)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,a={facetQuery:t,facetName:e};return"number"==typeof n&&(a.maxFacetHits=n),R({},ee._getHitsSearchParams(i),a)}},te=ee,ne="3.4.4";function re(e,t,n){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.4.4)"),this.setClient(e);var r=n||{};r.index=t,this.state=E.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function ie(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function ae(){return this.state.page}G(re,z.EventEmitter),re.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},re.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},re.prototype.getQuery=function(){var e=this.state;return te._getHitsSearchParams(e)},re.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=te._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!t)return this.client.search(r).then((function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new $(n,e.results),state:n,_originalResponse:e}}),(function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e}));this.client.search(r).then((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new $(n,e.results),n)})).catch((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,n)}))},re.prototype.findAnswers=function(e){var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=R({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:N(te._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(a);var s=this.client.initIndex(r.index);if("function"!=typeof s.findAnswers)throw new Error(a);return s.findAnswers(r.query,e.queryLanguages,i)},re.prototype.searchForFacetValues=function(e,t,n,r){var i="function"==typeof this.client.searchForFacetValues;if(!i&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),s=a.isDisjunctiveFacet(e),o=te.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var c=this;return this.emit("searchForFacetValues",{state:a,facet:e,query:t}),(i?this.client.searchForFacetValues([{indexName:a.index,params:o}]):this.client.initIndex(a.index).searchForFacetValues(o)).then((function(t){return c._currentNbQueries--,0===c._currentNbQueries&&c.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach((function(t){t.isRefined=s?a.isDisjunctiveFacetRefined(e,t.value):a.isFacetRefined(e,t.value)})),t}),(function(e){throw c._currentNbQueries--,0===c._currentNbQueries&&c.emit("searchQueueEmpty"),e}))},re.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},re.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},re.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},re.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},re.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},re.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},re.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},re.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},re.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},re.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},re.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},re.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},re.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},re.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},re.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},re.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},re.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},re.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},re.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},re.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},re.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},re.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},re.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},re.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},re.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},re.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},re.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},re.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},re.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},re.prototype.setCurrentPage=ie,re.prototype.setPage=ie,re.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},re.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},re.prototype.setState=function(e){return this._change({state:E.make(e),isPageReset:!1}),this},re.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new E(e),this},re.prototype.hasRefinements=function(e){return!!I(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},re.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},re.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},re.prototype.hasTag=function(e){return this.state.isTagRefined(e)},re.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},re.prototype.getIndex=function(){return this.state.index},re.prototype.getCurrentPage=ae,re.prototype.getPage=ae,re.prototype.getTags=function(){return this.state.tagRefinements},re.prototype.getRefinements=function(e){var t=[];this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"conjunctive"})})),this.state.getExcludeRefinements(e).forEach((function(e){t.push({value:e,type:"exclude"})}))):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"disjunctive"})}));var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach((function(e){var r=n[e];t.push({value:r,operator:e,type:"numeric"})})),t},re.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},re.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},re.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=te._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map((function(e){var r=e.getModifiedState(t),i=te._getQueries(r.index,r);return n.push({state:r,queriesCount:i.length,helper:e}),e.emit("search",{state:r,results:e.lastResults}),i})),a=Array.prototype.concat.apply(r,i),s=this._queryId++;this._currentNbQueries++;try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,n,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(o){this.emit("error",{error:o})}},re.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var r=n.results.slice();e.forEach((function(e){var t=e.state,n=e.queriesCount,i=e.helper,a=r.splice(0,n),s=i.lastResults=new $(t,a);i.emit("result",{results:s,state:t})}))}},re.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},re.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},re.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&0<this.state.disjunctiveRefinements[e].length},re.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},re.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},re.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.4.4)"),this.client=e),this},re.prototype.getClient=function(){return this.client},re.prototype.derive=function(e){var t=new Z(this,e);return this.derivedHelpers.push(t),t},re.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},re.prototype.hasPendingRequests=function(){return 0<this._currentNbQueries};var se=re;function oe(e,t,n){return new se(e,t,n)}oe.version=ne,oe.AlgoliaSearchHelper=se,oe.SearchParameters=E,oe.SearchResults=$;var ce=oe;function ue(e){function t(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];null===n&&(n=le.then((function(){n=null,r?r=!1:e.apply(void 0,i)})))}var n=null,r=!1;return t.wait=function(){if(null===n)throw new Error("The deferred function should be called before calling `wait()`");return n},t.cancel=function(){null!==n&&(r=!0)},t}var le=Promise.resolve();function he(e){var t,n="string"==typeof e,r=n?document.querySelector(e):e;if((t=r)instanceof HTMLElement||Boolean(t)&&0<t.nodeType)return r;var i="Container must be `string` or `HTMLElement`.";throw n&&(i+=" Unable to find ".concat(e)),new Error(i)}function de(e){return 1===e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}function fe(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}function me(e){var t=e.defaultTemplates,n=e.templates;return o({templatesConfig:e.templatesConfig},function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return fe([].concat(p(Object.keys(e||{})),p(Object.keys(n)))).reduce((function(t,r){var i=e?e[r]:void 0,a=n[r],s=void 0!==a&&a!==i;return t.templates[r]=s?a:i,t.useCustomCompileOptions[r]=s,t}),{templates:{},useCustomCompileOptions:{}})}(t,n))}function pe(e,t){return e(t={exports:{}},t.exports),t.exports}var ge=pe((function(e,t){!function(e){var t=/\S/,n=/\"/g,r=/\n/g,i=/\r/g,a=/\\/g,s=/\u2028/,o=/\u2029/;function c(e){"}"===e.n.substr(e.n.length-1)&&(e.n=e.n.substring(0,e.n.length-1))}function u(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function l(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var r=1,i=e.length;r<i;r++)if(t.charAt(n+r)!=e.charAt(r))return!1;return!0}e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(n,r){var i,a,s,o,h,d=n.length,f=0,m=null,p=null,g="",v=[],y=!1,b=0,S=0,R="{{",w="}}";function P(){0<g.length&&(v.push({tag:"_t",text:new String(g)}),g="")}function x(n,r){if(P(),n&&function(){for(var n=!0,r=S;r<v.length;r++)if(!(n=e.tags[v[r].tag]<e.tags._v||"_t"==v[r].tag&&null===v[r].text.match(t)))return!1;return n}())for(var i,a=S;a<v.length;a++)v[a].text&&((i=v[a+1])&&">"==i.tag&&(i.indent=v[a].text.toString()),v.splice(a,1));else r||v.push({tag:"\n"});y=!1,S=v.length}for(r&&(R=(r=r.split(" "))[0],w=r[1]),b=0;b<d;b++)0==f?l(R,n,b)?(--b,P(),f=1):"\n"==n.charAt(b)?x(y):g+=n.charAt(b):1==f?(b+=R.length-1,f="="==(m=(p=e.tags[n.charAt(b+1)])?n.charAt(b+1):"_v")?(a=b,s="="+w,o=(i=n).indexOf(s,a),R=(h=u(i.substring(i.indexOf("=",a)+1,o)).split(" "))[0],w=h[h.length-1],b=o+s.length-1,0):(p&&b++,2),y=b):l(w,n,b)?(v.push({tag:m,n:u(g),otag:R,ctag:w,i:"/"==m?y-R.length:b+w.length}),g="",b+=w.length-1,f=0,"{"==m&&("}}"==w?b++:c(v[v.length-1]))):g+=n.charAt(b);return x(y,!0),v};var h={_t:!0,"\n":!0,$:!0,"/":!0};function d(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n].o==e.n)return e.tag="#",!0}function f(e,t,n){for(var r=0,i=n.length;r<i;r++)if(n[r].c==e&&n[r].o==t)return!0}function m(e){var t=[];for(var n in e.partials)t.push('"'+g(n)+'":{name:"'+g(e.partials[n].name)+'", '+m(e.partials[n])+"}");return"partials: {"+t.join(",")+"}, subs: "+function(e){var t=[];for(var n in e)t.push('"'+g(n)+'": function(c,p,t,i) {'+e[n]+"}");return"{ "+t.join(",")+" }"}(e.subs)}e.stringify=function(t,n,r){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+m(t)+"}"};var p=0;function g(e){return e.replace(a,"\\\\").replace(n,'\\"').replace(r,"\\n").replace(i,"\\r").replace(s,"\\u2028").replace(o,"\\u2029")}function v(e){return~e.indexOf(".")?"d":"f"}function y(e,t){var n="<"+(t.prefix||"")+e.n+p++;return t.partials[n]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+g(n)+'",c,p,"'+(e.indent||"")+'"));',n}function b(e,t){t.code+="t.b(t.t(t."+v(e.n)+'("'+g(e.n)+'",c,p,0)));'}function S(e){return"t.b("+e+");"}e.generate=function(t,n,r){p=0;var i={code:"",subs:{},partials:{}};return e.walk(t,i),r.asString?this.stringify(i,n,r):this.makeTemplate(i,n,r)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,n){var r=this.makePartials(e);return r.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(r,t,this,n)},e.makePartials=function(e){var t,n={subs:{},partials:e.partials,name:e.name};for(t in n.partials)n.partials[t]=this.makePartials(n.partials[t]);for(t in e.subs)n.subs[t]=new Function("c","p","t","i",e.subs[t]);return n},e.codegen={"#":function(t,n){n.code+="if(t.s(t."+v(t.n)+'("'+g(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,n),n.code+="});c.pop();}"},"^":function(t,n){n.code+="if(!t.s(t."+v(t.n)+'("'+g(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,n),n.code+="};"},">":y,"<":function(t,n){var r={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,r);var i=n.partials[y(t,n)];i.subs=r.subs,i.partials=r.partials},$:function(t,n){var r={subs:{},code:"",partials:n.partials,prefix:t.n};e.walk(t.nodes,r),n.subs[t.n]=r.code,n.inPartial||(n.code+='t.sub("'+g(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=S('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+v(e.n)+'("'+g(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=S('"'+g(e.text)+'"')},"{":b,"&":b},e.walk=function(t,n){for(var r,i=0,a=t.length;i<a;i++)(r=e.codegen[t[i].tag])&&r(t[i],n);return n},e.parse=function(t,n,r){return function t(n,r,i,a){var s,o=[],c=null,u=null;for(s=i[i.length-1];0<n.length;){if(u=n.shift(),s&&"<"==s.tag&&!(u.tag in h))throw new Error("Illegal content in < super tag.");if(e.tags[u.tag]<=e.tags.$||d(u,a))i.push(u),u.nodes=t(n,u.tag,i,a);else{if("/"==u.tag){if(0===i.length)throw new Error("Closing tag without opener: /"+u.n);if(c=i.pop(),u.n!=c.n&&!f(u.n,c.n,a))throw new Error("Nesting error: "+c.n+" vs. "+u.n);return c.end=u.i,o}"\n"==u.tag&&(u.last=0==n.length||"\n"==n[0].tag)}o.push(u)}if(0<i.length)throw new Error("missing closing tag: "+i.pop().n);return o}(t,0,[],(r=r||{}).sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},e.compile=function(t,n){n=n||{};var r=e.cacheKey(t,n),i=this.cache[r];if(i){var a=i.partials;for(var s in a)delete a[s].instance;return i}return i=this.generate(this.parse(this.scan(t,n.delimiters),t,n),t,n),this.cache[r]=i}}(t)})),ve=pe((function(e,t){!function(e){function t(e,t,n){var r;return t&&"object"==typeof t&&(void 0!==t[e]?r=t[e]:n&&t.get&&"function"==typeof t.get&&(r=t.get(e))),r}e.Template=function(e,t,n,r){e=e||{},this.r=e.code||this.r,this.c=n,this.options=r||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,n){return""},v:function(e){return e=c(e),o.test(e)?e.replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(a,"&#39;").replace(s,"&quot;"):e},t:c,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},ep:function(e,t){var n=this.partials[e],r=t[n.name];if(n.instance&&n.base==r)return n.instance;if("string"==typeof r){if(!this.c)throw new Error("No compiler available.");r=this.c.compile(r,this.options)}if(!r)return null;if(this.partials[e].base=r,n.subs){for(key in t.stackText||(t.stackText={}),n.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);r=function(e,t,n,r,i,a){function s(){}function o(){}var c;o.prototype=(s.prototype=e).subs;var u=new s;for(c in u.subs=new o,u.subsText={},u.buf="",r=r||{},u.stackSubs=r,u.subsText=a,t)r[c]||(r[c]=t[c]);for(c in r)u.subs[c]=r[c];for(c in i=i||{},u.stackPartials=i,n)i[c]||(i[c]=n[c]);for(c in i)u.partials[c]=i[c];return u}(r,n.subs,n.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=r},rp:function(e,t,n,r){var i=this.ep(e,n);return i?i.ri(t,n,r):""},rs:function(e,t,n){var r=e[e.length-1];if(u(r))for(var i=0;i<r.length;i++)e.push(r[i]),n(e,t,this),e.pop();else n(e,t,this)},s:function(e,t,n,r,i,a,s){var o;return(!u(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,n,r,i,a,s)),o=!!e,!r&&o&&t&&t.push("object"==typeof e?e:t[t.length-1]),o)},d:function(e,n,r,i){var a,s=e.split("."),o=this.f(s[0],n,r,i),c=this.options.modelGet,l=null;if("."===e&&u(n[n.length-2]))o=n[n.length-1];else for(var h=1;h<s.length;h++)o=void 0!==(a=t(s[h],o,c))?(l=o,a):"";return!(i&&!o)&&(i||"function"!=typeof o||(n.push(l),o=this.mv(o,n,r),n.pop()),o)},f:function(e,n,r,i){for(var a=!1,s=!1,o=this.options.modelGet,c=n.length-1;0<=c;c--)if(void 0!==(a=t(e,n[c],o))){s=!0;break}return s?(i||"function"!=typeof a||(a=this.mv(a,n,r)),a):!i&&""},ls:function(e,t,n,r,i){var a=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(c(e.call(t,r)),t,n)),this.options.delimiters=a,!1},ct:function(e,t,n){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,n)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,n,r,i,a,s){var o,c=t[t.length-1],u=e.call(c);return"function"==typeof u?!!r||(o=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(u,c,n,o.substring(i,a),s)):u},mv:function(e,t,n){var r=t[t.length-1],i=e.call(r);return"function"==typeof i?this.ct(c(i.call(r)),r,n):i},sub:function(e,t,n,r){var i=this.subs[e];i&&(this.activeSub=e,i(t,n,this,r),this.activeSub=!1)}};var n=/&/g,r=/</g,i=/>/g,a=/\'/g,s=/\"/g,o=/[&<>\"\']/;function c(e){return String(null==e?"":e)}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(t)}));ge.Template=ve.Template,ge.template=ge.Template;var ye=ge;function be(t){var n=t.templates,r=t.templateKey,a=t.compileOptions,s=t.helpers,c=t.data,u=t.bindEvent,l=n[r],h=e(l),d="function"===h;if("string"!==h&&!d)throw new Error("Template must be 'string' or 'function', was '".concat(h,"' (key: ").concat(r,")"));if(d)return l(c,u);var f=function(e,t,n){var r=0<arguments.length&&void 0!==e?e:{},a=1<arguments.length?t:void 0,s=2<arguments.length?n:void 0;return Object.keys(r).reduce((function(e,t){return o(o({},e),{},i({},t,(function(){var e=this;return function(n){return r[t].call(s,n,(function(t){return ye.compile(t,a).render(e)}))}})))}),{})}(s,a,c);return ye.compile(l,a).render(o(o({},c),{},{helpers:f})).replace(/[ \n\r\t\f\xA0]+/g,(function(e){return e.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")})).trim()}function Se(e,t){for(var n,r=0;r<e.length;r++)if(t(n=e[r],r,e))return n}function Re(e){return String(e).replace(/^\\-/,"-")}function we(e,t,n,r,i){var a,s={type:t,attribute:n,name:r},o=Se(4<arguments.length&&void 0!==i?i:[],(function(e){return e.name===n}));"hierarchical"===t?function(){for(var t=e.getHierarchicalFacetByName(n),i=r.split(t.separator),s=function(e){var t;o=o&&o.data&&Se(Object.keys(o.data).map((t=o.data,function(e){return t[e]})),(function(t){return t.name===i[e]}))},c=0;void 0!==o&&c<i.length;++c)s(c);a=o&&o.count}():a=o&&o.data&&o.data[s.name];var c=o&&o.exhaustive;return void 0!==a&&(s.count=a),void 0!==c&&(s.exhaustive=c),s}function Pe(e,t,n){var r=2<arguments.length&&void 0!==n&&n,i=[],a=t.facetsRefinements,s=void 0===a?{}:a,o=t.facetsExcludes,c=void 0===o?{}:o,u=t.disjunctiveFacetsRefinements,l=void 0===u?{}:u,h=t.hierarchicalFacetsRefinements,d=void 0===h?{}:h,f=t.numericRefinements,m=void 0===f?{}:f,p=t.tagRefinements,g=void 0===p?[]:p;return Object.keys(s).forEach((function(n){s[n].forEach((function(r){i.push(we(t,"facet",n,r,e.facets))}))})),Object.keys(c).forEach((function(e){c[e].forEach((function(t){i.push({type:"exclude",attribute:e,name:t,exclude:!0})}))})),Object.keys(l).forEach((function(n){l[n].forEach((function(r){i.push(we(t,"disjunctive",n,Re(r),e.disjunctiveFacets))}))})),Object.keys(d).forEach((function(n){d[n].forEach((function(r){i.push(we(t,"hierarchical",n,r,e.hierarchicalFacets))}))})),Object.keys(m).forEach((function(e){var t=m[e];Object.keys(t).forEach((function(n){var r=n,a=t[r];(Array.isArray(a)?a:[a]).forEach((function(t){i.push({type:"numeric",attribute:e,name:"".concat(t),numericValue:t,operator:r})}))}))})),g.forEach((function(e){i.push({type:"tag",attribute:"_tags",name:e})})),r&&t.query&&t.query.trim()&&i.push({attribute:"query",type:"query",name:t.query,query:t.query}),i}function xe(e){var t=e.helper,n=e.attributesToClear,r=void 0===n?[]:n,i=t.state.setPage(0);return i=r.reduce((function(e,t){return i.isNumericRefined(t)?e.removeNumericRefinement(t):i.isHierarchicalFacet(t)?e.removeHierarchicalFacetRefinement(t):i.isDisjunctiveFacet(t)?e.removeDisjunctiveFacetRefinement(t):i.isConjunctiveFacet(t)?e.removeFacetRefinement(t):e}),i),-1!==r.indexOf("query")&&(i=i.setQuery("")),i}function Ne(e){return"number"==typeof e&&e<0&&(e=String(e).replace(/^-/,"\\-")),e}function Ie(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat((n=e,Object.prototype.toString.call(n).slice(8,-1)),").\n\n").concat(t));var n}function _e(){}function Te(e,t){return(Array.isArray(t)?t:t.split(".")).reduce((function(e,t){return e&&e[t]}),e)}function Fe(e){return"number"==typeof e&&isFinite(e)}function Ce(t){if("object"!==e(n=t)||null===n||"[object Object]"!==function(e){return null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(t))return!1;var n;if(null===Object.getPrototypeOf(t))return!0;for(var r=t;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}function ke(e){var t=e.start,n=void 0===t?0:t,r=e.end,i=e.step,a=void 0===i?1:i,s=0===a?1:a,o=Math.round((r-n)/s);return p(Array(o)).map((function(e,t){return n+t*s}))}function Ee(e){return e!==Object(e)}function je(e,t){if(e===t)return!0;if(Ee(e)||Ee(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t))return!1;if(!je(e[i],t[i]))return!1}return!0}var Me={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Oe=/[&<>"']/g,Le=RegExp(Oe.source),Ae={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},He=/&(amp|quot|lt|gt|#39);/g,De=RegExp(He.source),qe={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},We={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function Be(e){return(t=e,t&&Le.test(t)?t.replace(Oe,(function(e){return Me[e]})):t).replace(new RegExp(qe.highlightPreTag,"g"),We.highlightPreTag).replace(new RegExp(qe.highlightPostTag,"g"),We.highlightPostTag);var t}function Ue(e){return Ce(e)&&"string"!=typeof e.value?Object.keys(e).reduce((function(t,n){return o(o({},t),{},i({},n,Ue(e[n])))}),{}):Array.isArray(e)?e.map(Ue):o(o({},e),{},{value:Be(e.value)})}function Qe(e){return void 0===e.__escaped&&((e=e.map((function(e){var t=a({},e);return t._highlightResult&&(t._highlightResult=Ue(t._highlightResult)),t._snippetResult&&(t._snippetResult=Ue(t._snippetResult)),t}))).__escaped=!0),e}function $e(e){return e.map((function(e){return o(o({},e),{},{highlighted:Be(e.highlighted)})}))}function Ve(e){var t=We.highlightPreTag,n=We.highlightPostTag;return e.map((function(e){return e.isHighlighted?t+e.value+n:e.value})).join("")}function ze(e){var t=We.highlightPostTag,n=We.highlightPreTag,r=e.split(n),i=r.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return r.forEach((function(e){var n=e.split(t);a.push({value:n[0],isHighlighted:!0}),""!==n[1]&&a.push({value:n[1],isHighlighted:!1})})),a}var Ke=new RegExp(/\w/i);function Je(e,t){var n,r,i,a=e[t],s=(null===(n=e[t+1])||void 0===n?void 0:n.isHighlighted)||!0,o=(null===(r=e[t-1])||void 0===r?void 0:r.isHighlighted)||!0;return Ke.test((i=a.value)&&De.test(i)?i.replace(He,(function(e){return Ae[e]})):i)||o!==s?a.isHighlighted:o}function Ye(e){return e.some((function(e){return e.isHighlighted}))?e.map((function(t,n){return o(o({},t),{},{isHighlighted:!Je(e,n)})})):e.map((function(e){return o(o({},e),{},{isHighlighted:!1})}))}function Ge(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce((function(e,t){var n=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(e,(function(e){return e.name===t.name}));if(-1===n)return e.concat(t);var r=e.slice();return r.splice(n,1,t),r}),e.hierarchicalFacets)})}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n,r;return function(e,t){t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts;var n=h(t,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return e.setQueryParameters(n)}(function(e,t){return t.facets.reduce((function(e,t){return e.addFacet(t)}),e)}(function(e,t){var n=fe([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return 0<n.length?e.setQueryParameters({ruleContexts:n}):e}(function(e,t){return t.disjunctiveFacets.reduce((function(e,t){return e.addDisjunctiveFacet(t)}),e)}(function(e,t){return e.setQueryParameters({facetsRefinements:o(o({},e.facetsRefinements),t.facetsRefinements)})}(function(e,t){return e.setQueryParameters({facetsExcludes:o(o({},e.facetsExcludes),t.facetsExcludes)})}(function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:o(o({},e.disjunctiveFacetsRefinements),t.disjunctiveFacetsRefinements)})}(function(e,t){return e.setQueryParameters({numericRefinements:o(o({},e.numericRefinements),t.numericRefinements)})}(function(e,t){return t.tagRefinements.reduce((function(e,t){return e.addTagRefinement(t)}),e)}(Ge((r=t,(n=e).setQueryParameters({hierarchicalFacetsRefinements:o(o({},n.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})),t),t),t),t),t),t),t),t),t),t)}))}function Ze(e){return Array.isArray(e)?e:[e]}function et(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return n=(t=e).name,r=t.connector,["https://www.algolia.com/doc/api-reference/widgets/",n,"/js/",void 0!==r&&r?"#connector":""].join("");var t,n,r})).join(", ");return function(e){return[e,"See documentation: ".concat(r)].filter(Boolean).join("\n\n")}}var tt=/^(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)$/;function nt(e){return Array.isArray(e)?function(e){var t=m(e,1)[0],n=m(t=void 0===t?[void 0,void 0,void 0,void 0]:t,4),r=n[0],i=n[1],a=n[2],s=n[3];if(!(r&&i&&a&&s))throw new Error('Invalid value for "insideBoundingBox" parameter: ['.concat(e,"]"));return{northEast:{lat:r,lng:i},southWest:{lat:a,lng:s}}}(e):function(e){var t=m(e.split(",").map(parseFloat),4),n=t[0],r=t[1],i=t[2],a=t[3];if(!(n&&r&&i&&a))throw new Error('Invalid value for "insideBoundingBox" parameter: "'.concat(e,'"'));return{northEast:{lat:n,lng:r},southWest:{lat:i,lng:a}}}(e)}function rt(e,t,n){return e.map((function(e,r){return o(o({},e),{},{__position:n*t+r+1})}))}function it(e,t){return t?e.map((function(e){return o(o({},e),{},{__queryID:t})})):e}function at(t){var n=t.instantSearchInstance,r=t.helper,i=t.attribute,a=t.widgetType;return function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];var c,u,l,h=s[0],d=s[1],f=s[2],m=void 0===f?"Filter Applied":f;1===s.length&&"object"===e(s[0])?n.sendEventToInsights(s[0]):"click"!==h||2!==s.length&&3!==s.length||(u=i,l=d,(c=r).state.isHierarchicalFacet(u)?c.state.isHierarchicalFacetRefined(u,l):c.state.isConjunctiveFacet(u)?c.state.isFacetRefined(u,l):c.state.isDisjunctiveFacetRefined(u,l))||n.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:a,eventType:h,payload:{eventName:m,index:r.getIndex(),filters:["".concat(i,":").concat(d)]}})}}function st(t){var n=t.index,r=t.widgetType,i=(t.methodName,t.args);if(1===i.length&&"object"===e(i[0]))return i[0];var a=i[0],s=i[1],o=i[2];if(!s)return null;if(("click"===a||"conversion"===a)&&!o)return null;var c=Array.isArray(s)?s:[s];if(0===c.length)return null;var u=c[0].__queryID,l=c.map((function(e){return e.objectID})),h=c.map((function(e){return e.__position}));return"view"===a?{insightsMethod:"viewedObjectIDs",widgetType:r,eventType:a,payload:{eventName:o||"Hits Viewed",index:n,objectIDs:l}}:"click"===a?{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:r,eventType:a,payload:{eventName:o,index:n,queryID:u,objectIDs:l,positions:h}}:"conversion"===a?{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:r,eventType:a,payload:{eventName:o,index:n,queryID:u,objectIDs:l}}:null}function ot(e){var t=e.instantSearchInstance,n=e.index,r=e.widgetType;return function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var s=st({widgetType:r,index:n,methodName:"sendEvent",args:i});s&&t.sendEventToInsights(s)}}function ct(e){var t=e.index,n=e.widgetType;return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=st({widgetType:n,index:t,methodName:"bindEvent",args:r});return a?"data-insights-event=".concat(btoa(JSON.stringify(a))):""}}function ut(e,t){if(!e)return null;var n=e.numericRefinements[t],r=[];return Object.keys(n).filter((function(e){return Array.isArray(n[e])&&0<n[e].length})).forEach((function(e){n[e].forEach((function(n){r.push("".concat(t).concat(e).concat(n))}))})),r}var lt=et({name:"index-widget"});function ht(e){return"ais.index"===e.$$type}function dt(e,t){var n=t.state,r=t.isPageReset,i=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:r,_uiState:i}))}function ft(e,t,n){var r=2<arguments.length&&void 0!==n?n:{};return e.filter((function(e){return!ht(e)})).reduce((function(e,n){return n.getWidgetUiState||n.getWidgetState?n.getWidgetUiState?n.getWidgetUiState(e,t):n.getWidgetState(e,t):e}),r)}function mt(e,t){var n=t.initialSearchParameters,r=h(t,["initialSearchParameters"]);return e.filter((function(e){return!ht(e)})).reduce((function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,r):e}),n)}function pt(e){if(void 0===e||void 0===e.indexName)throw new Error(lt("The `indexName` option is required."));var t=e.indexName,n=e.indexId,r=void 0===n?t:n,a=[],s={},c=null,u=null,l=null,h=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return t},getIndexId:function(){return r},getHelper:function(){return l},getResults:function(){return h&&h.lastResults},getScopedResults:function(){var e=this.getParent();return function e(t){return t.filter(ht).reduce((function(t,n){return t.concat.apply(t,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(p(e(n.getWidgets()))))}),[])}(e?e.getWidgets():[this])},getParent:function(){return u},createURL:function(e){return c._createURL(i({},r,ft(a,{searchParameters:e,helper:l})))},getWidgets:function(){return a},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(lt("The `addWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(lt("The widget definition expects a `render` and/or an `init` method."));return a=a.concat(e),c&&Boolean(e.length)&&(dt(l,{state:mt(a,{uiState:s,initialSearchParameters:l.state}),_uiState:s}),e.forEach((function(e){e.getRenderState&&gt({renderState:e.getRenderState(c.renderState[t.getIndexId()]||{},{uiState:c._initialUiState,helper:t.getHelper(),parent:t,instantSearchInstance:c,state:l.state,renderState:c.renderState,templatesConfig:c.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:c._isSearchStalled}}),instantSearchInstance:c,parent:t})})),e.forEach((function(e){e.init&&e.init({helper:l,parent:t,uiState:c._initialUiState,instantSearchInstance:c,state:l.state,renderState:c.renderState,templatesConfig:c.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:c._isSearchStalled}})})),c.scheduleSearch()),this},removeWidgets:function(e){if(!Array.isArray(e))throw new Error(lt("The `removeWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(lt("The widget definition expects a `dispose` method."));if(a=a.filter((function(t){return-1===e.indexOf(t)})),c&&Boolean(e.length)){var t=e.reduce((function(e,t){return t.dispose({helper:l,state:e})||e}),l.state);s=ft(a,{searchParameters:t,helper:l}),l.setState(mt(a,{uiState:s,initialSearchParameters:t})),a.length&&c.scheduleSearch()}return this},init:function(e){var n=this,i=e.instantSearchInstance,o=e.parent,d=e.uiState;if(null===l){c=i,u=o,s=d[r]||{};var f=i.mainHelper,m=mt(a,{uiState:s,initialSearchParameters:new ce.SearchParameters({index:t})});(l=ce({},m.index,m)).search=function(){return i.onStateChange?(i.onStateChange({uiState:i.mainIndex.getWidgetUiState({}),setUiState:i.setUiState.bind(i)}),f):f.search()},l.searchWithoutTriggeringOnStateChange=function(){return f.search()},l.searchForFacetValues=function(e,t,n,r){var i=l.state.setQueryParameters(r);return f.searchForFacetValues(e,t,n,i)},h=f.derive((function(){return Xe.apply(void 0,p(function(e){for(var t=e.getParent(),n=[e.getHelper().state];null!==t;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}(n)))})),l.on("change",(function(e){e.isPageReset&&function e(t){var n=t.filter(ht);0!==n.length&&n.forEach((function(t){var n=t.getHelper();dt(n,{state:n.state.resetPage(),isPageReset:!0}),e(t.getWidgets())}))}(a)})),h.on("search",(function(){i.scheduleStalledRender()})),h.on("result",(function(e){var t=e.results;i.scheduleRender(),l.lastResults=t})),a.forEach((function(e){e.getRenderState&&gt({renderState:e.getRenderState(i.renderState[n.getIndexId()]||{},{uiState:d,helper:l,parent:n,instantSearchInstance:i,state:l.state,renderState:i.renderState,templatesConfig:i.templatesConfig,createURL:n.createURL,scopedResults:[],searchMetadata:{isSearchStalled:i._isSearchStalled}}),instantSearchInstance:i,parent:n})})),a.forEach((function(e){e.init&&e.init({uiState:d,helper:l,parent:n,instantSearchInstance:i,state:l.state,renderState:i.renderState,templatesConfig:i.templatesConfig,createURL:n.createURL,scopedResults:[],searchMetadata:{isSearchStalled:i._isSearchStalled}})})),l.on("change",(function(e){var t=e.state,n=e._uiState;s=ft(a,{searchParameters:t,helper:l},n||{}),i.onStateChange||i.onInternalStateChange()}))}},render:function(e){var t=this,n=e.instantSearchInstance;this.getResults()&&(a.forEach((function(e){e.getRenderState&&gt({renderState:e.getRenderState(n.renderState[t.getIndexId()]||{},{helper:t.getHelper(),parent:t,instantSearchInstance:n,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:n.renderState,templatesConfig:n.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:n._isSearchStalled}}),instantSearchInstance:n,parent:t})})),a.forEach((function(e){e.render&&e.render({helper:l,parent:t,instantSearchInstance:n,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:n.renderState,templatesConfig:n.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:n._isSearchStalled}})})))},dispose:function(){a.forEach((function(e){e.dispose&&e.dispose({helper:l,state:l.state})})),u=c=null,l.removeAllListeners(),l=null,h.detach(),h=null},getWidgetUiState:function(e){return a.filter(ht).reduce((function(e,t){return t.getWidgetUiState(e)}),o(o({},e),{},i({},this.getIndexId(),s)))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){var n=t.uiState;return mt(a,{uiState:n,initialSearchParameters:e})},refreshUiState:function(){s=ft(a,{searchParameters:this.getHelper().state,helper:this.getHelper()})}}}function gt(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,a=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=o(o({},n.renderState),{},i({},a,o(o({},n.renderState[a]),t)))}function vt(e){return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.descendantName,r=t.modifierName,i=n?"-".concat(n):"",a=r?"--".concat(r):"";return"".concat("ais","-").concat(e).concat(i).concat(a)}}var yt=vt("Highlight");function bt(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,a=e.cssClasses,s=void 0===a?{}:a,o=(Te(i._highlightResult,t)||{}).value,c=void 0===o?"":o,u=yt({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return c.replace(new RegExp(We.highlightPreTag,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(We.highlightPostTag,"g"),"</".concat(r,">"))}var St=vt("ReverseHighlight");function Rt(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,a=e.cssClasses,s=void 0===a?{}:a,o=(Te(i._highlightResult,t)||{}).value,c=void 0===o?"":o,u=St({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return Ve(Ye(ze(c))).replace(new RegExp(We.highlightPreTag,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(We.highlightPostTag,"g"),"</".concat(r,">"))}var wt=vt("Snippet");function Pt(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,a=e.cssClasses,s=void 0===a?{}:a,o=(Te(i._snippetResult,t)||{}).value,c=void 0===o?"":o,u=wt({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return c.replace(new RegExp(We.highlightPreTag,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(We.highlightPostTag,"g"),"</".concat(r,">"))}var xt=vt("ReverseSnippet");function Nt(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,a=e.cssClasses,s=void 0===a?{}:a,o=(Te(i._snippetResult,t)||{}).value,c=void 0===o?"":o,u=xt({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return Ve(Ye(ze(c))).replace(new RegExp(We.highlightPreTag,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(We.highlightPostTag,"g"),"</".concat(r,">"))}function It(t,n){return function(t){var n,r=t.method,i=t.payload;if("object"!==e(i))throw new Error("The insights helper expects the payload to be an object.");try{n=btoa(JSON.stringify(i))}catch(a){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(r,'" data-insights-payload="').concat(n,'"')}({method:t,payload:n})}function _t(){return function(e){for(var t="".concat("_ALGOLIA","="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}()}function Tt(e){return e.configure,h(e,["configure"])}function Ft(){return{stateToRoute:function(e){return Object.keys(e).reduce((function(t,n){return o(o({},t),{},i({},n,Tt(e[n])))}),{})},routeToState:function(e){var t=0<arguments.length&&void 0!==e?e:{};return Object.keys(t).reduce((function(e,n){return o(o({},e),{},i({},n,Tt(t[n])))}),{})}}}function Ct(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n}function kt(e,t){Kt.apply(e,zt(t)?t:[t])}function Et(e,t,n,r,i,a,s,o,c,u,l,h,d){var f,m=e;if("function"==typeof s?m=s(t,m):m instanceof Date?m=u(m):"comma"===n&&zt(m)&&(m=m.join(",")),null===m){if(r)return a&&!h?a(t,Gt.encoder,d):t;m=""}if("string"==typeof(f=m)||"number"==typeof f||"boolean"==typeof f||"symbol"==typeof f||"bigint"==typeof f||qt.isBuffer(m))return a?[l(h?t:a(t,Gt.encoder,d))+"="+l(a(m,Gt.encoder,d))]:[l(t)+"="+l(String(m))];var p,g=[];if(void 0===m)return g;if(zt(s))p=s;else{var v=Object.keys(m);p=o?v.sort(o):v}for(var y=0;y<p.length;++y){var b=p[y];i&&null===m[b]||(zt(m)?kt(g,Et(m[b],"function"==typeof n?n(t,b):t,n,r,i,a,s,o,c,u,l,h,d)):kt(g,Et(m[b],t+(c?"."+b:"["+b+"]"),n,r,i,a,s,o,c,u,l,h,d)))}return g}function jt(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=0<n.depth&&/(\[[^[\]]*])/.exec(r),s=a?r.slice(0,a.index):r,o=[];if(s){if(!n.plainObjects&&Xt.call(Object.prototype,s)&&!n.allowPrototypes)return;o.push(s)}for(var c=0;0<n.depth&&null!==(a=i.exec(r))&&c<n.depth;){if(c+=1,!n.plainObjects&&Xt.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;o.push(a[1])}return a&&o.push("["+r.slice(a.index)+"]"),function(e,t,n){for(var r=t,i=e.length-1;0<=i;--i){var a,s=e[i];if("[]"===s&&n.parseArrays)a=[].concat(r);else{a=n.plainObjects?Object.create(null):{};var o="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(o,10);n.parseArrays||""!==o?!isNaN(c)&&s!==o&&String(c)===o&&0<=c&&n.parseArrays&&c<=n.arrayLimit?(a=[])[c]=r:a[o]=r:a={0:r}}r=a}return r}(o,t,n)}}function Mt(e){var t=e.qsModule,n=e.routeState,r=e.location,i=r.protocol,a=r.hostname,s=r.port,o=void 0===s?"":s,c=r.pathname,u=r.hash,l=t.stringify(n),h=""===o?"":":".concat(o);return l?"".concat(i,"//").concat(a).concat(h).concat(c,"?").concat(l).concat(u):"".concat(i,"//").concat(a).concat(h).concat(c).concat(u)}function Ot(e){var t=e.qsModule,n=e.location;return t.parse(n.search.slice(1),{arrayLimit:99})}function Lt(e){e&&(window.document.title=e)}var At=Object.prototype.hasOwnProperty,Ht=Array.isArray,Dt=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),qt={arrayToObject:Ct,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),o=0;o<s.length;++o){var c=s[o],u=a[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:c}),n.push(u))}return function(e){for(;1<e.length;){var t=e.pop(),n=t.obj[t.prop];if(Ht(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n){if(0===e.length)return e;var r=e;if("symbol"==typeof e?r=Symbol.prototype.toString.call(e):"string"!=typeof e&&(r=String(e)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",a=0;a<r.length;++a){var s=r.charCodeAt(a);45===s||46===s||95===s||126===s||48<=s&&s<=57||65<=s&&s<=90||97<=s&&s<=122?i+=r.charAt(a):s<128?i+=Dt[s]:s<2048?i+=Dt[192|s>>6]+Dt[128|63&s]:s<55296||57344<=s?i+=Dt[224|s>>12]+Dt[128|s>>6&63]+Dt[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&r.charCodeAt(a)),i+=Dt[240|s>>18]+Dt[128|s>>12&63]+Dt[128|s>>6&63]+Dt[128|63&s])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(Ht(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!At.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var i=t;return Ht(t)&&!Ht(n)&&(i=Ct(t,r)),Ht(t)&&Ht(n)?(n.forEach((function(n,i){if(At.call(t,i)){var a=t[i];a&&"object"==typeof a&&n&&"object"==typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var a=n[i];return At.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t}),i)}},Wt=String.prototype.replace,Bt=/%20/g,Ut={RFC1738:"RFC1738",RFC3986:"RFC3986"},Qt=qt.assign({default:Ut.RFC3986,formatters:{RFC1738:function(e){return Wt.call(e,Bt,"+")},RFC3986:function(e){return String(e)}}},Ut),$t=Object.prototype.hasOwnProperty,Vt={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},zt=Array.isArray,Kt=Array.prototype.push,Jt=Date.prototype.toISOString,Yt=Qt.default,Gt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:qt.encode,encodeValuesOnly:!1,format:Yt,formatter:Qt.formatters[Yt],indices:!1,serializeDate:function(e){return Jt.call(e)},skipNulls:!1,strictNullHandling:!1},Xt=Object.prototype.hasOwnProperty,Zt={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:qt.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},en={formats:Qt,parse:function(e,t){var n=function(e){if(!e)return Zt;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?Zt.charset:e.charset;return{allowDots:void 0===e.allowDots?Zt.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Zt.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Zt.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Zt.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Zt.comma,decoder:"function"==typeof e.decoder?e.decoder:Zt.decoder,delimiter:"string"==typeof e.delimiter||qt.isRegExp(e.delimiter)?e.delimiter:Zt.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Zt.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Zt.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Zt.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Zt.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Zt.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n,r={},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=i.split(t.delimiter,a),o=-1,c=t.charset;if(t.charsetSentinel)for(n=0;n<s.length;++n)0===s[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===s[n]?c="utf-8":"utf8=%26%2310003%3B"===s[n]&&(c="iso-8859-1"),o=n,n=s.length);for(n=0;n<s.length;++n)if(n!==o){var u,l,h=s[n],d=h.indexOf("]="),f=-1===d?h.indexOf("="):d+1;(l=-1===f?(u=t.decoder(h,Zt.decoder,c),t.strictNullHandling?null:""):(u=t.decoder(h.slice(0,f),Zt.decoder,c),t.decoder(h.slice(f+1),Zt.decoder,c)))&&t.interpretNumericEntities&&"iso-8859-1"===c&&(l=l.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))),l&&t.comma&&-1<l.indexOf(",")&&(l=l.split(",")),Xt.call(r,u)?r[u]=qt.combine(r[u],l):r[u]=l}return r}(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),s=0;s<a.length;++s){var o=a[s],c=jt(o,r[o],n);i=qt.merge(i,c,n)}return qt.compact(i)},stringify:function(e,t){var n,r=e,i=function(e){if(!e)return Gt;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||Gt.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Qt.default;if(void 0!==e.format){if(!$t.call(Qt.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=Qt.formatters[n],i=Gt.filter;return"function"!=typeof e.filter&&!zt(e.filter)||(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:Gt.addQueryPrefix,allowDots:void 0===e.allowDots?Gt.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Gt.charsetSentinel,delimiter:void 0===e.delimiter?Gt.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:Gt.encode,encoder:"function"==typeof e.encoder?e.encoder:Gt.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:Gt.encodeValuesOnly,filter:i,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:Gt.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:Gt.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Gt.strictNullHandling}}(t);"function"==typeof i.filter?r=(0,i.filter)("",r):zt(i.filter)&&(n=i.filter);var a,s=[];if("object"!=typeof r||null===r)return"";a=t&&t.arrayFormat in Vt?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var o=Vt[a];n=n||Object.keys(r),i.sort&&n.sort(i.sort);for(var c=0;c<n.length;++c){var u=n[c];i.skipNulls&&null===r[u]||kt(s,Et(r[u],u,o,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.formatter,i.encodeValuesOnly,i.charset))}var l=s.join(i.delimiter),h=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),0<l.length?h+l:""}},tn=function(){function e(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=n.windowTitle,a=n.writeDelay,s=void 0===a?400:a,o=n.createURL,c=void 0===o?Mt:o,u=n.parseURL,l=void 0===u?Ot:u;t(this,e),i(this,"windowTitle",void 0),i(this,"writeDelay",void 0),i(this,"_createURL",void 0),i(this,"parseURL",void 0),i(this,"writeTimer",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=c,this.parseURL=l,Lt(this.windowTitle&&this.windowTitle(this.read()))}return r(e,[{key:"read",value:function(){return this.parseURL({qsModule:en,location:window.location})}},{key:"write",value:function(e){var t=this,n=this.createURL(e),r=this.windowTitle&&this.windowTitle(e);this.writeTimer&&window.clearTimeout(this.writeTimer),this.writeTimer=window.setTimeout((function(){Lt(r),window.history.pushState(e,r||"",n),t.writeTimer=void 0}),this.writeDelay)}},{key:"onUpdate",value:function(e){var t=this;this._onPopState=function(n){t.writeTimer&&(window.clearTimeout(t.writeTimer),t.writeTimer=void 0);var r=n.state;e(r||t.read())},window.addEventListener("popstate",this._onPopState)}},{key:"createURL",value:function(e){return this._createURL({qsModule:en,routeState:e,location:window.location})}},{key:"dispose",value:function(){this._onPopState&&window.removeEventListener("popstate",this._onPopState),this.writeTimer&&window.clearTimeout(this.writeTimer),this.write({})}}]),e}();function nn(e){return new tn(e)}function rn(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.router,r=void 0===n?nn():n,a=t.stateMapping,s=void 0===a?Ft():a;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var n=Object.keys(e).reduce((function(t,n){return o(o({},t),{},i({},n,e[n]))}),t.mainIndex.getWidgetUiState({})),a=s.stateToRoute(n);return r.createURL(a)},t._initialUiState=o(o({},t._initialUiState),s.routeToState(r.read()));var n=void 0;return{onStateChange:function(e){var t=e.uiState,i=s.stateToRoute(t);void 0!==n&&je(n,i)||(r.write(i),n=i)},subscribe:function(){r.onUpdate((function(e){t.setUiState(s.routeToState(e))}))},unsubscribe:function(){r.dispose()}}}}function an(){return"undefined"!=typeof window&&-1<window.navigator.userAgent.indexOf("Algolia Crawler")}function sn(){return function(e){var t=e.instantSearchInstance,n={widgets:[]},r=document.createElement("meta"),i=document.querySelector("head");return r.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout((function(){!function e(t,n,r){var i=n.mainIndex,a={instantSearchInstance:n,parent:i,scopedResults:[],state:i.getHelper().state,helper:i.getHelper(),createURL:i.createURL,uiState:n._initialUiState,renderState:n.renderState,templatesConfig:n.templatesConfig,searchMetadata:{isSearchStalled:n._isSearchStalled}};t.forEach((function(t){var i={};if(t.getWidgetRenderState){var s=t.getWidgetRenderState(a);s&&s.widgetParams&&(i=s.widgetParams)}var o=Object.keys(i).filter((function(e){return void 0!==i[e]}));r.widgets.push({type:t.$$type,widgetType:t.$$widgetType,params:o}),"ais.index"===t.$$type&&e(t.getWidgets(),n,r)}))}(t.mainIndex.getWidgets(),t,n),r.content=JSON.stringify(n),i.appendChild(r)}),0)},unsubscribe:function(){var e;null===(e=r.parentNode)||void 0===e||e.removeChild(r)}}}}var on=et({name:"instantsearch"});function cn(){return"#"}function un(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,hn()),function(t){var r=t||{},i=r.includedAttributes,a=void 0===i?[]:i,s=r.excludedAttributes,c=void 0===s?["query"]:s,u=r.transformItems,l=void 0===u?function(e){return e}:u;if(t.includedAttributes&&t.excludedAttributes)throw new Error(hn("The options `includedAttributes` and `excludedAttributes` cannot be used together."));function h(){return f.refine()}function d(){return f.createURL()}var f={refine:_e,createURL:function(){return""},attributesToClear:[]};return{$$type:"ais.clearRefinements",init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(){n()},getRenderState:function(e,t){return o(o({},e),{},{clearRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var n=e.createURL,r=e.scopedResults;return f.attributesToClear=r.reduce((function(e,t){return e.concat((r=(n={scopedResult:t,includedAttributes:a,excludedAttributes:c,transformItems:l}).scopedResult,i=n.includedAttributes,s=n.excludedAttributes,o=n.transformItems,u=-1!==i.indexOf("query")||-1===s.indexOf("query"),{helper:r.helper,items:o(fe(Pe(r.results,r.helper.state,u).map((function(e){return e.attribute})).filter((function(e){return 0===i.length||-1!==i.indexOf(e)})).filter((function(e){return"query"===e&&u||-1===s.indexOf(e)}))))}));var n,r,i,s,o,u}),[]),f.refine=function(){f.attributesToClear.forEach((function(e){var t=e.helper,n=e.items;t.setState(xe({helper:t,attributesToClear:n})).search()}))},f.createURL=function(){return n(Xe.apply(void 0,p(f.attributesToClear.map((function(e){return xe({helper:e.helper,attributesToClear:e.items})})))))},{hasRefinements:f.attributesToClear.some((function(e){return 0<e.items.length})),refine:h,createURL:d,widgetParams:t}}}}}var ln=function(){c(n,z);var e=f(n);function n(r){var a;t(this,n),i(d(a=e.call(this)),"client",void 0),i(d(a),"indexName",void 0),i(d(a),"insightsClient",void 0),i(d(a),"onStateChange",null),i(d(a),"helper",void 0),i(d(a),"mainHelper",void 0),i(d(a),"mainIndex",void 0),i(d(a),"started",void 0),i(d(a),"templatesConfig",void 0),i(d(a),"renderState",{}),i(d(a),"_stalledSearchDelay",void 0),i(d(a),"_searchStalledTimer",void 0),i(d(a),"_isSearchStalled",void 0),i(d(a),"_initialUiState",void 0),i(d(a),"_createURL",void 0),i(d(a),"_searchFunction",void 0),i(d(a),"_mainHelperSearch",void 0),i(d(a),"middleware",[]),i(d(a),"sendEventToInsights",void 0),i(d(a),"scheduleSearch",ue((function(){a.started&&a.mainHelper.search()}))),i(d(a),"scheduleRender",ue((function(){a.mainHelper.hasPendingRequests()||(clearTimeout(a._searchStalledTimer),a._searchStalledTimer=null,a._isSearchStalled=!1),a.mainIndex.render({instantSearchInstance:d(a)}),a.emit("render")}))),i(d(a),"onInternalStateChange",(function(){var e=a.mainIndex.getWidgetUiState({});a.middleware.forEach((function(t){t.onStateChange({uiState:e})}))}));var s,c,u=r.indexName,l=void 0===u?null:u,h=r.numberLocale,f=r.initialUiState,m=void 0===f?{}:f,p=r.routing,g=void 0===p?null:p,v=r.searchFunction,y=r.stalledSearchDelay,b=void 0===y?200:y,S=r.searchClient,R=void 0===S?null:S,w=r.insightsClient,P=void 0===w?null:w,x=r.onStateChange,N=void 0===x?null:x;if(null===l)throw new Error(on("The `indexName` option is required."));if(null===R)throw new Error(on("The `searchClient` option is required."));if("function"!=typeof R.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof R.addAlgoliaAgent&&R.addAlgoliaAgent("instantsearch.js (".concat("4.15.0",")")),P&&"function"!=typeof P)throw new Error(on("The `insightsClient` option should be a function."));if(a.client=R,a.insightsClient=P,a.indexName=l,a.helper=null,a.mainHelper=null,a.mainIndex=pt({indexName:l}),a.onStateChange=N,a.started=!1,a.templatesConfig={helpers:(s={numberLocale:h},c=s.numberLocale,{formatNumber:function(e,t){return Number(t(e)).toLocaleString(c)},highlight:function(e,t){try{return t(bt(o(o({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(Rt(o(o({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(Pt(o(o({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(Nt(o(o({},JSON.parse(e)),{},{hit:this})))}catch(n){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var n=JSON.parse(e),r=n.method,i=n.payload;return t(It(r,o({objectIDs:[this.objectID]},i)))}catch(a){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}),compileOptions:{}},a._stalledSearchDelay=b,a._searchStalledTimer=null,a._isSearchStalled=!1,a._createURL=cn,a._initialUiState=m,v&&(a._searchFunction=v),a.sendEventToInsights=_e,g){var I="boolean"==typeof g?void 0:g;a.use(rn(I))}return an()&&a.use(sn()),a}return r(n,[{key:"use",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.map((function(t){var n=t({instantSearchInstance:e});return e.middleware.push(n),n}));return this.started&&i.forEach((function(e){e.subscribe()})),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(on("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(on("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(on("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(on("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var e=this;if(this.started)throw new Error(on("The `start` method has already been called once."));var t=ce(this.client,this.indexName);if(t.search=function(){return t.searchOnlyWithDerivedHelpers()},this._searchFunction){var n={search:function(){return new Promise(_e)}};this._mainHelperSearch=t.search.bind(t),t.search=function(){var r=e.mainIndex.getHelper(),i=ce(n,r.state.index,r.state);return i.once("search",(function(t){var n=t.state;r.overrideStateWithoutTriggeringChangeEvent(n),e._mainHelperSearch()})),i.on("change",(function(e){var t=e.state;r.setState(t)})),e._searchFunction(i),t}}t.on("error",(function(t){var n=t.error;e.emit("error",{error:n})})),this.mainHelper=t,this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this.middleware.forEach((function(e){e.subscribe()})),t.search(),this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach((function(e){e.unsubscribe()}))}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout((function(){e._isSearchStalled=!0,e.scheduleRender()}),this._stalledSearchDelay))}},{key:"setUiState",value:function(e){if(!this.mainHelper)throw new Error(on("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var t="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;!function e(n){n.getHelper().overrideStateWithoutTriggeringChangeEvent(n.getWidgetSearchParameters(n.getHelper().state,{uiState:t[n.getIndexId()]})),n.getWidgets().filter(ht).forEach(e)}(this.mainIndex),this.scheduleSearch(),this.onInternalStateChange()}},{key:"createURL",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};if(!this.started)throw new Error(on("The `start` method needs to be called before `createURL`."));return this._createURL(t)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(on("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(),hn=et({name:"clear-refinements",connector:!0});function dn(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,fn()),function(t){if((t||{}).includedAttributes&&(t||{}).excludedAttributes)throw new Error(fn("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var r=t||{},i=r.includedAttributes,a=r.excludedAttributes,s=void 0===a?["query"]:a,c=r.transformItems,u=void 0===c?function(e){return e}:c;return{$$type:"ais.currentRefinements",init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(){n()},getRenderState:function(e,t){return o(o({},e),{},{currentRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var n=e.results,r=e.scopedResults,a=e.createURL,o=e.helper;return{items:n?r.reduce((function(e,t){return e.concat(u(mn({results:t.results,helper:t.helper,includedAttributes:i,excludedAttributes:s})))}),[]):u(mn({results:{},helper:o,includedAttributes:i,excludedAttributes:s})),refine:function(e){return gn(o,e)},createURL:function(e){return a(pn(o.state,e))},widgetParams:t}}}}}var fn=et({name:"current-refinements",connector:!0});function mn(e){var t=e.results,n=e.helper,r=e.includedAttributes,i=e.excludedAttributes,a=-1!==(r||[]).indexOf("query")||-1===(i||[]).indexOf("query"),s=r?function(e){return-1!==r.indexOf(e.attribute)}:function(e){return-1===i.indexOf(e.attribute)},o=Pe(t,n.state,a).map(vn).filter(s);return o.reduce((function(e,t){return[].concat(p(e.filter((function(e){return e.attribute!==t.attribute}))),[{indexName:n.state.index,attribute:t.attribute,label:t.attribute,refinements:o.filter((function(e){return e.attribute===t.attribute})).sort((function(e,t){return"numeric"===e.type?e.value-t.value:0})),refine:function(e){return gn(n,e)}}])}),[])}function pn(e,t){switch(t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return e}}function gn(e,t){e.setState(pn(e.state,t)).search()}function vn(e){var t="numeric"===e.type?Number(e.name):e.name,n=e.operator?"".concat(function(e){switch(e){case">=":return"â¥";case"<=":return"â¤";default:return e}}(e.operator)," ").concat(e.name):e.name,r={attribute:e.attribute,type:e.type,value:t,label:n};return void 0!==e.operator&&(r.operator=e.operator),void 0!==e.count&&(r.count=e.count),void 0!==e.exhaustive&&(r.exhaustive=e.exhaustive),r}var yn=et({name:"hierarchical-menu",connector:!0});function bn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_e;return Ie(e,yn()),function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=n.attributes,a=n.separator,s=void 0===a?" > ":a,c=n.rootPath,u=void 0===c?null:c,l=n.showParentLevel,d=void 0===l||l,f=n.limit,p=void 0===f?10:f,g=n.showMore,v=void 0!==g&&g,y=n.showMoreLimit,b=void 0===y?20:y,S=n.sortBy,R=void 0===S?["name:asc"]:S,w=n.transformItems,P=void 0===w?function(e){return e}:w;if(!r||!Array.isArray(r)||0===r.length)throw new Error(yn("The `attributes` option expects an array of strings."));if(!0===v&&b<=p)throw new Error(yn("The `showMoreLimit` option must be greater than `limit`."));var x,N=m(r,1)[0],I=function(){};function _(){I()}return{$$type:"ais.hierarchicalMenu",isShowingMore:!1,createToggleShowMore:function(e){var t=this;return function(){t.isShowingMore=!t.isShowingMore,t.render(e)}},getLimit:function(){return this.isShowingMore?b:p},init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},_prepareFacetValues:function(e){var t=this;return e.slice(0,this.getLimit()).map((function(e){var n=e.name,r=e.path,i=h(e,["name","path"]);return Array.isArray(i.data)&&(i.data=t._prepareFacetValues(i.data)),o(o({},i),{},{label:n,value:r})}))},render:function(t){var n=t.instantSearchInstance;I=this.createToggleShowMore(t),e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.removeHierarchicalFacet(N).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return o(o({},e),{},{hierarchicalMenu:o(o({},e.hierarchicalMenu),{},i({},N,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=this,r=e.results,i=e.state,a=e.createURL,s=e.instantSearchInstance,o=e.helper;x=x||at({instantSearchInstance:s,helper:o,attribute:N,widgetType:this.$$type}),this._refine||(this._refine=function(e){x("click",e),o.toggleRefinement(N,e).search()});var c=r&&r.getFacetValues(N,{sortBy:R}).data||[];return{items:P(r?this._prepareFacetValues(c):[]),refine:this._refine,createURL:function(e){return a(i.toggleRefinement(N,e))},sendEvent:x,widgetParams:n,isShowingMore:this.isShowingMore,toggleShowMore:_,canToggleShowMore:v&&(this.isShowingMore||!function(){if(!r)return!1;var e=t.getLimit();return i.maxValuesPerFacet>e?c.length<=e:c.length<e}())}},getWidgetUiState:function(e,t){var n=t.searchParameters.getHierarchicalFacetBreadcrumb(N);return n.length?o(o({},e),{},{hierarchicalMenu:o(o({},e.hierarchicalMenu),{},i({},N,n))}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,a=n.hierarchicalMenu&&n.hierarchicalMenu[N];e.isHierarchicalFacet(N)&&e.getHierarchicalFacetByName(N);var c=e.removeHierarchicalFacet(N).addHierarchicalFacet({name:N,attributes:r,separator:s,rootPath:u,showParentLevel:d}),l=c.maxValuesPerFacet||0,h=Math.max(l,v?b:p),f=c.setQueryParameter("maxValuesPerFacet",h);return a?f.addHierarchicalFacetRefinement(N,a.join(s)):f.setQueryParameters({hierarchicalFacetsRefinements:o(o({},f.hierarchicalFacetsRefinements),{},i({},N,[]))})}}}}function Sn(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,wn()),function(t){var r,a,s=t||{},c=s.escapeHTML,u=void 0===c||c,l=s.transformItems,h=void 0===l?function(e){return e}:l;return{$$type:"ais.hits",init:function(t){e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=this.getWidgetRenderState(t);n.sendEvent("view",n.hits),e(o(o({},n),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return o(o({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var n=e.results,i=e.helper,s=e.instantSearchInstance;if(r=r||ot({instantSearchInstance:s,index:i.getIndex(),widgetType:this.$$type}),a=a||ct({index:i.getIndex(),widgetType:this.$$type}),!n)return{hits:[],results:void 0,sendEvent:r,bindEvent:a,widgetParams:t};u&&0<n.hits.length&&(n.hits=Qe(n.hits));var o=n.hits.__escaped;return n.hits=rt(n.hits,n.page,n.hitsPerPage),n.hits=it(n.hits,n.queryID),n.hits=h(n.hits),n.hits.__escaped=o,{hits:n.hits,results:n,sendEvent:r,bindEvent:a,widgetParams:t}},dispose:function(e){var t=e.state;return n(),u?t.setQueryParameters(Object.keys(qe).reduce((function(e,t){return o(o({},e),{},i({},t,void 0))}),{})):t},getWidgetSearchParameters:function(e){return u?e.setQueryParameters(qe):e}}}}function Rn(e){var t,n=e.method,r=e.results,i=e.hits,a=e.objectIDs,s=r.index,o=(t=i,a.map((function(e){var n=Se(t,(function(t){return t.objectID===e}));if(void 0===n)throw new Error('Could not find objectID "'.concat(e,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return n}))),c=function(e){var t=fe(e.map((function(e){return e.__queryID})));if(1<t.length)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=t[0];if("string"!=typeof n)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return n}(o);switch(n){case"clickedObjectIDsAfterSearch":return{index:s,queryID:c,objectIDs:a,positions:function(e){return e.map((function(e){return e.__position}))}(o)};case"convertedObjectIDsAfterSearch":return{index:s,queryID:c,objectIDs:a};default:throw new Error('Unsupported method passed to insights: "'.concat(n,'".'))}}var wn=et({name:"hits",connector:!0});function Pn(e){function t(e){return function(t,n){var r,i,a,s=t.results,c=t.hits,u=t.instantSearchInstance;if(s&&c&&u){var l=(r=u.insightsClient,i=s,a=c,function(e,t){if(!r){var n=et({name:"instantsearch"});throw new Error(n("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(t.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var s=Rn({method:e,results:i,hits:a,objectIDs:t.objectIDs});r(e,o(o({},s),t))});return e(o(o({},t),{},{insights:l}),n)}return e(t,n)}}return function(n,r){return e(t(n),r)}}var xn,Nn,In,_n,Tn,Fn={},Cn=[],kn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function En(e,t){for(var n in t)e[n]=t[n];return e}function jn(e){var t=e.parentNode;t&&t.removeChild(e)}function Mn(e,t,n){var r,i,a,s,o=arguments;if(t=En({},t),3<arguments.length)for(n=[n],r=3;r<arguments.length;r++)n.push(o[r]);if(null!=n&&(t.children=n),null!=e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===t[i]&&(t[i]=e.defaultProps[i]);return s=t.key,null!=(a=t.ref)&&delete t.ref,null!=s&&delete t.key,On(e,t,s,a)}function On(e,t,n,r){var i={type:e,props:t,key:n,ref:r,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return xn.vnode&&xn.vnode(i),i}function Ln(e){return e.children}function An(e,t){this.props=e,this.context=t}function Hn(e,t){if(null==t)return e.__p?Hn(e.__p,e.__p.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?Hn(e):null}function Dn(e){var t,n;if(null!=(e=e.__p)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return Dn(e)}}function qn(e){(!e.__d&&(e.__d=!0)&&1===Nn.push(e)||_n!==xn.debounceRendering)&&(_n=xn.debounceRendering,(xn.debounceRendering||In)(Wn))}function Wn(){var e,t,n,r,i,a,s,o;for(Nn.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=Nn.pop();)e.__d&&(r=n=void 0,a=(i=(t=e).__v).__e,s=t.__P,o=t.u,t.u=!1,s&&(n=[],r=zn(s,i,En({},i),t.__n,void 0!==s.ownerSVGElement,null,n,o,null==a?Hn(i):a),Kn(n,i),r!=a&&Dn(i)))}function Bn(e,t,n,r,i,a,s,o,c){var u,l,h,d,f,m,p,g=n&&n.__k||Cn,v=g.length;if(o==Fn&&(o=null!=a?a[0]:v?Hn(n,0):null),u=0,t.__k=Un(t.__k,(function(n){if(null!=n){if(n.__p=t,n.__b=t.__b+1,null===(h=g[u])||h&&n.key==h.key&&n.type===h.type)g[u]=void 0;else for(l=0;l<v;l++){if((h=g[l])&&n.key==h.key&&n.type===h.type){g[l]=void 0;break}h=null}if(d=zn(e,n,h=h||Fn,r,i,a,s,null,o,c),(l=n.ref)&&h.ref!=l&&(p=p||[]).push(l,n.__c||d,n),null!=d){if(null==m&&(m=d),null!=n.l)d=n.l,n.l=null;else if(a==h||d!=o||null==d.parentNode){e:if(null==o||o.parentNode!==e)e.appendChild(d);else{for(f=o,l=0;(f=f.nextSibling)&&l<v;l+=2)if(f==d)break e;e.insertBefore(d,o)}"option"==t.type&&(e.value="")}o=d.nextSibling,"function"==typeof t.type&&(t.l=d)}}return u++,n})),t.__e=m,null!=a&&"function"!=typeof t.type)for(u=a.length;u--;)null!=a[u]&&jn(a[u]);for(u=v;u--;)null!=g[u]&&Yn(g[u],g[u]);if(p)for(u=0;u<p.length;u++)Jn(p[u],p[++u],p[++u])}function Un(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)Un(e[r],t,n);else n.push(t?t(function(e){if(null==e||"boolean"==typeof e)return null;if("string"==typeof e||"number"==typeof e)return On(null,e,null,null);if(null==e.__e&&null==e.__c)return e;var t=On(e.type,e.props,e.key,null);return t.__e=e.__e,t}(e)):e);return n}function Qn(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===kn.test(t)?n+"px":null==n?"":n}function $n(e,t,n,r,i){var a,s,o,c,u;if("key"===(t=i?"className"===t?"class":t:"class"===t?"className":t)||"children"===t);else if("style"===t)if(a=e.style,"string"==typeof n)a.cssText=n;else{if("string"==typeof r&&(a.cssText="",r=null),r)for(s in r)n&&s in n||Qn(a,s,"");if(n)for(o in n)r&&n[o]===r[o]||Qn(a,o,n[o])}else"o"===t[0]&&"n"===t[1]?(c=t!==(t=t.replace(/Capture$/,"")),t=((u=t.toLowerCase())in e?u:t).slice(2),n?(r||e.addEventListener(t,Vn,c),(e.t||(e.t={}))[t]=n):e.removeEventListener(t,Vn,c)):"list"!==t&&"tagName"!==t&&"form"!==t&&!i&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n?e.removeAttribute(t):e.setAttribute(t,n))}function Vn(e){return this.t[e.type](xn.event?xn.event(e):e)}function zn(e,t,n,r,i,a,s,o,c,u){var l,h,d,f,m,p,g,v,y,b,S=t.type;if(void 0!==t.constructor)return null;(l=xn.__b)&&l(t);try{e:if("function"==typeof S){if(v=t.props,y=(l=S.contextType)&&r[l.__c],b=l?y?y.props.value:l.__p:r,n.__c?g=(h=t.__c=n.__c).__p=h.__E:("prototype"in S&&S.prototype.render?t.__c=h=new S(v,b):(t.__c=h=new An(v,b),h.constructor=S,h.render=Gn),y&&y.sub(h),h.props=v,h.state||(h.state={}),h.context=b,h.__n=r,d=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=S.getDerivedStateFromProps&&En(h.__s==h.state?h.__s=En({},h.__s):h.__s,S.getDerivedStateFromProps(v,h.__s)),d)null==S.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&s.push(h);else{if(null==S.getDerivedStateFromProps&&null==o&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(v,b),!o&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(v,h.__s,b)){for(h.props=v,h.state=h.__s,h.__d=!1,(h.__v=t).__e=null!=c?c!==n.__e?c:n.__e:null,t.__k=n.__k,l=0;l<t.__k.length;l++)t.__k[l]&&(t.__k[l].__p=t);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(v,h.__s,b)}for(f=h.props,m=h.state,h.context=b,h.props=v,h.state=h.__s,(l=xn.__r)&&l(t),h.__d=!1,h.__v=t,h.__P=e,l=h.render(h.props,h.state,h.context),t.__k=Un(null!=l&&l.type==Ln&&null==l.key?l.props.children:l),null!=h.getChildContext&&(r=En(En({},r),h.getChildContext())),d||null==h.getSnapshotBeforeUpdate||(p=h.getSnapshotBeforeUpdate(f,m)),Bn(e,t,n,r,i,a,s,c,u),h.base=t.__e;l=h.__h.pop();)h.__s&&(h.state=h.__s),l.call(h);d||null==f||null==h.componentDidUpdate||h.componentDidUpdate(f,m,p),g&&(h.__E=h.__p=null)}else t.__e=function(e,t,n,r,i,a,s,o){var c,u,l,h,d=n.props,f=t.props;if(i="svg"===t.type||i,null==e&&null!=a)for(c=0;c<a.length;c++)if(null!=(u=a[c])&&(null===t.type?3===u.nodeType:u.localName===t.type)){e=u,a[c]=null;break}if(null==e){if(null===t.type)return document.createTextNode(f);e=i?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type),a=null}return null===t.type?d!==f&&(null!=a&&(a[a.indexOf(e)]=null),e.data=f):t!==n&&(null!=a&&(a=Cn.slice.call(e.childNodes)),l=(d=n.props||Fn).dangerouslySetInnerHTML,h=f.dangerouslySetInnerHTML,o||(h||l)&&(h&&l&&h.__html==l.__html||(e.innerHTML=h&&h.__html||"")),function(e,t,n,r,i){var a;for(a in n)a in t||$n(e,a,null,n[a],r);for(a in t)i&&"function"!=typeof t[a]||"value"===a||"checked"===a||n[a]===t[a]||$n(e,a,t[a],n[a],r)}(e,f,d,i,o),t.__k=t.props.children,h||Bn(e,t,n,r,"foreignObject"!==t.type&&i,a,s,Fn,o),o||("value"in f&&void 0!==f.value&&f.value!==e.value&&(e.value=null==f.value?"":f.value),"checked"in f&&void 0!==f.checked&&f.checked!==e.checked&&(e.checked=f.checked))),e}(n.__e,t,n,r,i,a,s,u);(l=xn.diffed)&&l(t)}catch(R){xn.__e(R,t,n)}return t.__e}function Kn(e,t){for(var n;n=e.pop();)try{n.componentDidMount()}catch(r){xn.__e(r,n.__v)}xn.__c&&xn.__c(t)}function Jn(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(r){xn.__e(r,n)}}function Yn(e,t,n){var r,i,a;if(xn.unmount&&xn.unmount(e),(r=e.ref)&&Jn(r,null,t),n||"function"==typeof e.type||(n=null!=(i=e.__e)),e.__e=e.l=null,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){xn.__e(s,t)}r.base=r.__P=null}if(r=e.__k)for(a=0;a<r.length;a++)r[a]&&Yn(r[a],t,n);null!=i&&jn(i)}function Gn(e,t,n){return this.constructor(e,n)}function Xn(e,t,n){var r,i,a;xn.__p&&xn.__p(e,t),i=(r=n===Tn)?null:n&&n.__k||t.__k,e=Mn(Ln,null,[e]),a=[],zn(t,r?t.__k=e:(n||t).__k=e,i||Fn,Fn,void 0!==t.ownerSVGElement,n&&!r?[n]:i?null:Cn.slice.call(t.childNodes),a,!1,n||Fn,r),Kn(a,e)}function Zn(e,t,n){for(var r=e;r&&!n(r);){if(r===t)return null;r=r.parentElement}return r}function er(e){return function(t){return Mn("div",{onClick:function(e){if(t.sendEvent){var n=Zn(e.target,e.currentTarget,(function(e){return e.hasAttribute("data-insights-event")}));if(n){var r=function(e){var t=e.getAttribute("data-insights-event");if("string"!=typeof t)throw new Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return JSON.parse(atob(t))}catch(n){throw new Error("The insights middleware was unable to parse `data-insights-event`.")}}(n);t.sendEvent(r)}}var i=Zn(e.target,e.currentTarget,(function(e){return e.hasAttribute("data-insights-method")}));if(i){var a=function(e){var t=e.getAttribute("data-insights-method"),n=e.getAttribute("data-insights-payload");if("string"!=typeof n)throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{return{method:t,payload:JSON.parse(atob(n))}}catch(r){throw new Error("The insights helper was unable to parse `data-insights-payload`.")}}(i),s=a.method,o=a.payload;t.insights(s,o)}}},Mn(e,t))}}function tr(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,rr()),function(t){var r=t||{},i=r.items,a=r.transformItems,s=void 0===a?function(e){return e}:a,c=i;if(!Array.isArray(c))throw new Error(rr("The `items` option expects an array of objects."));var u=c.filter((function(e){return!0===e.default}));if(0===u.length)throw new Error(rr("A default value must be specified in `items`."));if(1<u.length)throw new Error(rr("More than one default value is specified in `items`."));var l=u[0],h=function(e){return function(t){return t||0===t?e.setQueryParameter("hitsPerPage",t).search():e.setQueryParameter("hitsPerPage",void 0).search()}},d=function(e){var t=e.state,n=e.createURL;return function(e){return n(t.setQueryParameter("hitsPerPage",e||0===e?e:void 0))}};return{$$type:"ais.hitsPerPage",init:function(t){var n=t.state,r=t.instantSearchInstance;c.some((function(e){return Number(n.hitsPerPage)===Number(e.value)}))||(c=[{value:"",label:""}].concat(p(c))),e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var t=e.state;return n(),t.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(e,t){return o(o({},e),{},{hitsPerPage:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var n,r,i=e.state,a=e.results,u=e.createURL,l=e.helper;return{items:s((n=i,r=n.hitsPerPage,c.map((function(e){return o(o({},e),{},{isRefined:Number(e.value)===Number(r)})})))),refine:h(l),createURL:d({state:i,createURL:u}),hasNoResults:!a||0===a.nbHits,widgetParams:t}},getWidgetUiState:function(e,t){var n=t.searchParameters.hitsPerPage;return void 0===n||n===l.value?e:o(o({},e),{},{hitsPerPage:n})},getWidgetSearchParameters:function(e,t){var n=t.uiState;return e.setQueryParameters({hitsPerPage:n.hitsPerPage||l.value})}}}}xn={},An.prototype.setState=function(e,t){var n=this.__s!==this.state&&this.__s||(this.__s=En({},this.state));"function"==typeof e&&!(e=e(n,this.props))||En(n,e),null!=e&&this.__v&&(this.u=!1,t&&this.__h.push(t),qn(this))},An.prototype.forceUpdate=function(e){this.__v&&(e&&this.__h.push(e),this.u=!0,qn(this))},An.prototype.render=Ln,Nn=[],In="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_n=xn.debounceRendering,xn.__e=function(e,t,n){for(var r;t=t.__p;)if((r=t.__c)&&!r.__p)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError)r.setState(r.constructor.getDerivedStateFromError(e));else{if(null==r.componentDidCatch)continue;r.componentDidCatch(e)}return qn(r.__E=r)}catch(i){e=i}throw e},Tn=Fn;var nr=Pn(Sn),rr=et({name:"hits-per-page",connector:!0}),ir=et({name:"infinite-hits",connector:!0});function ar(e){var t=e||{};return t.page,h(t,["page"])}function sr(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,ir()),function(t){function r(e,t){var n=e.page,r=void 0===n?0:n,i=Object.keys(t).map(Number);return 0===i.length?r:Math.min.apply(Math,[r].concat(p(i)))}function a(e,t){var n=e.page,r=void 0===n?0:n,i=Object.keys(t).map(Number);return 0===i.length?r:Math.max.apply(Math,[r].concat(p(i)))}var s,c,u,l,h,d,f=t||{},m=f.escapeHTML,g=void 0===m||m,v=f.transformItems,y=void 0===v?function(e){return e}:v,b=f.cache,S=void 0===b?(h=null,d=void 0,{read:function(e){var t=e.state;return je(d,ar(t))?h:null},write:function(e){var t=e.state,n=e.hits;d=ar(t),h=n}}):b;return{$$type:"ais.infiniteHits",init:function(t){e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=t.instantSearchInstance,r=this.getWidgetRenderState(t);u("view",r.currentPageHits),e(o(o({},r),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return o(o({},e),{},{infiniteHits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var n,i,h,d=e.results,f=e.helper,m=e.state,p=e.instantSearchInstance,v=[],b=S.read({state:m})||{};if(d){var R=m.page,w=void 0===R?0:R;g&&0<d.hits.length&&(d.hits=Qe(d.hits));var P=d.hits.__escaped;d.hits=rt(d.hits,d.page,d.hitsPerPage),d.hits=it(d.hits,d.queryID),d.hits=y(d.hits),d.hits.__escaped=P,void 0===b[w]&&(b[w]=d.hits,S.write({state:m,hits:b})),v=d.hits,n=0===r(m,b)}else i=f,h=b,s=function(){i.overrideStateWithoutTriggeringChangeEvent(o(o({},i.state),{},{page:r(i.state,h)-1})).searchWithoutTriggeringOnStateChange()},c=function(e,t){return function(){e.setPage(a(e.state,t)+1).search()}}(f,b),u=ot({instantSearchInstance:p,index:f.getIndex(),widgetType:this.$$type}),l=ct({index:f.getIndex(),widgetType:this.$$type}),n=void 0===f.state.page||0===r(f.state,b);var x,N=(x=b,Object.keys(x).map(Number).sort((function(e,t){return e-t})).reduce((function(e,t){return e.concat(x[t])}),[])),I=!d||d.nbPages<=a(m,b)+1;return{hits:N,currentPageHits:v,sendEvent:u,bindEvent:l,results:d,showPrevious:s,showMore:c,isFirstPage:n,isLastPage:I,widgetParams:t}},dispose:function(e){var t=e.state;n();var r=t.setQueryParameter("page",void 0);return g?r.setQueryParameters(Object.keys(qe).reduce((function(e,t){return o(o({},e),{},i({},t,void 0))}),{})):r},getWidgetUiState:function(e,t){var n=t.searchParameters.page||0;return n?o(o({},e),{},{page:n+1}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=e;g&&(r=e.setQueryParameters(qe));var i=n.page?n.page-1:0;return r.setQueryParameter("page",i)}}}}function or(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,lr()),function(t){var r,a,s,c=t||{},u=c.attribute,l=c.limit,d=void 0===l?10:l,f=c.showMore,p=void 0!==f&&f,g=c.showMoreLimit,v=void 0===g?20:g,y=c.sortBy,b=void 0===y?["isRefined","name:asc"]:y,S=c.transformItems,R=void 0===S?function(e){return e}:S;if(!u)throw new Error(lr("The `attribute` option is required."));if(!0===p&&v<=d)throw new Error(lr("The `showMoreLimit` option must be greater than `limit`."));var w=!1,P=function(){};function x(){P()}function N(){return w?v:d}return{$$type:"ais.menu",init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var t=e.state;return n(),t.removeHierarchicalFacet(u).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return o(o({},e),{},{menu:o(o({},e.menu),{},i({},u,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var n,i,c=e.results,l=e.createURL,d=e.instantSearchInstance,f=e.helper,g=[],v=!1;if(r=r||at({instantSearchInstance:d,helper:f,attribute:u,widgetType:this.$$type}),a=a||function(e){return l(f.state.toggleFacetRefinement(u,e))},s=s||function(e){var t=m(f.getHierarchicalFacetBreadcrumb(u),1)[0];r("click",e||t),f.toggleFacetRefinement(u,e||t).search()},e.results&&(n=e,i=this,P=function(){w=!w,i.render(n)}),c){var y=c.getFacetValues(u,{sortBy:b}),S=y&&!Array.isArray(y)&&y.data?y.data:[];v=p&&(w||S.length>N()),g=R(S.slice(0,N()).map((function(e){var t=e.name,n=e.path;return o(o({},h(e,["name","path"])),{},{label:t,value:n})})))}return{items:g,createURL:a,refine:s,sendEvent:r,canRefine:0<g.length,widgetParams:t,isShowingMore:w,toggleShowMore:x,canToggleShowMore:v}},getWidgetUiState:function(e,t){var n=m(t.searchParameters.getHierarchicalFacetBreadcrumb(u),1)[0];return n?o(o({},e),{},{menu:o(o({},e.menu),{},i({},u,n))}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.menu&&n.menu[u],a=e.removeHierarchicalFacet(u).addHierarchicalFacet({name:u,attributes:[u]}),s=a.maxValuesPerFacet||0,c=Math.max(s,p?v:d),l=a.setQueryParameter("maxValuesPerFacet",c);return r?l.addHierarchicalFacetRefinement(u,r):l.setQueryParameters({hierarchicalFacetsRefinements:o(o({},l.hierarchicalFacetsRefinements),{},i({},u,[]))})}}}}function cr(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,hr()),function(t){var r=t||{},a=r.attribute,s=void 0===a?"":a,c=r.items,u=void 0===c?[]:c,l=r.transformItems,h=void 0===l?function(e){return e}:l;if(""===s)throw new Error(hr("The `attribute` option is required."));if(!u||0===u.length)throw new Error(hr("The `items` option expects an array of objects."));var d={};return{$$type:dr,init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var t=e.state;return n(),t.clearRefinements(s)},getWidgetUiState:function(e,t){var n=t.searchParameters.getNumericRefinements(s),r=n["="]&&n["="][0];if(r||0===r)return o(o({},e),{},{numericMenu:o(o({},e.numericMenu),{},i({},s,"".concat(n["="])))});var a=n[">="]&&n[">="][0]||"",c=n["<="]&&n["<="][0]||"";return""===a&&""===c?e:o(o({},e),{},{numericMenu:o(o({},e.numericMenu),{},i({},s,"".concat(a,":").concat(c)))})},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.numericMenu&&n.numericMenu[s],a=e.clearRefinements(s);if(!r)return a.setQueryParameters({numericRefinements:o(o({},a.numericRefinements),{},i({},s,{}))});if(-1===r.indexOf(":"))return a.addNumericRefinement(s,"=",Number(r));var c=m(r.split(":").map(parseFloat),2),u=c[0],l=c[1],h=Fe(u)?a.addNumericRefinement(s,">=",u):a;return Fe(l)?h.addNumericRefinement(s,"<=",l):h},getRenderState:function(e,t){return o(o({},e),{},{numericMenu:o(o({},e.numericMenu),{},i({},s,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var n,r,i,a,o,c=e.results,l=e.state,f=e.instantSearchInstance,m=e.helper,p=e.createURL;return d.refine||(d.refine=function(e){var t=mr(m.state,s,e);d.sendEvent("click",e),m.setState(t).search()}),d.createURL||(d.createURL=function(e){return function(t){return p(mr(e,s,t))}}),d.sendEvent||(d.sendEvent=(i=(r={instantSearchInstance:f,helper:m,attribute:s}).instantSearchInstance,a=r.helper,o=r.attribute,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1!==t.length){var r=t[0],s=t[1],c=t[2],u=void 0===c?"Filter Applied":c;if("click"===r){var l=ut(mr(a.state,o,s),o);l&&0<l.length&&i.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:dr,eventType:r,payload:{eventName:u,index:a.getIndex(),filters:l}})}}else i.sendEventToInsights(t[0])})),{createURL:d.createURL(l),items:h((n=l,u.map((function(e){var t=e.start,r=e.end,i=e.label;return{label:i,value:encodeURI(JSON.stringify({start:t,end:r})),isRefined:fr(n,s,{start:t,end:r,label:i})}})))),hasNoResults:!c||0===c.nbHits,refine:d.refine,sendEvent:d.sendEvent,widgetParams:t}}}}}var ur=Pn(sr),lr=et({name:"menu",connector:!0}),hr=et({name:"numeric-menu",connector:!0}),dr="ais.numericMenu";function fr(e,t,n){var r=e.getNumericRefinements(t);return void 0!==n.start&&void 0!==n.end&&n.start===n.end?pr(r,"=",n.start):void 0!==n.start?pr(r,">=",n.start):void 0!==n.end?pr(r,"<=",n.end):void 0===n.start&&void 0===n.end&&Object.keys(r).every((function(e){return 0===(r[e]||[]).length}))}function mr(e,t,n){var r=e,i=JSON.parse(decodeURI(n)),a=r.getNumericRefinements(t);if(void 0===i.start&&void 0===i.end)return r.removeNumericRefinement(t);if(fr(r,t,i)||(r=r.removeNumericRefinement(t)),void 0!==i.start&&void 0!==i.end){if(i.start>i.end)throw new Error("option.start should be > to option.end");if(i.start===i.end)return pr(a,"=",i.start)?r.removeNumericRefinement(t,"=",i.start):r.addNumericRefinement(t,"=",i.start)}return void 0!==i.start&&(r=pr(a,">=",i.start)?r.removeNumericRefinement(t,">=",i.start):r.addNumericRefinement(t,">=",i.start)),void 0!==i.end&&(r=pr(a,"<=",i.end)?r.removeNumericRefinement(t,"<=",i.end):r.addNumericRefinement(t,"<=",i.end)),"number"==typeof r.page&&(r.page=0),r}function pr(e,t,n){return void 0!==e[t]&&e[t].includes(n)}function gr(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,yr()),function(t){var r=t||{},i=r.totalPages,a=r.padding,s=new vr({currentPage:0,total:0,padding:void 0===a?3:a}),c={};return{$$type:"ais.pagination",init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var t=e.state;return n(),t.setQueryParameter("page",void 0)},getWidgetUiState:function(e,t){var n=t.searchParameters.page||0;return n?o(o({},e),{},{page:n+1}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.page?n.page-1:0;return e.setQueryParameter("page",r)},getWidgetRenderState:function(e){var n=e.results,r=e.helper,a=e.createURL;c.refine||(c.refine=function(e){r.setPage(e),r.search()}),c.createURL||(c.createURL=function(e){return function(t){return a(e.setPage(t))}});var o,u=r.state,l=u.page||0,h=(o=(n||{nbPages:0}).nbPages,void 0!==i?Math.min(i,o):o);return s.currentPage=l,s.total=h,{createURL:c.createURL(u),refine:c.refine,currentRefinement:l,nbHits:(null==n?void 0:n.nbHits)||0,nbPages:h,pages:n?s.pages():[],isFirstPage:s.isFirstPage(),isLastPage:s.isLastPage(),widgetParams:t}},getRenderState:function(e,t){return o(o({},e),{},{pagination:this.getWidgetRenderState(t)})}}}}var vr=function(){function e(n){t(this,e),i(this,"currentPage",void 0),i(this,"total",void 0),i(this,"padding",void 0),this.currentPage=n.currentPage,this.total=n.total,this.padding=n.padding}return r(e,[{key:"pages",value:function(){var e=this.total,t=this.currentPage,n=this.padding;if(0===e)return[0];var r=this.nbPagesDisplayed(n,e);if(r===e)return ke({end:e});var i=this.calculatePaddingLeft(t,n,e,r);return ke({start:t-i,end:t+(r-i)})}},{key:"nbPagesDisplayed",value:function(e,t){return Math.min(2*e+1,t)}},{key:"calculatePaddingLeft",value:function(e,t,n,r){return e<=t?e:n-t<=e?r-(n-e):t}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||0===this.total}},{key:"isFirstPage",value:function(){return 0===this.currentPage}}]),e}(),yr=et({name:"pagination",connector:!0}),br=et({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),Sr="ais.range";function Rr(e){var t=e.min,n=e.max,r=e.precision,i=Math.pow(10,r);return{min:t?Math.floor(t*i)/i:t,max:n?Math.ceil(n*i)/i:n}}function wr(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,br()),function(t){var r=t||{},a=r.attribute,s=r.min,c=r.max,u=r.precision,l=void 0===u?0:u;if(!a)throw new Error(br("The `attribute` option is required."));if(Fe(s)&&Fe(c)&&c<s)throw new Error(br("The `max` option can't be lower than `min`."));function h(e,t,n,r){var i,o,u=e.state,h=t.min,d=t.max,f=m(u.getNumericRefinement(a,">=")||[],1)[0],p=m(u.getNumericRefinement(a,"<=")||[],1)[0],g=void 0===n||""===n,v=void 0===r||""===r,y=Rr({min:g?void 0:parseFloat(n),max:v?void 0:parseFloat(r),precision:l}),b=y.min,S=y.max;i=Fe(s)||h!==b?Fe(s)&&g?s:b:void 0,o=Fe(c)||d!==S?Fe(c)&&v?c:S:void 0;var R=void 0===i,w=Fe(h)&&h<=i,P=R||Fe(i)&&(!Fe(h)||w),x=void 0===o,N=Fe(o)&&o<=d,I=x||Fe(o)&&(!Fe(d)||N);return(f!==i||p!==o)&&P&&I?(u=u.removeNumericRefinement(a),Fe(i)&&(u=u.addNumericRefinement(a,">=",i)),Fe(o)&&(u=u.addNumericRefinement(a,"<=",o)),u):null}function d(e,t,n,r){var i=3<arguments.length&&void 0!==r?r:"Filter Applied",s=ut(e,a);s&&0<s.length&&t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Sr,eventType:"click",payload:{eventName:i,index:n.getIndex(),filters:s}})}var f={from:function(e){return e.toLocaleString()},to:function(e){return(t=e,Number(Number(t).toFixed(l))).toLocaleString();var t}};function p(e,t,n){return function(){var r=m(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[void 0,void 0],2),i=r[0],a=r[1],s=h(t,n,i,a);s&&(d(s,e,t),t.setState(s).search())}}return{$$type:Sr,init:function(t){e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return o(o({},e),{},{range:o(o({},e.range),{},i({},a,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var n,r,i,u,g=e.results,v=e.helper,y=e.instantSearchInstance,b=Se(g&&g.disjunctiveFacets||[],(function(e){return e.name===a})),S=(n=b&&b.stats||{min:void 0,max:void 0},Rr({min:Fe(s)?s:Fe(n.min)?n.min:0,max:Fe(c)?c:Fe(n.max)?n.max:0,precision:l})),R=function(e){var t=m(e.getNumericRefinement(a,">=")||[],1)[0],n=m(e.getNumericRefinement(a,"<=")||[],1)[0];return[Fe(t)?t:-1/0,Fe(n)?n:1/0]}(v);return{refine:p(y,v,g?S:{min:void 0,max:void 0}),format:f,range:S,sendEvent:(r=y,i=v,u=S,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1!==t.length){var a=t[0],s=t[1],o=t[2];if("click"===a){var c=m(s,2),l=c[0],f=c[1];d(h(i,u,l,f),r,i,o)}}else r.sendEventToInsights(t[0])}),widgetParams:o(o({},t),{},{precision:l}),start:R}},dispose:function(e){var t=e.state;return n(),t.removeDisjunctiveFacet(a).removeNumericRefinement(a)},getWidgetUiState:function(e,t){var n=t.searchParameters.getNumericRefinements(a),r=n[">="],s=void 0===r?[]:r,c=n["<="],u=void 0===c?[]:c;return 0===s.length&&0===u.length?e:o(o({},e),{},{range:o(o({},e.range),{},i({},a,"".concat(s,":").concat(u)))})},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=e.addDisjunctiveFacet(a).setQueryParameters({numericRefinements:o(o({},e.numericRefinements),{},i({},a,{}))});Fe(s)&&(r=r.addNumericRefinement(a,">=",s)),Fe(c)&&(r=r.addNumericRefinement(a,"<=",c));var u=n.range&&n.range[a];if(!u||-1===u.indexOf(":"))return r;var l=m(u.split(":").map(parseFloat),2),h=l[0],d=l[1];return Fe(h)&&(!Fe(s)||s<h)&&(r=(r=r.removeNumericRefinement(a,">=")).addNumericRefinement(a,">=",h)),Fe(d)&&(!Fe(c)||d<c)&&(r=(r=r.removeNumericRefinement(a,"<=")).addNumericRefinement(a,"<=",d)),r}}}}var Pr=et({name:"refinement-list",connector:!0});function xr(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_e;return Ie(e,Pr()),function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=n.attribute,a=n.operator,s=void 0===a?"or":a,c=n.limit,u=void 0===c?10:c,l=n.showMore,d=void 0!==l&&l,f=n.showMoreLimit,m=void 0===f?20:f,p=n.sortBy,g=void 0===p?["isRefined","count:desc","name:asc"]:p,v=n.escapeFacetValues,y=void 0===v||v,b=n.transformItems,S=void 0===b?function(e){return e}:b;if(!r)throw new Error(Pr("The `attribute` option is required."));if(!/^(and|or)$/.test(s))throw new Error(Pr('The `operator` must one of: `"and"`, `"or"` (got "'.concat(s,'").')));if(!0===d&&m<=u)throw new Error(Pr("`showMoreLimit` should be greater than `limit`."));function R(e){var t=e.name;return o(o({},h(e,["name"])),{},{label:t,value:t,highlighted:t})}function w(e){return e?m:u}var P,x,N,I,_,T=[],F=!0;return{$$type:"ais.refinementList",isShowingMore:!1,toggleShowMore:function(){},cachedToggleShowMore:function(){_()},createToggleShowMore:function(e){var t=this;return function(){t.isShowingMore=!t.isShowingMore,t.render(e)}},getLimit:function(){return w(this.isShowingMore)},init:function(t){e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return o(o({},e),{},{refinementList:o(o({},e.refinementList),{},i({},r,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(t){var i,a=t.results,s=t.state,c=t.createURL,l=t.instantSearchInstance,f=t.isFromSearch,m=void 0!==f&&f,p=t.helper,v=[];if(I&&N&&x||(I=at({instantSearchInstance:l,helper:p,attribute:r,widgetType:this.$$type}),N=function(e){I("click",e),p.toggleRefinement(r,e).search()},x=function(t){var n=this;return function(i){return function(a){var s=i.instantSearchInstance;if(""===a&&T)e(o(o({},n.getWidgetRenderState(o(o({},i),{},{results:P}))),{},{instantSearchInstance:s}));else{var c={highlightPreTag:y?qe.highlightPreTag:We.highlightPreTag,highlightPostTag:y?qe.highlightPostTag:We.highlightPostTag};t.searchForFacetValues(r,a,Math.min(w(n.isShowingMore),100),c).then((function(t){var r=y?$e(t.facetHits):t.facetHits,a=S(r.map((function(e){var t=e.value;return o(o({},h(e,["value"])),{},{value:t,label:t})}))),c=n.isShowingMore&&T.length>u;e(o(o({},n.getWidgetRenderState(o(o({},i),{},{results:P}))),{},{items:a,canToggleShowMore:c,canRefine:!0,instantSearchInstance:s,isFromSearch:!0}))}))}}}}.call(this,p)),a){v=m?(i=y?$e(a.facetHits):a.facetHits,S(i.map((function(e){var t=e.value;return o(o({},h(e,["value"])),{},{value:t,label:t})})))):(i=a.getFacetValues(r,{sortBy:g})||[],S(i.slice(0,this.getLimit()).map(R)));var b=s.maxValuesPerFacet,C=this.getLimit();F=C<b?i.length<=C:i.length<C,P=a,T=v,_=this.createToggleShowMore(t)}var k=x&&x(t),E=this.isShowingMore&&T.length>u||d&&!m&&!F;return{createURL:function(e){return c(s.toggleRefinement(r,e))},items:v,refine:N,searchForItems:k,isFromSearch:m,canRefine:m||0<v.length,widgetParams:n,isShowingMore:this.isShowingMore,canToggleShowMore:E,toggleShowMore:this.cachedToggleShowMore,sendEvent:I,hasExhaustiveItems:F}},dispose:function(e){var n=e.state;t();var i=n.setQueryParameter("maxValuesPerFacet",void 0);return"and"===s?i.removeFacet(r):i.removeDisjunctiveFacet(r)},getWidgetUiState:function(e,t){var n=t.searchParameters,a="or"===s?n.getDisjunctiveRefinements(r):n.getConjunctiveRefinements(r);return a.length?o(o({},e),{},{refinementList:o(o({},e.refinementList),{},i({},r,a))}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,a="or"===s,c=n.refinementList&&n.refinementList[r],l=e.clearRefinements(r),h=a?l.addDisjunctiveFacet(r):l.addFacet(r),f=h.maxValuesPerFacet||0,p=Math.max(f,d?m:u),g=h.setQueryParameter("maxValuesPerFacet",p);if(c)return c.reduce((function(e,t){return a?e.addDisjunctiveFacetRefinement(r,t):e.addFacetRefinement(r,t)}),g);var v=a?"disjunctiveFacetsRefinements":"facetsRefinements";return g.setQueryParameters(i({},v,o(o({},g[v]),{},i({},r,[]))))}}}}var Nr=et({name:"search-box",connector:!0});function Ir(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_e;return Ie(e,Nr()),function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=n.queryHook,i=function(){};function a(){i()}return{$$type:"ais.searchBox",init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("query",void 0)},getRenderState:function(e,t){return o(o({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,s=e.helper,o=e.searchMetadata;if(!this._refine){var c=function(e){e!==s.state.query&&s.setQuery(e).search()};this._refine=function(e){r?r(e,c):c(e)}}return t=s,i=function(){t.setQuery("").search()},{query:s.state.query||"",refine:this._refine,clear:a,widgetParams:n,isSearchStalled:o.isSearchStalled}},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return""===n||e&&e.query===n?e:o(o({},e),{},{query:n})},getWidgetSearchParameters:function(e,t){var n=t.uiState;return e.setQueryParameter("query",n.query||"")}}}}var _r=et({name:"sort-by",connector:!0});function Tr(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_e;return Ie(e,_r()),function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=n.items,i=n.transformItems,a=void 0===i?function(e){return e}:i;if(!Array.isArray(r))throw new Error(_r("The `items` option expects an array of objects."));return{$$type:"ais.sortBy",init:function(t){var n=t.instantSearchInstance,i=this.getWidgetRenderState(t),a=i.currentRefinement;Se(r,(function(e){return e.value===a})),e(o(o({},i),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setIndex(this.initialIndex)},getRenderState:function(e,t){return o(o({},e),{},{sortBy:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,i=e.helper,s=e.parent;return this.initialIndex||(this.initialIndex=s.getIndexName()),this.setIndex||(this.setIndex=function(e){i.setIndex(e).search()}),{currentRefinement:i.state.index,options:a(r),refine:this.setIndex,hasNoResults:!t||0===t.nbHits,widgetParams:n}},getWidgetUiState:function(e,t){var n=t.searchParameters.index;return n===this.initialIndex?e:o(o({},e),{},{sortBy:n})},getWidgetSearchParameters:function(e,t){var n=t.uiState;return e.setQueryParameter("index",n.sortBy||this.initialIndex||e.index)}}}}var Fr=et({name:"rating-menu",connector:!0}),Cr="ais.ratingMenu",kr=1,Er=function(e){var t=e.instantSearchInstance,n=e.helper,r=e.getRefinedStar,i=e.attribute;return function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];if(1!==a.length){var o=a[0],c=a[1],u=a[2],l=void 0===u?"Filter Applied":u;"click"===o&&(r()===Number(c)||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Cr,eventType:o,payload:{eventName:l,index:n.getIndex(),filters:["".concat(i,">=").concat(c)]}}))}else t.sendEventToInsights(a[0])}};function jr(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_e;return Ie(e,Fr()),function(){var r,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},s=a.attribute,c=a.max,u=void 0===c?5:c;if(!s)throw new Error(Fr("The `attribute` option is required."));function l(e){var t,n=e.getNumericRefinements(s);if(null!==(t=n[">="])&&void 0!==t&&t.length)return n[">="][0]}var h=function(e){return function(e,t){r("click",t);var n=l(e.state)===Number(t);e.removeNumericRefinement(s),n||e.addNumericRefinement(s,"<=",u).addNumericRefinement(s,">=",t),e.search()}.bind(t,e)},d=function(e){var t=e.state,n=e.createURL;return function(e){return n(t.removeNumericRefinement(s).addNumericRefinement(s,"<=",u).addNumericRefinement(s,">=",e))}};return{$$type:Cr,init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return o(o({},e),{},{ratingMenu:o(o({},e.ratingMenu),{},i({},s,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.helper,n=e.results,i=e.state,o=e.instantSearchInstance,c=e.createURL,f=[];if(r=r||Er({instantSearchInstance:o,helper:t,getRefinedStar:function(){return l(t.state)},attribute:s}),n)for(var g=n.getFacetValues(s),v=(g.length,function(e){var t=0;e.forEach((function(e){var n=m(e.name.split("."),2)[1],r=void 0===n?"":n;t=Math.max(t,r.length)}))}(g),l(i)),y=function(e){var t=v===e,n=g.filter((function(t){return Number(t.name)>=e&&Number(t.name)<=u})).map((function(e){return e.count})).reduce((function(e,t){return e+t}),0);if(v&&!t&&0===n)return"continue";var r=p(new Array(Math.floor(u/kr))).map((function(t,n){return n*kr<e}));f.push({stars:r,name:String(e),value:String(e),count:n,isRefined:t})},b=kr;b<u;b+=kr)y(b);return{items:f=f.reverse(),hasNoResults:!n||0===n.nbHits,refine:h(t),sendEvent:r,createURL:d({state:i,createURL:c}),widgetParams:a}},dispose:function(e){var t=e.state;return n(),t.removeNumericRefinement(s)},getWidgetUiState:function(e,t){var n=l(t.searchParameters);return"number"!=typeof n?e:o(o({},e),{},{ratingMenu:o(o({},e.ratingMenu),{},i({},s,n))})},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.ratingMenu&&n.ratingMenu[s],a=e.clearRefinements(s).addDisjunctiveFacet(s);return r?a.addNumericRefinement(s,"<=",u).addNumericRefinement(s,">=",r):a.setQueryParameters({numericRefinements:o(o({},a.numericRefinements),{},i({},s,[]))})}}}}var Mr=et({name:"stats",connector:!0});function Or(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_e;return Ie(e,Mr()),function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{$$type:"ais.stats",init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(){t()},getRenderState:function(e,t){return o(o({},e),{},{stats:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,r=e.helper;return t?{hitsPerPage:t.hitsPerPage,nbHits:t.nbHits,nbSortedHits:t.nbSortedHits,areHitsSorted:void 0!==t.appliedRelevancyStrictness&&0<t.appliedRelevancyStrictness&&t.nbSortedHits!==t.nbHits,nbPages:t.nbPages,page:t.page,processingTimeMS:t.processingTimeMS,query:t.query,widgetParams:n}:{hitsPerPage:r.state.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:r.state.page||0,processingTimeMS:-1,query:r.state.query||"",widgetParams:n}}}}}var Lr=et({name:"toggle-refinement",connector:!0}),Ar="ais.toggleRefinement",Hr=function(e){var t=e.instantSearchInstance,n=e.attribute,r=e.on,i=e.helper;return function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];if(1!==a.length){var o=a[0],c=a[1],u=a[2],l=void 0===u?"Filter Applied":u;"click"===o&&void 0!==r&&(c||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Ar,eventType:o,payload:{eventName:l,index:i.getIndex(),filters:r.map((function(e){return"".concat(n,":").concat(e)}))}}))}else t.sendEventToInsights(a[0])}};function Dr(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_e;return Ie(e,Lr()),function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=n.attribute,a=n.on,s=void 0===a||a,c=n.off;if(!r)throw new Error(Lr("The `attribute` option is required."));var u,l=void 0!==c,h=void 0!==s?Ze(s).map(Ne):void 0,d=l?Ze(c).map(Ne):void 0,f=function(e,t){var n=t.state,i=t.createURL;return function(){var t=e?h:d;t&&t.forEach((function(e){n.removeDisjunctiveFacetRefinement(r,e)}));var a=e?d:h;return a&&a.forEach((function(e){n.addDisjunctiveFacetRefinement(r,e)})),i(n)}};return{$$type:Ar,init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.removeDisjunctiveFacet(r)},getRenderState:function(e,t){return o(o({},e),{},{toggleRefinement:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,i=e.state,a=e.helper,s=e.results,o=e.createURL,c=e.instantSearchInstance,m=s?null==h?void 0:h.every((function(e){return a.state.isDisjunctiveFacetRefined(r,e)})):null==h?void 0:h.every((function(e){return i.isDisjunctiveFacetRefined(r,e)})),p={isRefined:m,count:0},g={isRefined:l&&!m,count:0};if(s){var v=Ze(d||!1),y=s.getFacetValues(r)||[],b=null==h?void 0:h.map((function(e){return Se(y,(function(t){return t.name===Re(e)}))})).filter((function(e){return void 0!==e})),S=l?v.map((function(e){return Se(y,(function(t){return t.name===Re(e)}))})).filter((function(e){return void 0!==e})):[];p={isRefined:!!b.length&&b.every((function(e){return e.isRefined})),count:b.reduce((function(e,t){return e+t.count}),0)||null},g={isRefined:!!S.length&&S.every((function(e){return e.isRefined})),count:S.reduce((function(e,t){return e+t.count}),0)||y.reduce((function(e,t){return e+t.count}),0)}}else l&&!m&&(d&&d.forEach((function(e){return a.addDisjunctiveFacetRefinement(r,e)})),a.setPage(a.state.page));return u=u||Hr({instantSearchInstance:c,attribute:r,on:h,helper:a}),{value:{name:r,isRefined:m,count:s?(m?g:p).count:null,onFacetValue:p,offFacetValue:g},state:i,createURL:f(m,{state:i,createURL:o}),sendEvent:u,refine:(t=a,function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).isRefined;e?(h.forEach((function(e){return t.removeDisjunctiveFacetRefinement(r,e)})),l&&d.forEach((function(e){return t.addDisjunctiveFacetRefinement(r,e)}))):(u("click",e),l&&d.forEach((function(e){return t.removeDisjunctiveFacetRefinement(r,e)})),h.forEach((function(e){return t.addDisjunctiveFacetRefinement(r,e)}))),t.search()}),widgetParams:n}},getWidgetUiState:function(e,t){var n=t.searchParameters,a=h&&h.every((function(e){return n.isDisjunctiveFacetRefined(r,e)}));return a?o(o({},e),{},{toggle:o(o({},e.toggle),{},i({},r,a))}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,a=e.clearRefinements(r).addDisjunctiveFacet(r);return Boolean(n.toggle&&n.toggle[r])?(h&&h.forEach((function(e){a=a.addDisjunctiveFacetRefinement(r,e)})),a):l?(d&&d.forEach((function(e){a=a.addDisjunctiveFacetRefinement(r,e)})),a):a.setQueryParameters({disjunctiveFacetsRefinements:o(o({},e.disjunctiveFacetsRefinements),{},i({},r,[]))})}}}}function qr(e,t){var n=1<arguments.length&&void 0!==t?t:_e;Ie(e,Wr());var r={};return function(t){var a=t||{},s=a.attributes,c=a.separator,u=void 0===c?" > ":c,l=a.rootPath,h=void 0===l?null:l,d=a.transformItems,f=void 0===d?function(e){return e}:d;if(!s||!Array.isArray(s)||0===s.length)throw new Error(Wr("The `attributes` option expects an array of strings."));var p=m(s,1)[0];return{$$type:"ais.breadcrumb",init:function(t){e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},dispose:function(){n()},getRenderState:function(e,t){return o(o({},e),{},{breadcrumb:o(o({},e.breadcrumb),{},i({},p,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var n=e.helper,i=e.createURL,a=e.results,s=e.state,o=function(){if(!a)return[];var e,t=m(s.hierarchicalFacets,1)[0].name,n=a.getFacetValues(t,{}),r=Array.isArray(n.data)?n.data:[];return f((e=function e(t){return t.reduce((function(t,n){return n.isRefined&&(t.push({label:n.name,value:n.path}),Array.isArray(n.data)&&(t=t.concat(e(n.data)))),t}),[])}(r)).map((function(t,n){return{label:t.label,value:n+1===e.length?null:e[n+1].value}})))}();return r.createURL||(r.createURL=function(e){if(!e){var t=n.getHierarchicalFacetBreadcrumb(p);if(0<t.length)return i(n.state.toggleFacetRefinement(p,t[0]))}return i(n.state.toggleFacetRefinement(p,e))}),r.refine||(r.refine=function(e){if(e)n.toggleRefinement(p,e).search();else{var t=n.getHierarchicalFacetBreadcrumb(p);0<t.length&&n.toggleRefinement(p,t[0]).search()}}),{canRefine:0<o.length,createURL:r.createURL,items:o,refine:r.refine,widgetParams:t}},getWidgetSearchParameters:function(e){return e.isHierarchicalFacet(p)?(e.getHierarchicalFacetByName(p),e):e.addHierarchicalFacet({name:p,attributes:s,separator:u,rootPath:h})}}}}var Wr=et({name:"breadcrumb",connector:!0});function Br(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,Qr()),function(){function t(e){return e.aroundLatLng&&function(e){var t=e.match(tt);if(!t)throw new Error('Invalid value for "aroundLatLng" parameter: "'.concat(e,'"'));return{lat:parseFloat(t[1]),lng:parseFloat(t[2])}}(e.aroundLatLng)}function r(){return g.internalToggleRefineOnMapMove()}function i(e,t){return function(){g.isRefineOnMapMove=!g.isRefineOnMapMove,e(t)}}function a(){return g.isRefineOnMapMove}function s(){return g.internalSetMapMoveSinceLastRefine()}function c(e,t){return function(){var n=!0!==g.hasMapMoveSinceLastRefine;g.hasMapMoveSinceLastRefine=!0,n&&e(t)}}function u(){return g.hasMapMoveSinceLastRefine}var l,h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=h.enableRefineOnMapMove,f=void 0===d||d,m=h.transformItems,p=void 0===m?function(e){return e}:m,g={isRefineOnMapMove:f,hasMapMoveSinceLastRefine:!1,lastRefinePosition:"",lastRefineBoundingBox:"",internalToggleRefineOnMapMove:_e,internalSetMapMoveSinceLastRefine:_e};return{$$type:$r,init:function(t){var n=t.instantSearchInstance;g.internalToggleRefineOnMapMove=i(_e,t),g.internalSetMapMoveSinceLastRefine=c(_e,t),e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.helper,r=t.instantSearchInstance,a=n.state,s=Boolean(a.aroundLatLng)&&Boolean(g.lastRefinePosition)&&a.aroundLatLng!==g.lastRefinePosition,u=!a.insideBoundingBox&&Boolean(g.lastRefineBoundingBox)&&a.insideBoundingBox!==g.lastRefineBoundingBox;(s||u)&&(g.hasMapMoveSinceLastRefine=!1),g.lastRefinePosition=a.aroundLatLng||"",g.lastRefineBoundingBox=a.insideBoundingBox||"",g.internalToggleRefineOnMapMove=i(this.render.bind(this),t),g.internalSetMapMoveSinceLastRefine=c(this.render.bind(this),t);var h=this.getWidgetRenderState(t);l("view",h.items),e(o(o({},h),{},{instantSearchInstance:r}),!1)},getWidgetRenderState:function(e){var n,i,o=e.helper,c=e.results,d=e.instantSearchInstance,f=o.state,m=c?p(c.hits.filter((function(e){return e._geoloc}))):[];return l=l||ot({instantSearchInstance:d,index:o.getIndex(),widgetType:$r}),{items:m,position:t(f),currentRefinement:(i=f,i.insideBoundingBox&&nt(i.insideBoundingBox)),refine:(n=o,function(e){var t=e.northEast,r=e.southWest,i=[t.lat,t.lng,r.lat,r.lng].join();n.setQueryParameter("insideBoundingBox",i).search(),g.hasMapMoveSinceLastRefine=!1,g.lastRefineBoundingBox=i}),sendEvent:l,clearMapRefinement:function(e){return function(){e.setQueryParameter("insideBoundingBox",void 0).search()}}(o),isRefinedWithMap:function(e){return function(){return Boolean(e.insideBoundingBox)}}(f),toggleRefineOnMapMove:r,isRefineOnMapMove:a,setMapMoveSinceLastRefine:s,hasMapMoveSinceLastRefine:u,widgetParams:h}},getRenderState:function(e,t){return o(o({},e),{},{geoSearch:this.getWidgetRenderState(t)})},dispose:function(e){var t=e.state;return n(),t.setQueryParameter("insideBoundingBox",void 0)},getWidgetUiState:function(e,t){var n=t.searchParameters.insideBoundingBox;return!n||e&&e.geoSearch&&e.geoSearch.boundingBox===n?e:o(o({},e),{},{geoSearch:{boundingBox:n}})},getWidgetSearchParameters:function(e,t){var n=t.uiState;return n&&n.geoSearch?e.setQueryParameter("insideBoundingBox",n.geoSearch.boundingBox):e.setQueryParameter("insideBoundingBox",void 0)}}}}function Ur(e,t){var n=1<arguments.length&&void 0!==t?t:_e;Ie(e,Vr());var r="https://www.algolia.com/?utm_source=instantsearch.js&utm_medium=website&"+"utm_content=".concat("undefined"!=typeof window&&window.location?window.location.hostname:"","&")+"utm_campaign=poweredby";return function(t){var i=(t||{}).url,a=void 0===i?r:i;return{$$type:"ais.poweredBy",init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return o(o({},e),{},{poweredBy:this.getWidgetRenderState(t)})},getWidgetRenderState:function(){return{url:a,widgetParams:t}},dispose:function(){n()}}}}var Qr=et({name:"geo-search",connector:!0}),$r="ais.geoSearch",Vr=et({name:"powered-by",connector:!0}),zr=et({name:"configure",connector:!0});function Kr(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce((function(e,t){return o(o({},e),{},i({},t,void 0))}),{}))}function Jr(e,t){var n=0<arguments.length&&void 0!==e?e:_e,r=1<arguments.length&&void 0!==t?t:_e;return function(e){if(!e||!Ce(e.searchParameters))throw new Error(zr("The `searchParameters` option expects an object."));var t={};return{$$type:"ais.configure",init:function(e){var t=e.instantSearchInstance;n(o(o({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;n(o(o({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(t){var n=t.state;return r(),Kr(n,e)},getRenderState:function(e,t){var n,r=this.getWidgetRenderState(t);return o(o({},e),{},{configure:o(o({},r),{},{widgetParams:o(o({},r.widgetParams),{},{searchParameters:Xe(new ce.SearchParameters(null===(n=e.configure)||void 0===n?void 0:n.widgetParams.searchParameters),new ce.SearchParameters(r.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(n){var r,i=n.helper;return t.refine||(t.refine=(r=i,function(t){var n=Xe(Kr(r.state,e),new ce.SearchParameters(t));e.searchParameters=t,r.setState(n).search()})),{refine:t.refine,widgetParams:e}},getWidgetSearchParameters:function(t,n){var r=n.uiState;return Xe(t,new ce.SearchParameters(o(o({},r.configure),e.searchParameters)))},getWidgetUiState:function(t){return o(o({},t),{},{configure:o(o({},t.configure),e.searchParameters)})}}}}var Yr=et({name:"configure-related-items",connector:!0});function Gr(e){var t=e.attributeName,n=e.attributeValue,r=e.attributeScore;return"".concat(t,":").concat(n,"<score=").concat(r||1,">")}function Xr(e,t){return function(n){var r=n||{},i=r.hit,a=r.matchingPatterns,s=r.transformSearchParameters,c=void 0===s?function(e){return e}:s;if(!i)throw new Error(Yr("The `hit` option is required."));if(!a)throw new Error(Yr("The `matchingPatterns` option is required."));var u=Object.keys(a).reduce((function(e,t){var n=a[t],r=Te(i,t),s=n.score;return Array.isArray(r)?[].concat(p(e),[r.map((function(e){return Gr({attributeName:t,attributeValue:e,attributeScore:s})}))]):"string"==typeof r?[].concat(p(e),[Gr({attributeName:t,attributeValue:r,attributeScore:s})]):e}),[]),l=o({},c(new ce.SearchParameters({sumOrFiltersScores:!0,facetFilters:["objectID:-".concat(i.objectID)],optionalFilters:u})));return o(o({},Jr(e,t)({searchParameters:l})),{},{$$type:"ais.configureRelatedItems"})}}var Zr=et({name:"autocomplete",connector:!0}),ei=et({name:"query-rules",connector:!0});function ti(e){var t,n,r,i,a=this.helper,s=this.initialRuleContexts,c=this.trackedFilters,u=this.transformRuleContexts,l=e.state,h=l.ruleContexts||[],d=(n=(t={helper:a,sharedHelperState:l,trackedFilters:c}).helper,r=t.sharedHelperState,i=t.trackedFilters,Object.keys(i).reduce((function(e,t){var a=Pe(n.lastResults||{},r,!0).filter((function(e){return e.attribute===t})).map((function(e){return e.numericValue||e.name})),s=(0,i[t])(a);return[].concat(p(e),p(a.filter((function(e){return s.includes(e)})).map((function(e){return"ais-".concat(t,"-").concat(e).replace(/[^a-z0-9-_]+/gi,"_")}))))}),[])),f=u([].concat(p(s),p(d))).slice(0,10);je(h,f)||a.overrideStateWithoutTriggeringChangeEvent(o(o({},l),{},{ruleContexts:f}))}function ni(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,ei()),function(t){var r=t||{},i=r.trackedFilters,a=void 0===i?{}:i,s=r.transformRuleContexts,c=void 0===s?function(e){return e}:s,u=r.transformItems,l=void 0===u?function(e){return e}:u;Object.keys(a).forEach((function(e){if("function"!=typeof a[e])throw new Error(ei("'The \"".concat(e,'" filter value in the `trackedFilters` option expects a function.')))}));var h,d=0<Object.keys(a).length,f=[];return{$$type:"ais.queryRules",init:function(n){var r,i=n.helper,s=n.state,u=n.instantSearchInstance;f=s.ruleContexts||[],h=ti.bind({helper:i,initialRuleContexts:f,trackedFilters:a,transformRuleContexts:c}),d&&(([(r=s).disjunctiveFacetsRefinements,r.facetsRefinements,r.hierarchicalFacetsRefinements,r.numericRefinements].some((function(e){return Boolean(e&&0<Object.keys(e).length)}))||Boolean(t.transformRuleContexts))&&h({state:s}),i.on("change",h)),e(o(o({},this.getWidgetRenderState(n)),{},{instantSearchInstance:u}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getWidgetRenderState:function(e){var n=(e.results||{}).userData;return{items:l(void 0===n?[]:n),widgetParams:t}},getRenderState:function(e,t){return o(o({},e),{},{queryRules:this.getWidgetRenderState(t)})},dispose:function(e){var t=e.helper,r=e.state;return n(),d?(t.removeListener("change",h),r.setQueryParameter("ruleContexts",f)):r}}}}function ri(e){function t(e){return{status:e,transcript:"",isSpeechFinal:!1,errorCode:void 0}}function n(e){var t=0<arguments.length&&void 0!==e?e:{};g=o(o({},g),t),m()}function r(e){n(t(0<arguments.length&&void 0!==e?e:"initial"))}function i(){n({status:"waiting"})}function a(e){n({status:"error",errorCode:e.error})}function s(e){n({status:"recognizing",transcript:e.results[0]&&e.results[0][0]&&e.results[0][0].transcript||"",isSpeechFinal:e.results[0]&&e.results[0].isFinal}),h&&g.transcript&&f(g.transcript)}function c(){g.errorCode||!g.transcript||h||f(g.transcript),"error"!==g.status&&n({status:"finished"})}function u(){l&&(l.stop(),l.removeEventListener("start",i),l.removeEventListener("error",a),l.removeEventListener("result",s),l.removeEventListener("end",c),l=void 0)}var l,h=e.searchAsYouSpeak,d=e.language,f=e.onQueryChange,m=e.onStateChange,p=window.webkitSpeechRecognition||window.SpeechRecognition,g=t("initial");return{getState:function(){return g},isBrowserSupported:function(){return Boolean(p)},isListening:function(){return"askingPermission"===g.status||"waiting"===g.status||"recognizing"===g.status},startListening:function(){(l=new p)&&(r("askingPermission"),l.interimResults=!0,d&&(l.lang=d),l.addEventListener("start",i),l.addEventListener("error",a),l.addEventListener("result",s),l.addEventListener("end",c),l.start())},stopListening:function(){u(),r("finished")},dispose:u}}function ii(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,ai()),function(t){var r=t.searchAsYouSpeak,i=void 0!==r&&r,a=t.language,s=t.additionalQueryParameters,c=t.createVoiceSearchHelper,u=void 0===c?ri:c;return{$$type:"ais.voiceSearch",init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return o(o({},e),{},{voiceSearch:this.getWidgetRenderState(t)})},getWidgetRenderState:function(n){var r=this,c=n.helper,l=n.instantSearchInstance;this._refine||(this._refine=function(e){if(e!==c.state.query){var t=a?[a.split("-")[0]]:void 0;c.setQueryParameter("queryLanguages",t),"function"==typeof s&&c.setState(c.state.setQueryParameters(o({ignorePlurals:!0,removeStopWords:!0,optionalWords:e},s({query:e})))),c.setQuery(e).search()}}),this._voiceSearchHelper||(this._voiceSearchHelper=u({searchAsYouSpeak:i,language:a,onQueryChange:function(e){return r._refine(e)},onStateChange:function(){e(o(o({},r.getWidgetRenderState(n)),{},{instantSearchInstance:l}),!1)}}));var h=this._voiceSearchHelper,d=h.isBrowserSupported,f=h.isListening,m=h.startListening,p=h.stopListening,g=h.getState;return{isBrowserSupported:d(),isListening:f(),toggleListening:function(){d()&&(f()?p():m())},voiceListeningState:g(),widgetParams:t}},dispose:function(e){var t=e.state;this._voiceSearchHelper.dispose(),n();var r=t;if("function"==typeof s){var i=s({query:""}),a=i?Object.keys(i).reduce((function(e,t){return e[t]=void 0,e}),{}):{};r=t.setQueryParameters(o({queryLanguages:void 0,ignorePlurals:void 0,removeStopWords:void 0,optionalWords:void 0},a))}return r.setQueryParameter("query",void 0)},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return n?o(o({},e),{},{query:n}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState;return e.setQueryParameter("query",n.query||"")}}}}var ai=et({name:"voice-search",connector:!0}),si=Object.freeze({__proto__:null,connectClearRefinements:un,connectCurrentRefinements:dn,connectHierarchicalMenu:bn,connectHits:Sn,connectHitsWithInsights:nr,connectHitsPerPage:tr,connectInfiniteHits:sr,connectInfiniteHitsWithInsights:ur,connectMenu:or,connectNumericMenu:cr,connectPagination:gr,connectRange:wr,connectRefinementList:xr,connectSearchBox:Ir,connectSortBy:Tr,connectRatingMenu:jr,connectStats:Or,connectToggleRefinement:Dr,connectBreadcrumb:qr,connectGeoSearch:Br,connectPoweredBy:Ur,connectConfigure:Jr,EXPERIMENTAL_connectConfigureRelatedItems:Xr,connectAutocomplete:function(e,t){var n=1<arguments.length&&void 0!==t?t:_e;return Ie(e,Zr()),function(t){var r=(t||{}).escapeHTML,a=void 0===r||r,s={};return{$$type:"ais.autocomplete",init:function(t){var n=t.instantSearchInstance;e(o(o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance,r=this.getWidgetRenderState(t);r.indices.forEach((function(e){(0,e.sendEvent)("view",e.hits)})),e(o(o({},r),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return o(o({},e),{},{autocomplete:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var n=this,r=e.helper,i=e.scopedResults,o=e.instantSearchInstance;s.refine||(s.refine=function(e){r.setQuery(e).search()});var c=i.map((function(e){e.results.hits=a?Qe(e.results.hits):e.results.hits;var t=ot({instantSearchInstance:o,index:e.results.index,widgetType:n.$$type});return{indexId:e.indexId,indexName:e.results.index,hits:e.results.hits,results:e.results,sendEvent:t}}));return{currentRefinement:r.state.query||"",indices:c,refine:s.refine,widgetParams:t}},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return""===n||e&&e.query===n?e:o(o({},e),{},{query:n})},getWidgetSearchParameters:function(e,t){var n={query:t.uiState.query||""};return a?e.setQueryParameters(o(o({},n),qe)):e.setQueryParameters(n)},dispose:function(e){var t=e.state;n();var r=t.setQueryParameter("query",void 0);return a?r.setQueryParameters(Object.keys(qe).reduce((function(e,t){return o(o({},e),{},i({},t,void 0))}),{})):r}}}},connectQueryRules:ni,connectVoiceSearch:ii}),oi=pe((function(e){function t(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var a=typeof i;if("string"==a||"number"==a)e.push(i);else if(Array.isArray(i)&&i.length){var s=t.apply(null,i);s&&e.push(s)}else if("object"==a)for(var o in i)n.call(i,o)&&i[o]&&e.push(o)}}return e.join(" ")}var n;n={}.hasOwnProperty,e.exports?(t.default=t,e.exports=t):window.classNames=t})),ci=function(){c(n,An);var e=f(n);function n(){return t(this,n),e.apply(this,arguments)}return r(n,[{key:"shouldComponentUpdate",value:function(e){return!je(this.props.data,e.data)||this.props.templateKey!==e.templateKey||!je(this.props.rootProps,e.rootProps)}},{key:"render",value:function(){var e=this.props.rootTagName,t=this.props.useCustomCompileOptions[this.props.templateKey]?this.props.templatesConfig.compileOptions:{},n=be({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:t,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent});return null===n?null:Mn(e,a({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:n}}))}}]),n}();function ui(e){var t=e.hasRefinements,n=e.refine,r=e.cssClasses,s=e.templateProps;return Mn("div",{className:r.root},Mn(ci,a({},s,{templateKey:"resetLabel",rootTagName:"button",rootProps:{className:oi(r.button,i({},r.disabledButton,!t)),onClick:n,disabled:!t},data:{hasRefinements:t}})))}function li(e){var t=e.items,n=e.cssClasses;return Mn("div",{className:n.root},Mn("ul",{className:n.list},t.map((function(e,t){return Mn("li",{key:"".concat(e.indexName,"-").concat(e.attribute,"-").concat(t),className:n.item},Mn("span",{className:n.label},(r=e.label).toString().charAt(0).toUpperCase()+r.toString().slice(1),":"),e.refinements.map((function(t){return Mn("span",{key:(r=t,i=r.attribute,a=r.value,[i,r.type,a,r.operator].map((function(e){return e})).filter(Boolean).join(":")),className:n.category},Mn("span",{className:n.categoryLabel},"query"===t.attribute?Mn("q",null,t.label):t.label),Mn("button",{className:n.delete,onClick:function(e){return function(t){de(t)||(t.preventDefault(),e())}}(e.refine.bind(null,t))},"â"));var r,i,a})));var r}))))}function hi(e,t){var n=e.items,r=e.widgetParams;if(!t){var i=r.container;Xn(Mn(li,{cssClasses:r.cssClasses,items:n}),i)}}function di(e){var t=e.className,n=e.disabled;return Mn("button",{className:t,onClick:e.onClick,disabled:n},e.children)}ci.defaultProps={data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}};var fi={resetLabel:"Clear refinements"},mi=et({name:"clear-refinements"}),pi=vt("ClearRefinements"),gi=et({name:"current-refinements"}),vi=vt("CurrentRefinements");function yi(e){var t=e.classNameLabel,n=e.classNameInput,r=e.checked,i=e.onToggle,a=e.children;return Mn("label",{className:t},Mn("input",{className:n,type:"checkbox",checked:r,onChange:i}),a)}function bi(e){var t=e.cssClasses,n=e.enableRefine,r=e.enableRefineControl,s=e.enableClearMapRefinement,o=e.isRefineOnMapMove,c=e.isRefinedWithMap,u=e.hasMapMoveSinceLastRefine,l=e.onRefineToggle,h=e.onRefineClick,d=e.onClearClick,f=e.templateProps;return n&&Mn("div",null,r&&Mn("div",{className:t.control},o||!u?Mn(yi,{classNameLabel:oi(t.label,i({},t.selectedLabel,o)),classNameInput:t.input,checked:o,onToggle:l},Mn(ci,a({},f,{templateKey:"toggle",rootTagName:"span"}))):Mn(di,{className:t.redo,disabled:!u,onClick:h},Mn(ci,a({},f,{templateKey:"redo",rootTagName:"span"})))),!r&&!o&&Mn("div",{className:t.control},Mn(di,{className:oi(t.redo,i({},t.disabledRedo,!u)),disabled:!u,onClick:h},Mn(ci,a({},f,{templateKey:"redo",rootTagName:"span"})))),s&&c&&Mn(di,{className:t.reset,onClick:d},Mn(ci,a({},f,{templateKey:"reset",rootTagName:"span"}))))}function Si(e){var t=e.refine,n=e.mapInstance;return t({northEast:n.getBounds().getNorthEast().toJSON(),southWest:n.getBounds().getSouthWest().toJSON()})}function Ri(e,t){e.isUserInteraction=!1,t(),e.isUserInteraction=!0}function wi(e,t){var n=e.items,r=e.position,i=e.currentRefinement,a=e.refine,s=e.clearMapRefinement,c=e.toggleRefineOnMapMove,u=e.isRefineOnMapMove,l=e.setMapMoveSinceLastRefine,h=e.hasMapMoveSinceLastRefine,d=e.isRefinedWithMap,f=e.widgetParams,p=e.instantSearchInstance,g=f.container,v=f.googleReference,y=f.cssClasses,b=f.templates,S=f.initialZoom,R=f.initialPosition,w=f.enableRefine,P=f.enableClearMapRefinement,x=f.enableRefineControl,N=f.mapOptions,I=f.createMarker,_=f.markerOptions,T=f.renderState;if(t){T.isUserInteraction=!0,T.isPendingRefine=!1,T.markers=[];var F=document.createElement("div");F.className=y.root,g.appendChild(F);var C=document.createElement("div");C.className=y.map,F.appendChild(C);var k=document.createElement("div");return k.className=y.tree,F.appendChild(k),T.mapInstance=new v.maps.Map(C,o({mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1,clickableIcons:!1,zoomControlOptions:{position:v.maps.ControlPosition.LEFT_TOP}},N)),v.maps.event.addListenerOnce(T.mapInstance,"idle",(function(){function e(){T.isUserInteraction&&w&&(l(),u()&&(T.isPendingRefine=!0))}T.mapInstance.addListener("center_changed",e),T.mapInstance.addListener("zoom_changed",e),T.mapInstance.addListener("dragstart",e),T.mapInstance.addListener("idle",(function(){T.isUserInteraction&&T.isPendingRefine&&(T.isPendingRefine=!1,Si({mapInstance:T.mapInstance,refine:a}))}))})),void(T.templateProps=me({templatesConfig:p.templatesConfig,templates:b}))}var E,j,M=n.map((function(e){return e.objectID})),O=m((E=T.markers,j=M,E.reduce((function(e,t){var n=m(e,2),r=n[0],i=n[1];return j.includes(t.__id)?[r.concat(t),i]:[r,i.concat(t)]}),[[],[]])),2),L=O[0],A=O[1],H=L.map((function(e){return e.__id})),D=n.filter((function(e){return!H.includes(e.objectID)}));A.forEach((function(e){return e.setMap(null)})),T.markers=L.concat(D.map((function(e){var t=I({map:T.mapInstance,item:e});return Object.keys(_.events).forEach((function(n){t.addListener(n,(function(r){_.events[n]({map:T.mapInstance,event:r,item:e,marker:t})}))})),t})));var q=!h(),W=i?0:null,B=!i&&Boolean(T.markers.length)?function(e,t){var n=t.reduce((function(e,t){return e.extend(t.getPosition())}),new e.maps.LatLngBounds);return{northEast:n.getNorthEast().toJSON(),southWest:n.getSouthWest().toJSON()}}(v,T.markers):i;B&&q?Ri(T,(function(){T.mapInstance.fitBounds(new v.maps.LatLngBounds(B.southWest,B.northEast),W)})):q&&Ri(T,(function(){T.mapInstance.setCenter(r||R),T.mapInstance.setZoom(S)})),Xn(Mn(bi,{cssClasses:y,enableRefine:w,enableRefineControl:x,enableClearMapRefinement:P,isRefineOnMapMove:u(),isRefinedWithMap:d(),hasMapMoveSinceLastRefine:h(),onRefineToggle:c,onRefineClick:function(){return Si({mapInstance:T.mapInstance,refine:a})},onClearClick:s,templateProps:T.templateProps}),g.querySelector(".".concat(y.tree)))}di.defaultProps={disabled:!1};var Pi={HTMLMarker:"<p>Your custom HTML Marker</p>",reset:"Clear the map refinement",toggle:"Search as I move the map",redo:"Redo search here"},xi=et({name:"geo-search"}),Ni=vt("GeoSearch");function Ii(e){var t=e.className,n=e.handleClick,r=e.facetValueToRefine,i=e.isRefined,s=e.templateProps,o=e.templateKey,c=e.templateData,u=e.subItems;return Mn("li",{className:t,onClick:function(e){n({facetValueToRefine:r,isRefined:i,originalEvent:e})}},Mn(ci,a({},s,{templateKey:o,data:c})),u)}var _i=function(){c(n,An);var e=f(n);function n(){var r;t(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return i(d(r=e.call.apply(e,[this].concat(s))),"state",{query:r.props.query,focused:!1}),i(d(r),"onInput",(function(e){var t=r.props,n=t.searchAsYouType,i=t.refine,a=t.onChange,s=e.target.value;n&&i(s),r.setState({query:s}),a(e)})),i(d(r),"onSubmit",(function(e){var t=r.props,n=t.searchAsYouType,i=t.refine,a=t.onSubmit;return e.preventDefault(),e.stopPropagation(),r.input.blur(),n||i(r.state.query),a(e),!1})),i(d(r),"onReset",(function(e){var t=r.props,n=t.refine,i=t.onReset;r.input.focus(),n(""),r.setState({query:""}),i(e)})),i(d(r),"onBlur",(function(){r.setState({focused:!1})})),i(d(r),"onFocus",(function(){r.setState({focused:!0})})),r}return r(n,[{key:"resetInput",value:function(){this.setState({query:""})}},{key:"componentWillReceiveProps",value:function(e){this.state.focused||e.query===this.state.query||this.setState({query:e.query})}},{key:"render",value:function(){var e=this,t=this.props,n=t.cssClasses,r=t.placeholder,i=t.autofocus,a=t.showSubmit,s=t.showReset,o=t.showLoadingIndicator,c=t.templates,u=t.isSearchStalled;return Mn("div",{className:n.root},Mn("form",{action:"",role:"search",className:n.form,noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset},Mn("input",{ref:function(t){return e.input=t},value:this.state.query,disabled:this.props.disabled,className:n.input,type:"search",placeholder:r,autoFocus:i,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",maxLength:512,onInput:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus}),Mn(ci,{templateKey:"submit",rootTagName:"button",rootProps:{className:n.submit,type:"submit",title:"Submit the search query.",hidden:!a},templates:c,data:{cssClasses:n}}),Mn(ci,{templateKey:"reset",rootTagName:"button",rootProps:{className:n.reset,type:"reset",title:"Clear the search query.",hidden:!(s&&this.state.query.trim()&&!u)},templates:c,data:{cssClasses:n}}),o&&Mn(ci,{templateKey:"loadingIndicator",rootTagName:"span",rootProps:{className:n.loadingIndicator,hidden:!u},templates:c,data:{cssClasses:n}})))}}]),n}();i(_i,"defaultProps",{query:"",showSubmit:!0,showReset:!0,showLoadingIndicator:!0,autofocus:!1,searchAsYouType:!0,isSearchStalled:!1,disabled:!1,onChange:_e,onSubmit:_e,onReset:_e,refine:_e});var Ti=function(){c(n,An);var e=f(n);function n(r){var i;return t(this,n),(i=e.call(this,r)).handleItemClick=i.handleItemClick.bind(d(i)),i}return r(n,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.state!==t,r=!je(this.props.facetValues,e.facetValues);return n||r}},{key:"refine",value:function(e,t){this.props.toggleRefinement(e,t)}},{key:"_generateFacetItem",value:function(e){var t,r,s=e.data&&0<e.data.length;if(s){var c=this.props.cssClasses,u=(c.root,h(c,["root"]));r=Mn(n,a({},this.props,{cssClasses:u,depth:this.props.depth+1,facetValues:e.data,showMore:!1,className:this.props.cssClasses.childList}))}var l=this.props.createURL(e.value),d=o(o({},e),{},{url:l,attribute:this.props.attribute,cssClasses:this.props.cssClasses,isFromSearch:this.props.isFromSearch}),f=e.value;return void 0!==e.isRefined&&(f+="/".concat(e.isRefined)),void 0!==e.count&&(f+="/".concat(e.count)),Mn(Ii,{templateKey:"item",key:f,facetValueToRefine:e.value,handleClick:this.handleItemClick,isRefined:e.isRefined,className:oi(this.props.cssClasses.item,(t={},i(t,this.props.cssClasses.selectedItem,e.isRefined),i(t,this.props.cssClasses.disabledItem,!e.count),i(t,this.props.cssClasses.parentItem,s),t)),subItems:r,templateData:d,templateProps:this.props.templateProps})}},{key:"handleItemClick",value:function(e){var t=e.facetValueToRefine,n=e.originalEvent,r=e.isRefined;if(!(de(n)||r&&n.target.parentNode.querySelector('input[type="radio"]:checked')))if("INPUT"!==n.target.tagName){for(var i=n.target;i!==n.currentTarget;){if("LABEL"===i.tagName&&(i.querySelector('input[type="checkbox"]')||i.querySelector('input[type="radio"]')))return;"A"===i.tagName&&i.href&&n.preventDefault(),i=i.parentNode}n.stopPropagation(),this.refine(t,r)}else this.refine(t,r)}},{key:"componentWillReceiveProps",value:function(e){this.searchBox&&!e.isFromSearch&&this.searchBox.resetInput()}},{key:"refineFirstValue",value:function(){var e=this.props.facetValues[0];if(e){var t=e.value;this.props.toggleRefinement(t)}}},{key:"render",value:function(){var e=this,t=oi(this.props.cssClasses.list,i({},"".concat(this.props.cssClasses.depth).concat(this.props.depth),this.props.cssClasses.depth)),n=oi(this.props.cssClasses.showMore,i({},this.props.cssClasses.disabledShowMore,!(!0===this.props.showMore&&this.props.canToggleShowMore))),r=!0===this.props.showMore&&Mn(ci,a({},this.props.templateProps,{templateKey:"showMoreText",rootTagName:"button",rootProps:{className:n,disabled:!this.props.canToggleShowMore,onClick:this.props.toggleShowMore},data:{isShowingMore:this.props.isShowingMore}})),s=!0!==this.props.searchIsAlwaysActive&&!(this.props.isFromSearch||!this.props.hasExhaustiveItems),o=this.props.searchFacetValues&&Mn("div",{className:this.props.cssClasses.searchBox},Mn(_i,{ref:function(t){return e.searchBox=t},placeholder:this.props.searchPlaceholder,disabled:s,cssClasses:this.props.cssClasses.searchable,templates:this.props.templateProps.templates,onChange:function(t){return e.props.searchFacetValues(t.target.value)},onReset:function(){return e.props.searchFacetValues("")},onSubmit:function(){return e.refineFirstValue()},searchAsYouType:!1})),c=this.props.facetValues&&0<this.props.facetValues.length&&Mn("ul",{className:t},this.props.facetValues.map(this._generateFacetItem,this)),u=this.props.searchFacetValues&&this.props.isFromSearch&&0===this.props.facetValues.length&&Mn(ci,a({},this.props.templateProps,{templateKey:"searchableNoResults",rootProps:{className:this.props.cssClasses.noResults}}));return Mn("div",{className:oi(this.props.cssClasses.root,i({},this.props.cssClasses.noRefinementRoot,!this.props.facetValues||0===this.props.facetValues.length),this.props.className)},this.props.children,o,c,u,r)}}]),n}();Ti.defaultProps={cssClasses:{},depth:0};var Fi={item:'<a class="{{cssClasses.link}}" href="{{url}}"><span class="{{cssClasses.label}}">{{label}}</span><span class="{{cssClasses.count}}">{{#helpers.formatNumber}}{{count}}{{/helpers.formatNumber}}</span></a>',showMoreText:"\n    {{#isShowingMore}}\n      Show less\n    {{/isShowingMore}}\n    {{^isShowingMore}}\n      Show more\n    {{/isShowingMore}}\n  "},Ci=et({name:"hierarchical-menu"}),ki=vt("HierarchicalMenu");function Ei(e){var t=e.results,n=e.hits,r=e.bindEvent,i=e.cssClasses,s=e.templateProps;return 0===t.hits.length?Mn(ci,a({},s,{templateKey:"empty",rootProps:{className:oi(i.root,i.emptyRoot)},data:t})):Mn("div",{className:i.root},Mn("ol",{className:i.list},n.map((function(e,t){return Mn(ci,a({},s,{templateKey:"item",rootTagName:"li",rootProps:{className:i.item},key:e.objectID,data:o(o({},e),{},{__hitIndex:t}),bindEvent:r}))}))))}Ei.defaultProps={results:{hits:[]},hits:[]};var ji={empty:"No results",item:function(e){return JSON.stringify(e,null,2)}},Mi=et({name:"hits"}),Oi=vt("Hits"),Li=er(Ei);function Ai(e){var t=e.currentValue,n=e.options,r=e.cssClasses,i=e.setValue;return Mn("select",{className:oi(r.select),onChange:function(e){return i(e.target.value)},value:"".concat(t)},n.map((function(e){return Mn("option",{className:oi(r.option),key:e.label+e.value,value:"".concat(e.value)},e.label)})))}var Hi=et({name:"hits-per-page"}),Di=vt("HitsPerPage"),qi={empty:"No results",showPreviousText:"Show previous results",showMoreText:"Show more results",item:function(e){return JSON.stringify(e,null,2)}},Wi=et({name:"infinite-hits"}),Bi=vt("InfiniteHits"),Ui=er((function(e){var t=e.results,n=e.hits,r=e.bindEvent,s=e.hasShowPrevious,c=e.showPrevious,u=e.showMore,l=e.isFirstPage,h=e.isLastPage,d=e.cssClasses,f=e.templateProps;return 0===t.hits.length?Mn(ci,a({},f,{templateKey:"empty",rootProps:{className:oi(d.root,d.emptyRoot)},data:t})):Mn("div",{className:d.root},s&&Mn(ci,a({},f,{templateKey:"showPreviousText",rootTagName:"button",rootProps:{className:oi(d.loadPrevious,i({},d.disabledLoadPrevious,l)),disabled:l,onClick:c}})),Mn("ol",{className:d.list},n.map((function(e,t){return Mn(ci,a({},f,{templateKey:"item",rootTagName:"li",rootProps:{className:d.item},key:e.objectID,data:o(o({},e),{},{__hitIndex:t}),bindEvent:r}))}))),Mn(ci,a({},f,{templateKey:"showMoreText",rootTagName:"button",rootProps:{className:oi(d.loadMore,i({},d.disabledLoadMore,h)),disabled:h,onClick:u}})))})),Qi={item:'<a class="{{cssClasses.link}}" href="{{url}}"><span class="{{cssClasses.label}}">{{label}}</span><span class="{{cssClasses.count}}">{{#helpers.formatNumber}}{{count}}{{/helpers.formatNumber}}</span></a>',showMoreText:"\n    {{#isShowingMore}}\n      Show less\n    {{/isShowingMore}}\n    {{^isShowingMore}}\n      Show more\n    {{/isShowingMore}}\n  "},$i=et({name:"menu"}),Vi=vt("Menu"),zi={reset:'\n<svg class="{{cssClasses.resetIcon}}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="10" height="10">\n  <path d="M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"></path>\n</svg>\n  ',submit:'\n<svg class="{{cssClasses.submitIcon}}" xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 40 40">\n  <path d="M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"></path>\n</svg>\n  ',loadingIndicator:'\n<svg class="{{cssClasses.loadingIcon}}" width="16" height="16" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="#444">\n  <g fill="none" fillRule="evenodd">\n    <g transform="translate(1 1)" strokeWidth="2">\n      <circle strokeOpacity=".5" cx="18" cy="18" r="18" />\n      <path d="M36 18c0-9.94-8.06-18-18-18">\n        <animateTransform\n          attributeName="transform"\n          type="rotate"\n          from="0 18 18"\n          to="360 18 18"\n          dur="1s"\n          repeatCount="indefinite"\n        />\n      </path>\n    </g>\n  </g>\n</svg>\n  '},Ki={item:'<label class="{{cssClasses.label}}">\n  <input type="checkbox"\n         class="{{cssClasses.checkbox}}"\n         value="{{value}}"\n         {{#isRefined}}checked{{/isRefined}} />\n  <span class="{{cssClasses.labelText}}">{{#isFromSearch}}{{{highlighted}}}{{/isFromSearch}}{{^isFromSearch}}{{highlighted}}{{/isFromSearch}}</span>\n  <span class="{{cssClasses.count}}">{{#helpers.formatNumber}}{{count}}{{/helpers.formatNumber}}</span>\n</label>',showMoreText:"\n    {{#isShowingMore}}\n      Show less\n    {{/isShowingMore}}\n    {{^isShowingMore}}\n      Show more\n    {{/isShowingMore}}\n    ",searchableNoResults:"No results",searchableReset:zi.reset,searchableSubmit:zi.submit,searchableLoadingIndicator:zi.loadingIndicator},Ji=et({name:"refinement-list"}),Yi=vt("RefinementList"),Gi=vt("SearchBox"),Xi={item:'<label class="{{cssClasses.label}}">\n  <input type="radio" class="{{cssClasses.radio}}" name="{{attribute}}"{{#isRefined}} checked{{/isRefined}} />\n  <span class="{{cssClasses.labelText}}">{{label}}</span>\n</label>'},Zi=et({name:"numeric-menu"}),ea=vt("NumericMenu");function ta(e){var t=e.cssClasses,n=e.label,r=e.ariaLabel,i=e.url,a=e.isDisabled,s=e.handleClick,o=e.pageNumber;return Mn("li",{className:t.item},a?Mn("span",{className:t.link,dangerouslySetInnerHTML:{__html:n}}):Mn("a",{className:t.link,"aria-label":r,href:i,onClick:function(e){return s(o,e)},dangerouslySetInnerHTML:{__html:n}}))}var na=function(){c(n,An);var e=f(n);function n(){var r;t(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return i(d(r=e.call.apply(e,[this].concat(s))),"handleClick",(function(e,t){de(t)||(t.preventDefault(),r.props.setCurrentPage(e))})),r}return r(n,[{key:"pageLink",value:function(e){var t=e.label,n=e.ariaLabel,r=e.pageNumber,i=e.additionalClassName,a=void 0===i?null:i,s=e.isDisabled,o=void 0!==s&&s,c=e.isSelected,u=void 0!==c&&c,l=e.createURL,h={item:oi(this.props.cssClasses.item,a),link:this.props.cssClasses.link};o?h.item=oi(h.item,this.props.cssClasses.disabledItem):u&&(h.item=oi(h.item,this.props.cssClasses.selectedItem));var d=l&&!o?l(r):"#";return Mn(ta,{ariaLabel:n,cssClasses:h,handleClick:this.handleClick,isDisabled:o,key:t+r+n,label:t,pageNumber:r,url:d})}},{key:"previousPageLink",value:function(e){var t=e.isFirstPage,n=e.currentPage,r=e.createURL;return this.pageLink({ariaLabel:"Previous",additionalClassName:this.props.cssClasses.previousPageItem,isDisabled:t,label:this.props.templates.previous,pageNumber:n-1,createURL:r})}},{key:"nextPageLink",value:function(e){var t=e.isLastPage,n=e.currentPage,r=e.createURL;return this.pageLink({ariaLabel:"Next",additionalClassName:this.props.cssClasses.nextPageItem,isDisabled:t,label:this.props.templates.next,pageNumber:n+1,createURL:r})}},{key:"firstPageLink",value:function(e){var t=e.isFirstPage,n=e.createURL;return this.pageLink({ariaLabel:"First",additionalClassName:this.props.cssClasses.firstPageItem,isDisabled:t,label:this.props.templates.first,pageNumber:0,createURL:n})}},{key:"lastPageLink",value:function(e){var t=e.isLastPage,n=e.nbPages,r=e.createURL;return this.pageLink({ariaLabel:"Last",additionalClassName:this.props.cssClasses.lastPageItem,isDisabled:t,label:this.props.templates.last,pageNumber:n-1,createURL:r})}},{key:"pages",value:function(e){var t=this,n=e.currentPage,r=e.pages,i=e.createURL;return r.map((function(e){return t.pageLink({ariaLabel:e+1,additionalClassName:t.props.cssClasses.pageItem,isSelected:e===n,label:e+1,pageNumber:e,createURL:i})}))}},{key:"render",value:function(){return Mn("div",{className:oi(this.props.cssClasses.root,i({},this.props.cssClasses.noRefinementRoot,this.props.nbPages<=1))},Mn("ul",{className:this.props.cssClasses.list},this.props.showFirst&&this.firstPageLink(this.props),this.props.showPrevious&&this.previousPageLink(this.props),this.pages(this.props),this.props.showNext&&this.nextPageLink(this.props),this.props.showLast&&this.lastPageLink(this.props)))}}]),n}();na.defaultProps={nbHits:0,currentPage:0,nbPages:0};var ra=et({name:"pagination"}),ia=vt("Pagination"),aa={previous:"â¹",next:"âº",first:"Â«",last:"Â»"},sa=function(){c(n,An);var e=f(n);function n(r){var a;return t(this,n),i(d(a=e.call(this,r)),"onInput",(function(e){return function(t){a.setState(i({},e,t.currentTarget.value))}})),i(d(a),"onSubmit",(function(e){e.preventDefault(),a.props.refine([a.state.min&&Number(a.state.min),a.state.max&&Number(a.state.max)])})),a.state={min:r.values.min,max:r.values.max},a}return r(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({min:e.values.min,max:e.values.max})}},{key:"render",value:function(){var e=this.state,t=e.min,n=e.max,r=this.props,s=r.min,o=r.max,c=r.step,u=r.cssClasses,l=r.templateProps,h=o<=s,d=Boolean(t||n);return Mn("div",{className:oi(u.root,i({},u.noRefinement,!d))},Mn("form",{className:u.form,onSubmit:this.onSubmit},Mn("label",{className:u.label},Mn("input",{className:oi(u.input,u.inputMin),type:"number",min:s,max:o,step:c,value:null!=t?t:"",onInput:this.onInput("min"),placeholder:s,disabled:h})),Mn(ci,a({},l,{templateKey:"separatorText",rootTagName:"span",rootProps:{className:u.separator}})),Mn("label",{className:u.label},Mn("input",{className:oi(u.input,u.inputMax),type:"number",min:s,max:o,step:c,value:null!=n?n:"",onInput:this.onInput("max"),placeholder:o,disabled:h})),Mn(ci,a({},l,{templateKey:"submitText",rootTagName:"button",rootProps:{type:"submit",className:u.submit,disabled:h}}))))}}]),n}(),oa=et({name:"range-input"}),ca=vt("RangeInput"),ua=et({name:"search-box"}),la=vt("SearchBox"),ha=40,da=35,fa=27,ma=36,pa=37,ga=34,va=33,ya=39,ba=38,Sa=100;function Ra(e,t,n){return(e-t)/(n-t)*100}function wa(e,t,n){var r=e/100;return 0===e?t:100===e?n:Math.round((n-t)*r+t)}function Pa(e){return["rheostat","vertical"===e.orientation?"rheostat-vertical":"rheostat-horizontal"].concat(e.className.split(" ")).join(" ")}function xa(e){return Number(e.currentTarget.getAttribute("data-handle-key"))}function Na(e){e.stopPropagation(),e.preventDefault()}var Ia=function(){c(n,An);var e=f(n);function n(){return t(this,n),e.apply(this,arguments)}return r(n,[{key:"render",value:function(){return Mn("button",a({},this.props,{type:"button"}))}}]),n}(),_a=Mn("div",{className:"rheostat-background"}),Ta=function(){c(n,An);var e=f(n);function n(r){var a;return t(this,n),i(d(a=e.call(this,r)),"state",{className:Pa(a.props),handlePos:a.props.values.map((function(e){return Ra(e,a.props.min,a.props.max)})),handleDimensions:0,mousePos:null,sliderBox:{},slidingIndex:null,values:a.props.values}),a.getPublicState=a.getPublicState.bind(d(a)),a.getSliderBoundingBox=a.getSliderBoundingBox.bind(d(a)),a.getProgressStyle=a.getProgressStyle.bind(d(a)),a.getMinValue=a.getMinValue.bind(d(a)),a.getMaxValue=a.getMaxValue.bind(d(a)),a.getHandleDimensions=a.getHandleDimensions.bind(d(a)),a.getClosestSnapPoint=a.getClosestSnapPoint.bind(d(a)),a.getSnapPosition=a.getSnapPosition.bind(d(a)),a.getNextPositionForKey=a.getNextPositionForKey.bind(d(a)),a.getNextState=a.getNextState.bind(d(a)),a.handleClick=a.handleClick.bind(d(a)),a.getClosestHandle=a.getClosestHandle.bind(d(a)),a.setStartSlide=a.setStartSlide.bind(d(a)),a.startMouseSlide=a.startMouseSlide.bind(d(a)),a.startTouchSlide=a.startTouchSlide.bind(d(a)),a.handleMouseSlide=a.handleMouseSlide.bind(d(a)),a.handleTouchSlide=a.handleTouchSlide.bind(d(a)),a.handleSlide=a.handleSlide.bind(d(a)),a.endSlide=a.endSlide.bind(d(a)),a.handleKeydown=a.handleKeydown.bind(d(a)),a.validatePosition=a.validatePosition.bind(d(a)),a.validateValues=a.validateValues.bind(d(a)),a.canMove=a.canMove.bind(d(a)),a.fireChangeEvent=a.fireChangeEvent.bind(d(a)),a.slideTo=a.slideTo.bind(d(a)),a.updateNewValues=a.updateNewValues.bind(d(a)),a}return r(n,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.className,r=t.disabled,i=t.min,a=t.max,s=t.orientation,o=this.state,c=o.values,u=o.slidingIndex,l=e.min!==i||e.max!==a,h=c.length!==e.values.length||c.some((function(t,n){return e.values[n]!==t})),d=e.className!==n||e.orientation!==s,f=e.disabled&&!r;d&&this.setState({className:Pa(e)}),(l||h)&&this.updateNewValues(e),f&&null!==u&&this.endSlide()}},{key:"getPublicState",value:function(){var e=this.props,t=e.min;return{max:e.max,min:t,values:this.state.values}}},{key:"getSliderBoundingBox",value:function(){var e=this.rheostat.getDOMNode?this.rheostat.getDOMNode():this.rheostat,t=e.getBoundingClientRect();return{height:t.height||e.clientHeight,left:t.left,top:t.top,width:t.width||e.clientWidth}}},{key:"getProgressStyle",value:function(e){var t=this.state.handlePos,n=t[e];if(0===e)return"vertical"===this.props.orientation?{height:"".concat(n,"%"),top:0}:{left:0,width:"".concat(n,"%")};var r=t[e-1],i=n-r;return"vertical"===this.props.orientation?{height:"".concat(i,"%"),top:"".concat(r,"%")}:{left:"".concat(r,"%"),width:"".concat(i,"%")}}},{key:"getMinValue",value:function(e){return this.state.values[e-1]?Math.max(this.props.min,this.state.values[e-1]):this.props.min}},{key:"getMaxValue",value:function(e){return this.state.values[e+1]?Math.min(this.props.max,this.state.values[e+1]):this.props.max}},{key:"getHandleDimensions",value:function(e,t){var n=e.currentTarget||null;return n?"vertical"===this.props.orientation?n.clientHeight/t.height*Sa/2:n.clientWidth/t.width*Sa/2:0}},{key:"getClosestSnapPoint",value:function(e){return this.props.snapPoints.length?this.props.snapPoints.reduce((function(t,n){return Math.abs(t-e)<Math.abs(n-e)?t:n})):e}},{key:"getSnapPosition",value:function(e){if(!this.props.snap)return e;var t=this.props,n=t.max,r=t.min,i=wa(e,r,n);return Ra(this.getClosestSnapPoint(i),r,n)}},{key:"getNextPositionForKey",value:function(e,t){var n,r=this.state,a=r.handlePos,s=r.values,o=this.props,c=o.max,u=o.min,l=o.snapPoints,h=this.props.snap,d=s[e],f=a[e],m=f,p=1;100<=c?f=Math.round(f):p=100/(c-u);var g=null;h&&(g=l.indexOf(this.getClosestSnapPoint(s[e])));var v=(i(n={},pa,(function(e){return-1*e})),i(n,ya,(function(e){return e})),i(n,ba,(function(e){return e})),i(n,ha,(function(e){return-1*e})),i(n,ga,(function(e){return 1<e?-e:-10*e})),i(n,va,(function(e){return 1<e?e:10*e})),n);if(Object.prototype.hasOwnProperty.call(v,t))f+=v[t](p),h&&(m<f?g<l.length-1&&(d=l[g+1]):0<g&&(d=l[g-1]));else if(t===ma)f=0,h&&(d=l[0]);else{if(t!==da)return null;f=Sa,h&&(d=l[l.length-1])}return h?Ra(d,u,c):f}},{key:"getNextState",value:function(e,t){var n=this.state.handlePos,r=this.props,i=r.max,a=r.min,s=this.validatePosition(e,t),o=n.map((function(t,n){return n===e?s:t}));return{handlePos:o,values:o.map((function(e){return wa(e,a,i)}))}}},{key:"getClosestHandle",value:function(e){var t=this.state.handlePos;return t.reduce((function(n,r,i){return Math.abs(t[i]-e)<Math.abs(t[n]-e)?i:n}),0)}},{key:"setStartSlide",value:function(e,t,n){var r=this.getSliderBoundingBox();this.setState({handleDimensions:this.getHandleDimensions(e,r),mousePos:{x:t,y:n},sliderBox:r,slidingIndex:xa(e)})}},{key:"startMouseSlide",value:function(e){this.setStartSlide(e,e.clientX,e.clientY),"function"==typeof document.addEventListener?(document.addEventListener("mousemove",this.handleMouseSlide,!1),document.addEventListener("mouseup",this.endSlide,!1)):(document.attachEvent("onmousemove",this.handleMouseSlide),document.attachEvent("onmouseup",this.endSlide)),Na(e)}},{key:"startTouchSlide",value:function(e){if(!(1<e.changedTouches.length)){var t=e.changedTouches[0];this.setStartSlide(e,t.clientX,t.clientY),document.addEventListener("touchmove",this.handleTouchSlide,!1),document.addEventListener("touchend",this.endSlide,!1),this.props.onSliderDragStart&&this.props.onSliderDragStart(),Na(e)}}},{key:"handleMouseSlide",value:function(e){null!==this.state.slidingIndex&&(this.handleSlide(e.clientX,e.clientY),Na(e))}},{key:"handleTouchSlide",value:function(e){if(null!==this.state.slidingIndex)if(1<e.changedTouches.length)this.endSlide();else{var t=e.changedTouches[0];this.handleSlide(t.clientX,t.clientY),Na(e)}}},{key:"handleSlide",value:function(e,t){var n=this.state,r=n.slidingIndex,i=n.sliderBox,a="vertical"===this.props.orientation?(t-i.top)/i.height*Sa:(e-i.left)/i.width*Sa;this.slideTo(r,a),this.canMove(r,a)&&(this.setState({x:e,y:t}),this.props.onSliderDragMove&&this.props.onSliderDragMove())}},{key:"endSlide",value:function(){var e=this,t=this.state.slidingIndex;if(this.setState({slidingIndex:null}),"function"==typeof document.removeEventListener?(document.removeEventListener("mouseup",this.endSlide,!1),document.removeEventListener("touchend",this.endSlide,!1),document.removeEventListener("touchmove",this.handleTouchSlide,!1),document.removeEventListener("mousemove",this.handleMouseSlide,!1)):(document.detachEvent("onmousemove",this.handleMouseSlide),document.detachEvent("onmouseup",this.endSlide)),this.props.onSliderDragEnd&&this.props.onSliderDragEnd(),this.props.snap){var n=this.getSnapPosition(this.state.handlePos[t]);this.slideTo(t,n,(function(){return e.fireChangeEvent()}))}else this.fireChangeEvent()}},{key:"handleClick",value:function(e){var t=this;if(!e.target.getAttribute("data-handle-key")){var n=this.getSliderBoundingBox(),r=("vertical"===this.props.orientation?(e.clientY-n.top)/n.height:(e.clientX-n.left)/n.width)*Sa,i=this.getClosestHandle(r),a=this.getSnapPosition(r);this.slideTo(i,a,(function(){return t.fireChangeEvent()})),this.props.onClick&&this.props.onClick()}}},{key:"handleKeydown",value:function(e){var t=this,n=xa(e);if(e.keyCode!==fa){var r=this.getNextPositionForKey(n,e.keyCode);null!==r&&(this.canMove(n,r)&&(this.slideTo(n,r,(function(){return t.fireChangeEvent()})),this.props.onKeyPress&&this.props.onKeyPress()),Na(e))}else e.currentTarget.blur()}},{key:"validatePosition",value:function(e,t){var n=this.state,r=n.handlePos,i=n.handleDimensions;return Math.max(Math.min(t,void 0!==r[e+1]?r[e+1]-i:Sa),void 0!==r[e-1]?r[e-1]+i:0)}},{key:"validateValues",value:function(e,t){var n=t||this.props,r=n.max,i=n.min;return e.map((function(e,t,n){var a=Math.max(Math.min(e,r),i);return n.length&&a<n[t-1]?n[t-1]:a}))}},{key:"canMove",value:function(e,t){var n=this.state,r=n.handlePos,i=n.handleDimensions;return!(t<0||Sa<t||(void 0!==r[e+1]?r[e+1]-i:1/0)<t||t<(void 0!==r[e-1]?r[e-1]+i:-1/0))}},{key:"fireChangeEvent",value:function(){var e=this.props.onChange;e&&e(this.getPublicState())}},{key:"slideTo",value:function(e,t,n){var r=this,i=this.getNextState(e,t);this.setState(i,(function(){var e=r.props.onValuesUpdated;e&&e(r.getPublicState()),n&&n()}))}},{key:"updateNewValues",value:function(e){var t=this;if(null===this.state.slidingIndex){var n=e.max,r=e.min,i=e.values,a=this.validateValues(i,e);this.setState({handlePos:a.map((function(e){return Ra(e,r,n)})),values:a},(function(){return t.fireChangeEvent()}))}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.disabled,i=t.handle,a=t.max,s=t.min,o=t.orientation,c=t.pitComponent,u=t.pitPoints,l=t.progressBar,h=this.state,d=h.className,f=h.handlePos,m=h.values;return Mn("div",{className:d,ref:function(t){e.rheostat=t},onClick:!r&&this.handleClick,style:{position:"relative"}},_a,f.map((function(t,n){var a="vertical"===o?{top:"".concat(t,"%"),position:"absolute"}:{left:"".concat(t,"%"),position:"absolute"};return Mn(i,{"aria-valuemax":e.getMaxValue(n),"aria-valuemin":e.getMinValue(n),"aria-valuenow":m[n],"aria-disabled":r,"data-handle-key":n,className:"rheostat-handle",key:"handle-".concat(n),onClick:e.killEvent,onKeyDown:!r&&e.handleKeydown,onMouseDown:!r&&e.startMouseSlide,onTouchStart:!r&&e.startTouchSlide,role:"slider",style:a,tabIndex:0})})),f.map((function(t,n,r){return 0===n&&1<r.length?null:Mn(l,{className:"rheostat-progress",key:"progress-bar-".concat(n),style:e.getProgressStyle(n)})})),c&&u.map((function(e){var t=Ra(e,s,a),n="vertical"===o?{top:"".concat(t,"%"),position:"absolute"}:{left:"".concat(t,"%"),position:"absolute"};return Mn(c,{key:"pit-".concat(e),style:n},e)})),n)}}]),n}();function Fa(e){var t=e.style,n=e.children,r=Math.round(parseFloat(t.left)),i=[0,50,100].includes(r),a=Array.isArray(n)?n[0]:n,s=Math.round(100*parseInt(a,10))/100;return Mn("div",{style:o(o({},t),{},{marginLeft:100===r?"-2px":0}),className:oi("rheostat-marker","rheostat-marker-horizontal",{"rheostat-marker-large":i})},i&&Mn("div",{className:"rheostat-value"},s))}i(Ta,"defaultProps",{className:"",children:null,disabled:!1,handle:Ia,max:Sa,min:0,onClick:null,onChange:null,onKeyPress:null,onSliderDragEnd:null,onSliderDragMove:null,onSliderDragStart:null,onValuesUpdated:null,orientation:"horizontal",pitComponent:null,pitPoints:[],progressBar:"div",snap:!1,snapPoints:[],values:[0]});var Ca=function(){c(n,An);var e=f(n);function n(){var r;t(this,n);for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];return i(d(r=e.call.apply(e,[this].concat(o))),"handleChange",(function(e){var t=e.values;r.isDisabled||r.props.refine(t)})),i(d(r),"createHandleComponent",(function(e){return function(t){var n=Math.round(100*parseFloat(t["aria-valuenow"]))/100,r=e&&e.format?e.format(n):n;return Mn("div",a({},t,{className:oi(t.className,{"rheostat-handle-lower":0===t["data-handle-key"],"rheostat-handle-upper":1===t["data-handle-key"]})}),e&&Mn("div",{className:"rheostat-tooltip"},r))}})),r}return r(n,[{key:"isDisabled",get:function(){return this.props.min>=this.props.max}},{key:"computeDefaultPitPoints",value:function(e){var t=e.min,n=e.max,r=(n-t)/34;return[t].concat(p(ke({end:33}).map((function(e){return t+r*(e+1)}))),[n])}},{key:"computeSnapPoints",value:function(e){var t=e.min,n=e.max,r=e.step;if(r)return[].concat(p(ke({start:t,end:n,step:r})),[n])}},{key:"render",value:function(){var e=this.props,t=e.tooltips,n=e.step,r=e.pips,a=e.values,s=e.cssClasses,o=this.isDisabled?{min:this.props.min,max:this.props.max+.001}:this.props,c=o.min,u=o.max,l=this.computeSnapPoints({min:c,max:u,step:n}),h=!1===r?[]:this.computeDefaultPitPoints({min:c,max:u});return Mn("div",{className:oi(s.root,i({},s.disabledRoot,this.isDisabled))},Mn(Ta,{handle:this.createHandleComponent(t),onChange:this.handleChange,min:c,max:u,pitComponent:Fa,pitPoints:h,snap:!0,snapPoints:l,values:this.isDisabled?[c,u]:a,disabled:this.isDisabled}))}}]),n}(),ka=et({name:"range-slider"}),Ea=vt("RangeSlider"),ja=et({name:"sort-by"}),Ma=vt("SortBy"),Oa={item:'{{#count}}<a class="{{cssClasses.link}}" aria-label="{{value}} & up" href="{{href}}">{{/count}}{{^count}}<div class="{{cssClasses.link}}" aria-label="{{value}} & up" disabled>{{/count}}\n  {{#stars}}<svg class="{{cssClasses.starIcon}} {{#.}}{{cssClasses.fullStarIcon}}{{/.}}{{^.}}{{cssClasses.emptyStarIcon}}{{/.}}" aria-hidden="true" width="24" height="24">\n    {{#.}}<use xlink:href="#ais-RatingMenu-starSymbol"></use>{{/.}}{{^.}}<use xlink:href="#ais-RatingMenu-starEmptySymbol"></use>{{/.}}\n  </svg>{{/stars}}\n  <span class="{{cssClasses.label}}">& Up</span>\n  {{#count}}<span class="{{cssClasses.count}}">{{#helpers.formatNumber}}{{count}}{{/helpers.formatNumber}}</span>{{/count}}\n{{#count}}</a>{{/count}}{{^count}}</div>{{/count}}'},La=et({name:"rating-menu"}),Aa=vt("RatingMenu"),Ha=Mn("path",{d:"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z"}),Da=Mn("path",{d:"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z"});function qa(e){var t=e.nbHits,n=e.nbSortedHits,r=e.areHitsSorted,i=e.hitsPerPage,s=e.nbPages,o=e.page,c=e.processingTimeMS,u=e.query,l=e.templateProps,h=e.cssClasses;return Mn("div",{className:h.root},Mn(ci,a({},l,{templateKey:"text",rootTagName:"span",rootProps:{className:h.text},data:{hasManySortedResults:1<n,hasNoSortedResults:0===n,hasOneSortedResults:1===n,hasManyResults:1<t,hasNoResults:0===t,hasOneResult:1===t,areHitsSorted:r,hitsPerPage:i,nbHits:t,nbSortedHits:n,nbPages:s,page:o,processingTimeMS:c,query:u,cssClasses:h}})))}var Wa={text:"\n    {{#areHitsSorted}}\n      {{#hasNoSortedResults}}No relevant results{{/hasNoSortedResults}}\n      {{#hasOneSortedResults}}1 relevant result{{/hasOneSortedResults}}\n      {{#hasManySortedResults}}{{#helpers.formatNumber}}{{nbSortedHits}}{{/helpers.formatNumber}} relevant results{{/hasManySortedResults}}\n      sorted out of {{#helpers.formatNumber}}{{nbHits}}{{/helpers.formatNumber}}\n    {{/areHitsSorted}}\n    {{^areHitsSorted}}\n      {{#hasNoResults}}No results{{/hasNoResults}}\n      {{#hasOneResult}}1 result{{/hasOneResult}}\n      {{#hasManyResults}}{{#helpers.formatNumber}}{{nbHits}}{{/helpers.formatNumber}} results{{/hasManyResults}}\n    {{/areHitsSorted}}\n    found in {{processingTimeMS}}ms"},Ba=et({name:"stats"}),Ua=vt("Stats");function Qa(e){var t=e.currentRefinement,n=e.refine,r=e.cssClasses,i=e.templateProps;return Mn("div",{className:r.root},Mn("label",{className:r.label},Mn("input",{className:r.checkbox,type:"checkbox",checked:t.isRefined,onChange:function(e){return n(!e.target.checked)}}),Mn(ci,a({},i,{rootTagName:"span",rootProps:{className:r.labelText},templateKey:"labelText",data:t}))))}var $a={labelText:"{{name}}"},Va=et({name:"toggle-refinement"}),za=vt("ToggleRefinement");function Ka(e){var t=e.items,n=e.cssClasses,r=e.templateProps,s=e.createURL,o=e.refine;return Mn("div",{className:oi(n.root,i({},n.noRefinementRoot,0===t.length))},Mn("ul",{className:n.list},Mn("li",{className:oi(n.item,i({},n.selectedItem,0===t.length))},Mn(ci,a({},r,{templateKey:"home",rootTagName:"a",rootProps:{className:n.link,href:s(void 0),onClick:function(e){e.preventDefault(),o(void 0)}}}))),t.map((function(e,c){var u=c===t.length-1;return Mn("li",{key:e.label+c,className:oi(n.item,i({},n.selectedItem,u))},Mn(ci,a({},r,{templateKey:"separator",rootTagName:"span",rootProps:{className:n.separator,"aria-hidden":!0}})),u?e.label:Mn("a",{className:n.link,href:s(e.value),onClick:function(t){t.preventDefault(),o(e.value)}},e.label))}))))}var Ja=et({name:"analytics"}),Ya={home:"Home",separator:">"},Ga=et({name:"breadcrumb"}),Xa=vt("Breadcrumb");function Za(e){var t=e.cssClasses,n=e.templateProps,r=e.items,s=e.refine,o=(Se(r,(function(e){return e.isRefined}))||{value:""}).value;return Mn("div",{className:oi(t.root,i({},t.noRefinementRoot,0===r.length))},Mn("select",{className:t.select,value:o,onChange:function(e){s(e.target.value)}},Mn(ci,a({},n,{templateKey:"defaultOption",rootTagName:"option",rootProps:{value:"",className:t.option}})),r.map((function(e){return Mn(ci,a({},n,{templateKey:"item",rootTagName:"option",rootProps:{value:e.value,className:t.option},key:e.value,data:e}))}))))}function es(e){var t=e.url,n=e.theme,r=e.cssClasses;return Mn("div",{className:r.root},Mn("a",{href:t,target:"_blank",className:r.link,"aria-label":"Search by Algolia",rel:"noopener noreferrer"},Mn("svg",{height:"1.2em",className:r.logo,viewBox:"0 0 168 24",style:{width:"auto"}},Mn("path",{fill:"dark"===n?"#FFF":"#5D6494",d:"M6.97 6.68V8.3a4.47 4.47 0 00-2.42-.67 2.2 2.2 0 00-1.38.4c-.34.26-.5.6-.5 1.02 0 .43.16.77.49 1.03.33.25.83.53 1.51.83a7.04 7.04 0 011.9 1.08c.34.24.58.54.73.89.15.34.23.74.23 1.18 0 .95-.33 1.7-1 2.24a4 4 0 01-2.6.81 5.71 5.71 0 01-2.94-.68v-1.71c.84.63 1.81.94 2.92.94.58 0 1.05-.14 1.39-.4.34-.28.5-.65.5-1.13 0-.29-.1-.55-.3-.8a2.2 2.2 0 00-.65-.53 23.03 23.03 0 00-1.64-.78 13.67 13.67 0 01-1.11-.64c-.12-.1-.28-.22-.46-.4a1.72 1.72 0 01-.39-.5 4.46 4.46 0 01-.22-.6c-.07-.23-.1-.48-.1-.75 0-.91.33-1.63 1-2.17a4 4 0 012.57-.8c.97 0 1.8.18 2.47.52zm7.47 5.7v-.3a2.26 2.26 0 00-.5-1.44c-.3-.35-.74-.53-1.32-.53-.53 0-.99.2-1.37.58a2.9 2.9 0 00-.72 1.68h3.91zm1 2.79v1.4c-.6.34-1.38.51-2.36.51a4.02 4.02 0 01-3-1.13 4.04 4.04 0 01-1.11-2.97c0-1.3.34-2.32 1.02-3.06a3.38 3.38 0 012.6-1.1c1.03 0 1.85.32 2.46.96.6.64.9 1.57.9 2.78 0 .33-.03.68-.09 1.04h-5.31c.1.7.4 1.24.89 1.61.49.38 1.1.56 1.85.56.86 0 1.58-.2 2.15-.6zm6.61-1.78h-1.21c-.6 0-1.05.12-1.35.36-.3.23-.46.53-.46.89 0 .37.12.66.36.88.23.2.57.32 1.02.32.5 0 .9-.15 1.2-.43.3-.28.44-.65.44-1.1v-.92zm-4.07-2.55V9.33a4.96 4.96 0 012.5-.55c2.1 0 3.17 1.03 3.17 3.08V17H22.1v-.96c-.42.68-1.15 1.02-2.19 1.02-.76 0-1.38-.22-1.84-.66-.46-.44-.7-1-.7-1.68 0-.78.3-1.38.88-1.81.59-.43 1.4-.65 2.46-.65h1.34v-.46c0-.55-.13-.97-.4-1.25-.26-.29-.7-.43-1.32-.43-.86 0-1.65.24-2.35.72zm9.34-1.93v1.42c.39-1 1.1-1.5 2.12-1.5.15 0 .31.02.5.05v1.53c-.23-.1-.48-.14-.76-.14-.54 0-.99.24-1.34.71a2.8 2.8 0 00-.52 1.71V17h-1.57V8.91h1.57zm5 4.09a3 3 0 00.76 2.01c.47.53 1.14.8 2 .8.64 0 1.24-.18 1.8-.53v1.4c-.53.32-1.2.48-2 .48a3.98 3.98 0 01-4.17-4.18c0-1.16.38-2.15 1.14-2.98a4 4 0 013.1-1.23c.7 0 1.34.15 1.92.44v1.44a3.24 3.24 0 00-1.77-.5A2.65 2.65 0 0032.33 13zm7.92-7.28v4.58c.46-1 1.3-1.5 2.5-1.5.8 0 1.42.24 1.9.73.48.5.72 1.17.72 2.05V17H43.8v-5.1c0-.56-.14-.99-.43-1.29-.28-.3-.65-.45-1.1-.45-.54 0-1 .2-1.42.6-.4.4-.61 1.02-.61 1.85V17h-1.56V5.72h1.56zM55.2 15.74c.6 0 1.1-.25 1.5-.76.4-.5.6-1.16.6-1.95 0-.92-.2-1.62-.6-2.12-.4-.5-.92-.74-1.55-.74-.56 0-1.05.22-1.5.67-.44.45-.66 1.13-.66 2.06 0 .96.22 1.67.64 2.14.43.47.95.7 1.57.7zM53 5.72v4.42a2.74 2.74 0 012.43-1.34c1.03 0 1.86.38 2.51 1.15.65.76.97 1.78.97 3.05 0 1.13-.3 2.1-.92 2.9-.62.81-1.47 1.21-2.54 1.21s-1.9-.45-2.46-1.34V17h-1.58V5.72H53zm9.9 11.1l-3.22-7.9h1.74l1 2.62 1.26 3.42c.1-.32.48-1.46 1.15-3.42l.91-2.63h1.66l-2.92 7.87c-.78 2.07-1.96 3.1-3.56 3.1-.28 0-.53-.02-.73-.07v-1.34c.17.04.35.06.54.06 1.03 0 1.76-.57 2.17-1.7z"}),ss,os,Mn("path",{fill:"dark"===n?"#FFF":"#5468FF",d:"M120.92 18.8c-4.38.02-4.38-3.54-4.38-4.1V1.36l2.67-.42v13.25c0 .32 0 2.36 1.71 2.37v2.24zm-10.84-2.18c.82 0 1.43-.04 1.85-.12v-2.72a5.48 5.48 0 00-1.57-.2c-.3 0-.6.02-.9.07-.3.04-.57.12-.81.24-.24.11-.44.28-.58.49a.93.93 0 00-.22.65c0 .63.22 1 .61 1.23.4.24.94.36 1.62.36zm-.23-9.7c.88 0 1.62.11 2.23.33.6.22 1.09.53 1.44.92.36.4.61.92.76 1.48.16.56.23 1.17.23 1.85v6.87a21.69 21.69 0 01-4.68.5c-.69 0-1.32-.07-1.9-.2a4 4 0 01-1.46-.63 3.3 3.3 0 01-.96-1.13 4.3 4.3 0 01-.34-1.8 3.13 3.13 0 011.43-2.63c.45-.3.95-.5 1.54-.62a8.8 8.8 0 013.79.05v-.44c0-.3-.04-.6-.11-.87a1.78 1.78 0 00-1.1-1.22 3.2 3.2 0 00-1.15-.2 9.75 9.75 0 00-2.95.46l-.33-2.19a11.43 11.43 0 013.56-.53zm52.84 9.63c.82 0 1.43-.05 1.85-.13V13.7a5.42 5.42 0 00-1.57-.2c-.3 0-.6.02-.9.07-.3.04-.57.12-.81.24-.24.12-.44.28-.58.5a.93.93 0 00-.22.65c0 .63.22.99.61 1.23.4.24.94.36 1.62.36zm-.23-9.7c.88 0 1.63.11 2.23.33.6.22 1.1.53 1.45.92.35.39.6.92.76 1.48.15.56.23 1.18.23 1.85v6.88c-.41.08-1.03.19-1.87.31-.83.12-1.77.18-2.81.18-.7 0-1.33-.06-1.9-.2a4 4 0 01-1.47-.63c-.4-.3-.72-.67-.95-1.13a4.3 4.3 0 01-.34-1.8c0-.66.13-1.08.38-1.53.26-.45.61-.82 1.05-1.1.44-.3.95-.5 1.53-.62a8.8 8.8 0 013.8.05v-.43c0-.31-.04-.6-.12-.88-.07-.28-.2-.52-.38-.73a1.78 1.78 0 00-.73-.5c-.3-.1-.68-.2-1.14-.2a9.85 9.85 0 00-2.95.47l-.32-2.19a11.63 11.63 0 013.55-.53zm-8.03-1.27a1.62 1.62 0 000-3.24 1.62 1.62 0 100 3.24zm1.35 13.22h-2.7V7.27l2.7-.42V18.8zm-4.72 0c-4.38.02-4.38-3.54-4.38-4.1l-.01-13.34 2.67-.42v13.25c0 .32 0 2.36 1.72 2.37v2.24zm-8.7-5.9a4.7 4.7 0 00-.74-2.79 2.4 2.4 0 00-2.07-1 2.4 2.4 0 00-2.06 1 4.7 4.7 0 00-.74 2.8c0 1.16.25 1.94.74 2.62a2.4 2.4 0 002.07 1.02c.88 0 1.57-.34 2.07-1.02a4.2 4.2 0 00.73-2.63zm2.74 0a6.46 6.46 0 01-1.52 4.23c-.49.53-1.07.94-1.76 1.22-.68.29-1.73.45-2.26.45a6.6 6.6 0 01-2.25-.45 5.1 5.1 0 01-2.88-3.13 7.3 7.3 0 01-.01-4.84 5.13 5.13 0 012.9-3.1 5.67 5.67 0 012.22-.42c.81 0 1.56.14 2.24.42.69.29 1.28.69 1.75 1.22.49.52.87 1.15 1.14 1.89a7 7 0 01.43 2.5zm-20.14 0c0 1.11.25 2.36.74 2.88.5.52 1.13.78 1.91.78a4.07 4.07 0 002.12-.6V9.33c-.19-.04-.99-.2-1.76-.23a2.67 2.67 0 00-2.23 1 4.73 4.73 0 00-.78 2.8zm7.44 5.27c0 1.82-.46 3.16-1.4 4-.94.85-2.37 1.27-4.3 1.27-.7 0-2.17-.13-3.34-.4l.43-2.11c.98.2 2.27.26 2.95.26 1.08 0 1.84-.22 2.3-.66.46-.43.68-1.08.68-1.94v-.44a5.2 5.2 0 01-2.54.6 5.6 5.6 0 01-2.01-.36 4.2 4.2 0 01-2.58-2.71 9.88 9.88 0 01.02-5.35 4.92 4.92 0 012.93-2.96 6.6 6.6 0 012.43-.46 19.64 19.64 0 014.43.66v10.6z"}))))}var ts,ns,rs={item:"{{label}} ({{#helpers.formatNumber}}{{count}}{{/helpers.formatNumber}})",defaultOption:"See all"},is=et({name:"menu-select"}),as=vt("MenuSelect"),ss=Mn("path",{fill:"#5468FF",d:"M78.99.94h16.6a2.97 2.97 0 012.96 2.96v16.6a2.97 2.97 0 01-2.97 2.96h-16.6a2.97 2.97 0 01-2.96-2.96V3.9A2.96 2.96 0 0179 .94"}),os=Mn("path",{fill:"#FFF",d:"M89.63 5.97v-.78a.98.98 0 00-.98-.97h-2.28a.98.98 0 00-.97.97V6c0 .09.08.15.17.13a7.13 7.13 0 013.9-.02c.08.02.16-.04.16-.13m-6.25 1L83 6.6a.98.98 0 00-1.38 0l-.46.46a.97.97 0 000 1.38l.38.39c.06.06.15.04.2-.02a7.49 7.49 0 011.63-1.62c.07-.04.08-.14.02-.2m4.16 2.45v3.34c0 .1.1.17.2.12l2.97-1.54c.06-.03.08-.12.05-.18a3.7 3.7 0 00-3.08-1.87c-.07 0-.14.06-.14.13m0 8.05a4.49 4.49 0 110-8.98 4.49 4.49 0 010 8.98m0-10.85a6.37 6.37 0 100 12.74 6.37 6.37 0 000-12.74"}),cs=vt("PoweredBy"),us=et({name:"powered-by"}),ls=[],hs=xn.__r;xn.__r=function(e){hs&&hs(e),ts=0,(ns=e.__c).__H&&(ns.__H.t=Ss(ns.__H.t))};var ds=xn.diffed;xn.diffed=function(e){ds&&ds(e);var t=e.__c;if(t){var n=t.__H;n&&(n.u=(n.u.some((function(e){e.ref&&(e.ref.current=e.createHandle())})),[]),n.i=Ss(n.i))}};var fs=xn.unmount;function ms(e){xn.__h&&xn.__h(ns);var t=ns.__H||(ns.__H={o:[],t:[],i:[],u:[]});return e>=t.o.length&&t.o.push({}),t.o[e]}function ps(e){return t=xs,n=e,(i=ms(ts++)).__c||(i.__c=ns,i.v=[r?r(n):xs(void 0,n),function(e){var n=t(i.v[0],e);i.v[0]!==n&&(i.v[0]=n,i.__c.setState({}))}]),i.v;var t,n,r,i}function gs(e){return t=function(){return{current:e}},n=[],Ps((r=ms(ts++)).m,n)?(r.m=n,r.p=t,r.v=t()):r.v;var t,n,r}xn.unmount=function(e){fs&&fs(e);var t=e.__c;if(t){var n=t.__H;n&&n.o.forEach((function(e){return e.l&&e.l()}))}};var vs=function(){};function ys(){ls.some((function(e){e.s=!1,e.__P&&(e.__H.t=Ss(e.__H.t))})),ls=[]}if("undefined"!=typeof window){var bs=xn.requestAnimationFrame;vs=function(e){(!e.s&&(e.s=!0)&&1===ls.push(e)||bs!==xn.requestAnimationFrame)&&(bs=xn.requestAnimationFrame,(xn.requestAnimationFrame||function(e){function t(){clearTimeout(n),cancelAnimationFrame(r),setTimeout(e)}var n=setTimeout(t,100),r=requestAnimationFrame(t)})(ys))}}function Ss(e){return e.forEach(Rs),e.forEach(ws),[]}function Rs(e){e.l&&e.l()}function ws(e){var t=e.v();"function"==typeof t&&(e.l=t)}function Ps(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function xs(e,t){return"function"==typeof t?t(e):t}function Ns(e){var t,n,r,a,s=m(ps(e.isCollapsed),2),o=s[0],c=s[1],u=m(ps(!1),2),l=u[0],h=u[1],d=gs(null);return n=function(){if(d.current)return d.current.appendChild(e.bodyElement),function(){d.current.removeChild(e.bodyElement)}},r=[d,e.bodyElement],Ps((a=ms(ts++)).m,r)&&(a.v=n,a.m=r,ns.__H.t.push(a),vs(ns)),l||e.isCollapsed===o||c(e.isCollapsed),Mn("div",{className:oi(e.cssClasses.root,(t={},i(t,e.cssClasses.noRefinementRoot,e.hidden),i(t,e.cssClasses.collapsibleRoot,e.collapsible),i(t,e.cssClasses.collapsedRoot,o),t)),hidden:e.hidden},e.templates.header&&Mn("div",{className:e.cssClasses.header},Mn(ci,{templates:e.templates,templateKey:"header",rootTagName:"span",data:e.data}),e.collapsible&&Mn("button",{className:e.cssClasses.collapseButton,"aria-expanded":!o,onClick:function(e){e.preventDefault(),h(!0),c((function(e){return!e}))}},Mn(ci,{templates:e.templates,templateKey:"collapseButtonText",rootTagName:"span",data:{collapsed:o}}))),Mn("div",{className:e.cssClasses.body,ref:d}),e.templates.footer&&Mn(ci,{templates:e.templates,templateKey:"footer",rootProps:{className:e.cssClasses.footer},data:e.data}))}function Is(e){var t=e.cssClasses,n=e.isBrowserSupported,r=e.isListening,i=e.toggleListening,a=e.voiceListeningState,s=e.templates,o=a.status,c=a.transcript,u=a.isSpeechFinal,l=a.errorCode;return Mn("div",{className:t.root},Mn(ci,{templateKey:"buttonText",rootTagName:"button",rootProps:{className:t.button,type:"button",title:"Search by voice".concat(n?"":" (not supported on this browser)"),onClick:function(e){e.currentTarget.blur(),i()},disabled:!n},data:{status:o,errorCode:l,isListening:r,transcript:c,isSpeechFinal:u,isBrowserSupported:n},templates:s}),Mn(ci,{templateKey:"status",rootProps:{className:t.status},data:{status:o,errorCode:l,isListening:r,transcript:c,isSpeechFinal:u,isBrowserSupported:n},templates:s}))}function _s(e){var t=e.isBrowserSupported,n=e.isListening,r=e.toggleListening,i=e.voiceListeningState,a=e.widgetParams,s=a.container;Xn(Mn(Is,{cssClasses:a.cssClasses,templates:a.templates,isBrowserSupported:t,isListening:n,toggleListening:r,voiceListeningState:i}),s)}function Ts(e){var t=e.cssClasses,n=e.templates,r=e.items;return Mn(ci,{templateKey:"default",templates:n,rootProps:{className:t.root},data:{items:r}})}function Fs(e){var t=e.items,n=e.widgetParams,r=n.container;Xn(Mn(Ts,{cssClasses:n.cssClasses,templates:n.templates,items:t}),r)}var Cs=et({name:"panel"}),ks=vt("Panel"),Es={buttonText:function(e){var t,n,r=e.status,i=e.errorCode,a=e.isListening;return'<svg\n       xmlns="http://www.w3.org/2000/svg"\n       width="16"\n       height="16"\n       viewBox="0 0 24 24"\n       fill="none"\n       stroke="currentColor"\n       stroke-width="2"\n       stroke-linecap="round"\n       stroke-linejoin="round"\n     >\n       '.concat((t=i,n=a,"error"===r&&"not-allowed"===t?'<line x1="1" y1="1" x2="23" y2="23"></line>\n            <path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"></path>\n            <path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"></path>\n            <line x1="12" y1="19" x2="12" y2="23"></line>\n            <line x1="8" y1="23" x2="16" y2="23"></line>':'<path\n            d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"\n            fill="'.concat(n?"currentColor":"none",'">\n          </path>\n          <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>\n          <line x1="12" y1="19" x2="12" y2="23"></line>\n          <line x1="8" y1="23" x2="16" y2="23"></line>')),"\n     </svg>")},status:"<p>{{transcript}}</p>"},js=et({name:"voice-search"}),Ms=vt("VoiceSearch"),Os=et({name:"query-rule-custom-data"}),Ls=vt("QueryRuleCustomData"),As=et({name:"query-rule-context"}),Hs=Object.freeze({__proto__:null,clearRefinements:function(e){var t=e||{},n=t.container,r=t.templates,i=void 0===r?fi:r,a=t.includedAttributes,s=t.excludedAttributes,c=t.transformItems,u=t.cssClasses,l=void 0===u?{}:u;if(!n)throw new Error(mi("The `container` option is required."));var h,d,f,m,p,g=he(n),v={root:oi(pi(),l.root),button:oi(pi({descendantName:"button"}),l.button),disabledButton:oi(pi({descendantName:"button",modifierName:"disabled"}),l.disabledButton)};return o(o({},un((d=(h={containerNode:g,cssClasses:v,renderState:{},templates:i}).containerNode,f=h.cssClasses,m=h.renderState,p=h.templates,function(e,t){var n=e.refine,r=e.hasRefinements,i=e.instantSearchInstance;t?m.templateProps=me({defaultTemplates:fi,templatesConfig:i.templatesConfig,templates:p}):Xn(Mn(ui,{refine:n,cssClasses:f,hasRefinements:r,templateProps:m.templateProps}),d)}),(function(){return Xn(null,g)}))({includedAttributes:a,excludedAttributes:s,transformItems:c})),{},{$$widgetType:"ais.clearRefinements"})},configure:function(e){return o(o({},Jr(_e)({searchParameters:e})),{},{$$widgetType:"ais.configure"})},EXPERIMENTAL_configureRelatedItems:function(e){return o(o({},Xr(_e)(e)),{},{$$widgetType:"ais.configureRelatedItems"})},currentRefinements:function(e){var t=e||{},n=t.container,r=t.includedAttributes,i=t.excludedAttributes,a=t.cssClasses,s=void 0===a?{}:a,c=t.transformItems;if(!n)throw new Error(gi("The `container` option is required."));var u=he(n),l={root:oi(vi(),s.root),list:oi(vi({descendantName:"list"}),s.list),item:oi(vi({descendantName:"item"}),s.item),label:oi(vi({descendantName:"label"}),s.label),category:oi(vi({descendantName:"category"}),s.category),categoryLabel:oi(vi({descendantName:"categoryLabel"}),s.categoryLabel),delete:oi(vi({descendantName:"delete"}),s.delete)};return o(o({},dn(hi,(function(){return Xn(null,u)}))({container:u,cssClasses:l,includedAttributes:r,excludedAttributes:i,transformItems:c})),{},{$$widgetType:"ais.currentRefinements"})},geoSearch:function(e){var n=e||{},a=n.initialZoom,s=void 0===a?1:a,u=n.initialPosition,l=void 0===u?{lat:0,lng:0}:u,m=n.templates,p=void 0===m?{}:m,g=n.cssClasses,v=void 0===g?{}:g,y=n.builtInMarker,b=void 0===y?{}:y,S=n.customHTMLMarker,R=n.enableRefine,w=void 0===R||R,P=n.enableClearMapRefinement,x=void 0===P||P,N=n.enableRefineControl,I=void 0===N||N,_=n.container,T=n.googleReference,F=h(n,["initialZoom","initialPosition","templates","cssClasses","builtInMarker","customHTMLMarker","enableRefine","enableClearMapRefinement","enableRefineControl","container","googleReference"]),C={createOptions:_e,events:{}},k={createOptions:_e,events:{}};if(!_)throw new Error(xi("The `container` option is required."));if(!T)throw new Error(xi("The `googleReference` option is required."));var E,j=he(_),M={root:oi(Ni(),v.root),tree:Ni({descendantName:"tree"}),map:oi(Ni({descendantName:"map"}),v.map),control:oi(Ni({descendantName:"control"}),v.control),label:oi(Ni({descendantName:"label"}),v.label),selectedLabel:oi(Ni({descendantName:"label",modifierName:"selected"}),v.selectedLabel),input:oi(Ni({descendantName:"input"}),v.input),redo:oi(Ni({descendantName:"redo"}),v.redo),disabledRedo:oi(Ni({descendantName:"redo",modifierName:"disabled"}),v.disabledRedo),reset:oi(Ni({descendantName:"reset"}),v.reset)},O=o(o({},Pi),p),L=o(o({},C),b),A=(Boolean(S)||Boolean(p.HTMLMarker))&&o(o({},k),S),H=(E=T,function(){c(n,E.maps.OverlayView);var e=f(n);function n(r){var a,s=r.__id,o=r.position,c=r.map,u=r.template,l=r.className,h=r.anchor,f=void 0===h?{x:0,y:0}:h;return t(this,n),i(d(a=e.call(this)),"__id",void 0),i(d(a),"anchor",void 0),i(d(a),"offset",void 0),i(d(a),"listeners",void 0),i(d(a),"latLng",void 0),i(d(a),"element",void 0),a.__id=s,a.anchor=f,a.listeners={},a.latLng=new E.maps.LatLng(o),a.element=document.createElement("div"),a.element.className=l,a.element.style.position="absolute",a.element.innerHTML=u,a.setMap(c),a}return r(n,[{key:"onAdd",value:function(){this.getPanes().overlayMouseTarget.appendChild(this.element);var e=this.element.getBoundingClientRect();this.offset={x:this.anchor.x+e.width/2,y:this.anchor.y+e.height},this.element.style.width="".concat(e.width,"px")}},{key:"draw",value:function(){var e=this.getProjection().fromLatLngToDivPixel(this.latLng);this.element.style.left="".concat(Math.round(e.x-this.offset.x),"px"),this.element.style.top="".concat(Math.round(e.y-this.offset.y),"px"),this.element.style.zIndex=String(parseInt(this.element.style.top,10))}},{key:"onRemove",value:function(){var e=this;this.element&&(this.element.parentNode.removeChild(this.element),Object.keys(this.listeners).forEach((function(t){e.element.removeEventListener(t,e.listeners[t])})),delete this.element,delete this.listeners)}},{key:"addListener",value:function(e,t){this.listeners[e]=t;var n=this.element;return n.addEventListener(e,t),{remove:function(){return n.removeEventListener(e,t)}}}},{key:"getPosition",value:function(){return this.latLng}}]),n}()),D=A?function(e){var t=e.item,n=h(e,["item"]);return new H(o(o(o({},A.createOptions(t)),n),{},{__id:t.objectID,position:t._geoloc,className:oi(Ni({descendantName:"marker"})),template:be({templateKey:"HTMLMarker",templates:O,data:t})}))}:function(e){var t=e.item,n=h(e,["item"]);return new T.maps.Marker(o(o(o({},L.createOptions(t)),n),{},{__id:t.objectID,position:t._geoloc}))},q=A||L;return o(o({},Br(wi,(function(){return Xn(null,j)}))(o(o({},F),{},{renderState:{},container:j,googleReference:T,initialZoom:s,initialPosition:l,templates:O,cssClasses:M,createMarker:D,markerOptions:q,enableRefine:w,enableClearMapRefinement:x,enableRefineControl:I}))),{},{$$widgetType:"ais.geoSearch"})},hierarchicalMenu:function(e){var t=e||{},n=t.container,r=t.attributes,i=t.separator,a=t.rootPath,s=t.showParentLevel,c=t.limit,u=t.showMore,l=void 0!==u&&u,h=t.showMoreLimit,d=t.sortBy,f=t.transformItems,m=t.templates,p=void 0===m?Fi:m,g=t.cssClasses,v=void 0===g?{}:g;if(!n)throw new Error(Ci("The `container` option is required."));var y,b,S,R,w,P,x=he(n);return o(o({},bn((y={cssClasses:{root:oi(ki(),v.root),noRefinementRoot:oi(ki({modifierName:"noRefinement"}),v.noRefinementRoot),list:oi(ki({descendantName:"list"}),v.list),childList:oi(ki({descendantName:"list",modifierName:"child"}),v.childList),item:oi(ki({descendantName:"item"}),v.item),selectedItem:oi(ki({descendantName:"item",modifierName:"selected"}),v.selectedItem),parentItem:oi(ki({descendantName:"item",modifierName:"parent"}),v.parentItem),link:oi(ki({descendantName:"link"}),v.link),label:oi(ki({descendantName:"label"}),v.label),count:oi(ki({descendantName:"count"}),v.count),showMore:oi(ki({descendantName:"showMore"}),v.showMore),disabledShowMore:oi(ki({descendantName:"showMore",modifierName:"disabled"}),v.disabledShowMore)},containerNode:x,templates:p,showMore:l,renderState:{}},b=y.cssClasses,S=y.containerNode,R=y.showMore,w=y.templates,P=y.renderState,function(e,t){var n=e.createURL,r=e.items,i=e.refine,a=e.instantSearchInstance,s=e.isShowingMore,o=e.toggleShowMore,c=e.canToggleShowMore;t?P.templateProps=me({defaultTemplates:Fi,templatesConfig:a.templatesConfig,templates:w}):Xn(Mn(Ti,{createURL:n,cssClasses:b,facetValues:r,templateProps:P.templateProps,toggleRefinement:i,showMore:R,toggleShowMore:o,isShowingMore:s,canToggleShowMore:c}),S)}),(function(){return Xn(null,x)}))({attributes:r,separator:i,rootPath:a,showParentLevel:s,limit:c,showMore:l,showMoreLimit:h,sortBy:d,transformItems:f})),{},{$$widgetType:"ais.hierarchicalMenu"})},hits:function(e){var t=e||{},n=t.container,r=t.escapeHTML,i=t.transformItems,a=t.templates,s=void 0===a?ji:a,c=t.cssClasses,u=void 0===c?{}:c;if(!n)throw new Error(Mi("The `container` option is required."));var l,h,d,f,m,p=he(n),g={root:oi(Oi(),u.root),emptyRoot:oi(Oi({modifierName:"empty"}),u.emptyRoot),list:oi(Oi({descendantName:"list"}),u.list),item:oi(Oi({descendantName:"item"}),u.item)},v=(h=(l={containerNode:p,cssClasses:g,renderState:{},templates:s}).renderState,d=l.cssClasses,f=l.containerNode,m=l.templates,function(e,t){var n=e.hits,r=e.results,i=e.instantSearchInstance,a=e.insights,s=e.bindEvent;t?h.templateProps=me({defaultTemplates:ji,templatesConfig:i.templatesConfig,templates:m}):Xn(Mn(Li,{cssClasses:d,hits:n,results:r,templateProps:h.templateProps,insights:a,sendEvent:function(e){i.sendEventToInsights(e)},bindEvent:s}),f)});return o(o({},Pn(Sn)(v,(function(){return Xn(null,p)}))({escapeHTML:r,transformItems:i})),{},{$$widgetType:"ais.hits"})},hitsPerPage:function(e){var t=e||{},n=t.container,r=t.items,i=t.cssClasses,a=void 0===i?{}:i,s=t.transformItems;if(!n)throw new Error(Hi("The `container` option is required."));var c,u,l,h=he(n),d={root:oi(Di(),a.root),select:oi(Di({descendantName:"select"}),a.select),option:oi(Di({descendantName:"option"}),a.option)};return o(o({},tr((u=(c={containerNode:h,cssClasses:d}).containerNode,l=c.cssClasses,function(e,t){var n=e.items,r=e.refine;if(!t){var i=(Se(n,(function(e){return e.isRefined}))||{}).value;Xn(Mn("div",{className:l.root},Mn(Ai,{cssClasses:l,currentValue:i,options:n,setValue:r})),u)}}),(function(){return Xn(null,h)}))({items:r,transformItems:s})),{},{$$widgetType:"ais.hitsPerPage"})},infiniteHits:function(e){var t=e||{},n=t.container,r=t.escapeHTML,i=t.transformItems,a=t.templates,s=void 0===a?qi:a,c=t.cssClasses,u=void 0===c?{}:c,l=t.showPrevious,h=t.cache;if(!n)throw new Error(Wi("The `container` option is required."));var d,f,m,p,g,v,y=he(n),b={root:oi(Bi(),u.root),emptyRoot:oi(Bi({modifierName:"empty"}),u.emptyRoot),item:oi(Bi({descendantName:"item"}),u.item),list:oi(Bi({descendantName:"list"}),u.list),loadPrevious:oi(Bi({descendantName:"loadPrevious"}),u.loadPrevious),disabledLoadPrevious:oi(Bi({descendantName:"loadPrevious",modifierName:"disabled"}),u.disabledLoadPrevious),loadMore:oi(Bi({descendantName:"loadMore"}),u.loadMore),disabledLoadMore:oi(Bi({descendantName:"loadMore",modifierName:"disabled"}),u.disabledLoadMore)},S=(f=(d={containerNode:y,cssClasses:b,templates:s,showPrevious:l,renderState:{}}).cssClasses,m=d.containerNode,p=d.renderState,g=d.templates,v=d.showPrevious,function(e,t){var n=e.hits,r=e.results,i=e.showMore,a=e.showPrevious,s=e.isFirstPage,o=e.isLastPage,c=e.instantSearchInstance,u=e.insights,l=e.bindEvent;t?p.templateProps=me({defaultTemplates:qi,templatesConfig:c.templatesConfig,templates:g}):Xn(Mn(Ui,{cssClasses:f,hits:n,results:r,hasShowPrevious:v,showPrevious:a,showMore:i,templateProps:p.templateProps,isFirstPage:s,isLastPage:o,insights:u,sendEvent:function(e){c.sendEventToInsights(e)},bindEvent:l}),m)});return o(o({},Pn(sr)(S,(function(){return Xn(null,y)}))({escapeHTML:r,transformItems:i,showPrevious:l,cache:h})),{},{$$widgetType:"ais.infiniteHits"})},menu:function(e){var t=e||{},n=t.container,r=t.attribute,i=t.sortBy,a=t.limit,s=t.showMore,c=t.showMoreLimit,u=t.cssClasses,l=void 0===u?{}:u,h=t.templates,d=void 0===h?Qi:h,f=t.transformItems;if(!n)throw new Error($i("The `container` option is required."));var m,p,g,v,y,b,S=he(n),R={root:oi(Vi(),l.root),noRefinementRoot:oi(Vi({modifierName:"noRefinement"}),l.noRefinementRoot),list:oi(Vi({descendantName:"list"}),l.list),item:oi(Vi({descendantName:"item"}),l.item),selectedItem:oi(Vi({descendantName:"item",modifierName:"selected"}),l.selectedItem),link:oi(Vi({descendantName:"link"}),l.link),label:oi(Vi({descendantName:"label"}),l.label),count:oi(Vi({descendantName:"count"}),l.count),showMore:oi(Vi({descendantName:"showMore"}),l.showMore),disabledShowMore:oi(Vi({descendantName:"showMore",modifierName:"disabled"}),l.disabledShowMore)},w=(p=(m={containerNode:S,cssClasses:R,renderState:{},templates:d,showMore:s}).containerNode,g=m.cssClasses,v=m.renderState,y=m.templates,b=m.showMore,function(e,t){var n=e.refine,r=e.items,i=e.createURL,a=e.instantSearchInstance,s=e.isShowingMore,c=e.toggleShowMore,u=e.canToggleShowMore;if(t)v.templateProps=me({defaultTemplates:Qi,templatesConfig:a.templatesConfig,templates:y});else{var l=r.map((function(e){return o(o({},e),{},{url:i(e.value)})}));Xn(Mn(Ti,{createURL:i,cssClasses:g,facetValues:l,showMore:b,templateProps:v.templateProps,toggleRefinement:n,toggleShowMore:c,isShowingMore:s,canToggleShowMore:u}),p)}});return o(o({},or(w,(function(){return Xn(null,S)}))({attribute:r,limit:a,showMore:s,showMoreLimit:c,sortBy:i,transformItems:f})),{},{$$widgetType:"ais.menu"})},refinementList:function(e){var t=e||{},n=t.container,r=t.attribute,i=t.operator,a=t.sortBy,s=t.limit,c=t.showMore,u=t.showMoreLimit,l=t.searchable,d=void 0!==l&&l,f=t.searchablePlaceholder,m=void 0===f?"Search...":f,p=t.searchableEscapeFacetValues,g=void 0===p||p,v=t.searchableIsAlwaysActive,y=void 0===v||v,b=t.cssClasses,S=void 0===b?{}:b,R=t.templates,w=void 0===R?Ki:R,P=t.transformItems;if(!n)throw new Error(Ji("The `container` option is required."));var x,N,I=!!d&&Boolean(g),_=he(n),T=(x=o(o({},Ki),w),(N=o(o({},x),{},{submit:x.searchableSubmit,reset:x.searchableReset,loadingIndicator:x.searchableLoadingIndicator})).searchableReset,N.searchableSubmit,N.searchableLoadingIndicator,h(N,["searchableReset","searchableSubmit","searchableLoadingIndicator"])),F={root:oi(Yi(),S.root),noRefinementRoot:oi(Yi({modifierName:"noRefinement"}),S.noRefinementRoot),list:oi(Yi({descendantName:"list"}),S.list),item:oi(Yi({descendantName:"item"}),S.item),selectedItem:oi(Yi({descendantName:"item",modifierName:"selected"}),S.selectedItem),searchBox:oi(Yi({descendantName:"searchBox"}),S.searchBox),label:oi(Yi({descendantName:"label"}),S.label),checkbox:oi(Yi({descendantName:"checkbox"}),S.checkbox),labelText:oi(Yi({descendantName:"labelText"}),S.labelText),count:oi(Yi({descendantName:"count"}),S.count),noResults:oi(Yi({descendantName:"noResults"}),S.noResults),showMore:oi(Yi({descendantName:"showMore"}),S.showMore),disabledShowMore:oi(Yi({descendantName:"showMore",modifierName:"disabled"}),S.disabledShowMore),searchable:{root:oi(Gi(),S.searchableRoot),form:oi(Gi({descendantName:"form"}),S.searchableForm),input:oi(Gi({descendantName:"input"}),S.searchableInput),submit:oi(Gi({descendantName:"submit"}),S.searchableSubmit),submitIcon:oi(Gi({descendantName:"submitIcon"}),S.searchableSubmitIcon),reset:oi(Gi({descendantName:"reset"}),S.searchableReset),resetIcon:oi(Gi({descendantName:"resetIcon"}),S.searchableResetIcon),loadingIndicator:oi(Gi({descendantName:"loadingIndicator"}),S.searchableLoadingIndicator),loadingIcon:oi(Gi({descendantName:"loadingIcon"}),S.searchableLoadingIcon)}};return o(o({},xr(function(e){var t=e.containerNode,n=e.cssClasses,r=e.templates,i=e.renderState,a=e.showMore,s=e.searchable,o=e.searchablePlaceholder,c=e.searchableIsAlwaysActive;return function(e,u){var l=e.refine,h=e.items,d=e.createURL,f=e.searchForItems,m=e.isFromSearch,p=e.instantSearchInstance,g=e.toggleShowMore,v=e.isShowingMore,y=e.hasExhaustiveItems,b=e.canToggleShowMore;u?i.templateProps=me({templatesConfig:p.templatesConfig,templates:r}):Xn(Mn(Ti,{createURL:d,cssClasses:n,facetValues:h,templateProps:i.templateProps,toggleRefinement:l,searchFacetValues:s?f:void 0,searchPlaceholder:o,searchIsAlwaysActive:c,isFromSearch:m,showMore:a&&!m&&0<h.length,toggleShowMore:g,isShowingMore:v,hasExhaustiveItems:y,canToggleShowMore:b}),t)}}({containerNode:_,cssClasses:F,templates:T,renderState:{},searchable:d,searchablePlaceholder:m,searchableIsAlwaysActive:y,showMore:c}),(function(){return Xn(null,_)}))({attribute:r,operator:i,limit:s,showMore:c,showMoreLimit:u,sortBy:a,escapeFacetValues:I,transformItems:P})),{},{$$widgetType:"ais.refinementList"})},numericMenu:function(e){var t=e||{},n=t.container,r=t.attribute,i=t.items,a=t.cssClasses,s=void 0===a?{}:a,c=t.templates,u=void 0===c?Xi:c,l=t.transformItems;if(!n)throw new Error(Zi("The `container` option is required."));var h,d,f,m,p,g,v=he(n),y={root:oi(ea(),s.root),noRefinementRoot:oi(ea({modifierName:"noRefinement"}),s.noRefinementRoot),list:oi(ea({descendantName:"list"}),s.list),item:oi(ea({descendantName:"item"}),s.item),selectedItem:oi(ea({descendantName:"item",modifierName:"selected"}),s.selectedItem),label:oi(ea({descendantName:"label"}),s.label),radio:oi(ea({descendantName:"radio"}),s.radio),labelText:oi(ea({descendantName:"labelText"}),s.labelText)};return o(o({},cr((d=(h={containerNode:v,attribute:r,cssClasses:y,renderState:{},templates:u}).containerNode,f=h.attribute,m=h.cssClasses,p=h.renderState,g=h.templates,function(e,t){var n=e.createURL,r=e.instantSearchInstance,i=e.refine,a=e.items;t?p.templateProps=me({defaultTemplates:Xi,templatesConfig:r.templatesConfig,templates:g}):Xn(Mn(Ti,{createURL:n,cssClasses:m,facetValues:a,templateProps:p.templateProps,toggleRefinement:i,attribute:f}),d)}),(function(){return Xn(null,v)}))({attribute:r,items:i,transformItems:l})),{},{$$widgetType:"ais.numericMenu"})},pagination:function(e){var t=e||{},n=t.container,r=t.templates,i=void 0===r?{}:r,a=t.cssClasses,s=void 0===a?{}:a,c=t.totalPages,u=t.padding,l=t.showFirst,h=void 0===l||l,d=t.showLast,f=void 0===d||d,m=t.showPrevious,p=void 0===m||m,g=t.showNext,v=void 0===g||g,y=t.scrollTo,b=void 0===y?"body":y;if(!n)throw new Error(ra("The `container` option is required."));var S,R,w,P,x,N,I,_,T,F,C=he(n),k=!0===b?"body":b,E=!1!==k&&he(k),j={root:oi(ia(),s.root),noRefinementRoot:oi(ia({modifierName:"noRefinement"}),s.noRefinementRoot),list:oi(ia({descendantName:"list"}),s.list),item:oi(ia({descendantName:"item"}),s.item),firstPageItem:oi(ia({descendantName:"item",modifierName:"firstPage"}),s.firstPageItem),lastPageItem:oi(ia({descendantName:"item",modifierName:"lastPage"}),s.lastPageItem),previousPageItem:oi(ia({descendantName:"item",modifierName:"previousPage"}),s.previousPageItem),nextPageItem:oi(ia({descendantName:"item",modifierName:"nextPage"}),s.nextPageItem),pageItem:oi(ia({descendantName:"item",modifierName:"page"}),s.pageItem),selectedItem:oi(ia({descendantName:"item",modifierName:"selected"}),s.selectedItem),disabledItem:oi(ia({descendantName:"item",modifierName:"disabled"}),s.disabledItem),link:oi(ia({descendantName:"link"}),s.link)},M=o(o({},aa),i);return o(o({},gr((R=(S={containerNode:C,cssClasses:j,templates:M,showFirst:h,showLast:f,showPrevious:p,showNext:v,padding:u,scrollToNode:E}).containerNode,w=S.cssClasses,P=S.templates,x=S.totalPages,N=S.showFirst,I=S.showLast,_=S.showPrevious,T=S.showNext,F=S.scrollToNode,function(e,t){var n=e.createURL,r=e.currentRefinement,i=e.nbHits,a=e.nbPages,s=e.pages,o=e.isFirstPage,c=e.isLastPage,u=e.refine;t||Xn(Mn(na,{createURL:n,cssClasses:w,currentPage:r,templates:P,nbHits:i,nbPages:a,pages:s,totalPages:x,isFirstPage:o,isLastPage:c,setCurrentPage:function(e){u(e),!1!==F&&F.scrollIntoView()},showFirst:N,showLast:I,showPrevious:_,showNext:T}),R)}),(function(){return Xn(null,C)}))({totalPages:c,padding:u})),{},{$$widgetType:"ais.pagination"})},rangeInput:function(e){var t=e||{},n=t.container,r=t.attribute,i=t.min,a=t.max,s=t.precision,c=void 0===s?0:s,u=t.cssClasses,l=void 0===u?{}:u,h=t.templates,d=void 0===h?{}:h;if(!n)throw new Error(oa("The `container` option is required."));var f,p,g,v,y,b=he(n),S=o({separatorText:"to",submitText:"Go"},d),R={root:oi(ca(),l.root),noRefinement:oi(ca({modifierName:"noRefinement"})),form:oi(ca({descendantName:"form"}),l.form),label:oi(ca({descendantName:"label"}),l.label),input:oi(ca({descendantName:"input"}),l.input),inputMin:oi(ca({descendantName:"input",modifierName:"min"}),l.inputMin),inputMax:oi(ca({descendantName:"input",modifierName:"max"}),l.inputMax),separator:oi(ca({descendantName:"separator"}),l.separator),submit:oi(ca({descendantName:"submit"}),l.submit)};return o(o({},wr((p=(f={containerNode:b,cssClasses:R,templates:S,renderState:{}}).containerNode,g=f.cssClasses,v=f.renderState,y=f.templates,function(e,t){var n=e.refine,r=e.range,i=e.start,a=e.widgetParams,s=e.instantSearchInstance;if(t)v.templateProps=me({templatesConfig:s.templatesConfig,templates:y});else{var o=r.min,c=r.max,u=m(i,2),l=u[0],h=u[1],d=1/Math.pow(10,a.precision);Xn(Mn(sa,{min:o,max:c,step:d,values:{min:l!==-1/0&&l!==o?l:void 0,max:h!==1/0&&h!==c?h:void 0},cssClasses:g,refine:n,templateProps:v.templateProps}),p)}}),(function(){return Xn(null,b)}))({attribute:r,min:i,max:a,precision:c})),{},{$$type:"ais.rangeInput",$$widgetType:"ais.rangeInput"})},searchBox:function(e){var t=e||{},n=t.container,r=t.placeholder,i=void 0===r?"":r,a=t.cssClasses,s=void 0===a?{}:a,c=t.autofocus,u=void 0!==c&&c,l=t.searchAsYouType,h=void 0===l||l,d=t.showReset,f=void 0===d||d,m=t.showSubmit,p=void 0===m||m,g=t.showLoadingIndicator,v=void 0===g||g,y=t.queryHook,b=t.templates;if(!n)throw new Error(ua("The `container` option is required."));var S,R,w,P,x,N,I,_,T,F,C=he(n),k={root:oi(la(),s.root),form:oi(la({descendantName:"form"}),s.form),input:oi(la({descendantName:"input"}),s.input),submit:oi(la({descendantName:"submit"}),s.submit),submitIcon:oi(la({descendantName:"submitIcon"}),s.submitIcon),reset:oi(la({descendantName:"reset"}),s.reset),resetIcon:oi(la({descendantName:"resetIcon"}),s.resetIcon),loadingIndicator:oi(la({descendantName:"loadingIndicator"}),s.loadingIndicator),loadingIcon:oi(la({descendantName:"loadingIcon"}),s.loadingIcon)};return o(o({},Ir((S={containerNode:C,cssClasses:k,placeholder:i,templates:o(o({},zi),b),autofocus:u,searchAsYouType:h,showReset:f,showSubmit:p,showLoadingIndicator:v},R=S.containerNode,w=S.cssClasses,P=S.placeholder,x=S.templates,N=S.autofocus,I=S.searchAsYouType,_=S.showReset,T=S.showSubmit,F=S.showLoadingIndicator,function(e){var t=e.refine,n=e.query,r=e.isSearchStalled;Xn(Mn(_i,{query:n,placeholder:P,autofocus:N,refine:t,searchAsYouType:I,templates:x,showSubmit:T,showReset:_,showLoadingIndicator:F,isSearchStalled:r,cssClasses:w}),R)}),(function(){return Xn(null,C)}))({queryHook:y})),{},{$$widgetType:"ais.searchBox"})},rangeSlider:function(e){var t=e||{},n=t.container,r=t.attribute,i=t.min,a=t.max,s=t.cssClasses,c=void 0===s?{}:s,u=t.step,l=t.pips,h=void 0===l||l,d=t.precision,f=void 0===d?0:d,p=t.tooltips,g=void 0===p||p;if(!n)throw new Error(ka("The `container` option is required."));var v,y,b,S,R,w,P=he(n),x={root:oi(Ea(),c.root),disabledRoot:oi(Ea({modifierName:"disabled"}),c.disabledRoot)};return o(o({},wr((y=(v={containerNode:P,step:u,pips:h,tooltips:g,renderState:{},cssClasses:x}).containerNode,b=v.cssClasses,S=v.pips,R=v.step,w=v.tooltips,function(e,t){var n=e.refine,r=e.range,i=e.start;if(!t){var a=r.min,s=r.max,o=m(i,2),c=o[0],u=o[1],l=c===-1/0?a:c,h=u===1/0?s:u;Xn(Mn(Ca,{cssClasses:b,refine:n,min:a,max:s,values:[s<l?s:l,h<a?a:h],tooltips:w,step:R,pips:S}),y)}}),(function(){return Xn(null,P)}))({attribute:r,min:i,max:a,precision:f})),{},{$$type:"ais.rangeSlider",$$widgetType:"ais.rangeSlider"})},sortBy:function(e){var t=e||{},n=t.container,r=t.items,i=t.cssClasses,a=void 0===i?{}:i,s=t.transformItems;if(!n)throw new Error(ja("The `container` option is required."));var c,u,l,h=he(n),d={root:oi(Ma(),a.root),select:oi(Ma({descendantName:"select"}),a.select),option:oi(Ma({descendantName:"option"}),a.option)};return o(o({},Tr((u=(c={containerNode:h,cssClasses:d}).containerNode,l=c.cssClasses,function(e,t){var n=e.currentRefinement,r=e.options,i=e.refine;t||Xn(Mn("div",{className:l.root},Mn(Ai,{cssClasses:l,currentValue:n,options:r,setValue:i})),u)}),(function(){return Xn(null,h)}))({items:r,transformItems:s})),{},{$$widgetType:"ais.sortBy"})},ratingMenu:function(e){var t=e||{},n=t.container,r=t.attribute,i=t.max,a=void 0===i?5:i,s=t.cssClasses,c=void 0===s?{}:s,u=t.templates,l=void 0===u?Oa:u;if(!n)throw new Error(La("The `container` option is required."));var h,d,f,m,p,g=he(n),v={root:oi(Aa(),c.root),noRefinementRoot:oi(Aa({modifierName:"noRefinement"}),c.noRefinementRoot),list:oi(Aa({descendantName:"list"}),c.list),item:oi(Aa({descendantName:"item"}),c.item),selectedItem:oi(Aa({descendantName:"item",modifierName:"selected"}),c.selectedItem),disabledItem:oi(Aa({descendantName:"item",modifierName:"disabled"}),c.disabledItem),link:oi(Aa({descendantName:"link"}),c.link),starIcon:oi(Aa({descendantName:"starIcon"}),c.starIcon),fullStarIcon:oi(Aa({descendantName:"starIcon",modifierName:"full"}),c.fullStarIcon),emptyStarIcon:oi(Aa({descendantName:"starIcon",modifierName:"empty"}),c.emptyStarIcon),label:oi(Aa({descendantName:"label"}),c.label),count:oi(Aa({descendantName:"count"}),c.count)};return o(o({},jr((d=(h={containerNode:g,cssClasses:v,renderState:{},templates:l}).containerNode,f=h.cssClasses,m=h.templates,p=h.renderState,function(e,t){var n=e.refine,r=e.items,i=e.createURL,a=e.instantSearchInstance;t?p.templateProps=me({defaultTemplates:Oa,templatesConfig:a.templatesConfig,templates:m}):Xn(Mn(Ti,{createURL:i,cssClasses:f,facetValues:r,templateProps:p.templateProps,toggleRefinement:n},Mn("svg",{xmlns:"http://www.w3.org/2000/svg",style:"display:none;"},Mn("symbol",{id:Aa({descendantName:"starSymbol"}),viewBox:"0 0 24 24"},Ha),Mn("symbol",{id:Aa({descendantName:"starEmptySymbol"}),viewBox:"0 0 24 24"},Da))),d)}),(function(){return Xn(null,g)}))({attribute:r,max:a})),{},{$$widgetType:"ais.ratingMenu"})},stats:function(e){var t=e||{},n=t.container,r=t.cssClasses,i=void 0===r?{}:r,a=t.templates,s=void 0===a?Wa:a;if(!n)throw new Error(Ba("The `container` option is required."));var c,u,l,h,d,f=he(n),m={root:oi(Ua(),i.root),text:oi(Ua({descendantName:"text"}),i.text)};return o(o({},Or((u=(c={containerNode:f,cssClasses:m,renderState:{},templates:s}).containerNode,l=c.cssClasses,h=c.renderState,d=c.templates,function(e,t){var n=e.hitsPerPage,r=e.nbHits,i=e.nbSortedHits,a=e.areHitsSorted,s=e.nbPages,o=e.page,c=e.processingTimeMS,f=e.query,m=e.instantSearchInstance;t?h.templateProps=me({defaultTemplates:Wa,templatesConfig:m.templatesConfig,templates:d}):Xn(Mn(qa,{cssClasses:l,hitsPerPage:n,nbHits:r,nbSortedHits:i,areHitsSorted:a,nbPages:s,page:o,processingTimeMS:c,query:f,templateProps:h.templateProps}),u)}),(function(){return Xn(null,f)}))()),{},{$$widgetType:"ais.stats"})},toggleRefinement:function(e){var t=e||{},n=t.container,r=t.attribute,i=t.cssClasses,a=void 0===i?{}:i,s=t.templates,c=void 0===s?$a:s,u=t.on,l=void 0===u||u,h=t.off;if(!n)throw new Error(Va("The `container` option is required."));var d,f,m,p,g,v=he(n),y={root:oi(za(),a.root),label:oi(za({descendantName:"label"}),a.label),checkbox:oi(za({descendantName:"checkbox"}),a.checkbox),labelText:oi(za({descendantName:"labelText"}),a.labelText)};return o(o({},Dr((f=(d={containerNode:v,cssClasses:y,renderState:{},templates:c}).containerNode,m=d.cssClasses,p=d.renderState,g=d.templates,function(e,t){var n=e.value,r=e.createURL,i=e.refine,a=e.instantSearchInstance;t?p.templateProps=me({defaultTemplates:$a,templatesConfig:a.templatesConfig,templates:g}):Xn(Mn(Qa,{createURL:r,cssClasses:m,currentRefinement:n,templateProps:p.templateProps,refine:function(e){return i({isRefined:e})}}),f)}),(function(){return Xn(null,v)}))({attribute:r,on:l,off:h})),{},{$$widgetType:"ais.toggleRefinement"})},analytics:function(e){var t=e||{},n=t.pushFunction,r=t.delay,i=void 0===r?3e3:r,a=t.triggerOnUIInteraction,s=void 0!==a&&a,c=t.pushInitialSearch,u=void 0===c||c,l=t.pushPagination,h=void 0!==l&&l;if(!n)throw new Error(Ja("The `pushFunction` option is required."));function d(e){if(null!==e){var t=[],r=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n].join("+");t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(n),"_").concat(encodeURIComponent(r)))}return t.join("&")}(o(o(o({},e.state.disjunctiveFacetsRefinements),e.state.facetsRefinements),e.state.hierarchicalFacetsRefinements)),i=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(r.hasOwnProperty(">=")&&r.hasOwnProperty("<="))r[">="]&&r[">="][0]===r["<="]&&r["<="][0]?t.push("".concat(n,"=").concat(n,"_").concat(r[">="])):t.push("".concat(n,"=").concat(n,"_").concat(r[">="],"to").concat(r["<="]));else if(r.hasOwnProperty(">="))t.push("".concat(n,"=").concat(n,"_from").concat(r[">="]));else if(r.hasOwnProperty("<="))t.push("".concat(n,"=").concat(n,"_to").concat(r["<="]));else if(r.hasOwnProperty("=")){var i=[];for(var a in r["="])r["="].hasOwnProperty(a)&&i.push(r["="][a]);t.push("".concat(n,"=").concat(n,"_").concat(i.join("-")))}}return t.join("&")}(e.state.numericRefinements);""!==r&&t.push(r),""!==i&&t.push(i);var a=t.join("&"),s="Query: ".concat(e.state.query||"",", ").concat(a);!0===h&&(s+=", Page: ".concat(e.state.page||0)),p!==s&&(n(a,e.state,e.results),p=s)}}var f,m=null,p="",g=!0;function v(){d(m)}function y(){d(m)}return!0===u&&(g=!1),{$$type:"ais.analytics",$$widgetType:"ais.analytics",init:function(){!0===s&&(document.addEventListener("click",v),window.addEventListener("beforeunload",y))},render:function(e){var t=e.results,n=e.state;!0!==g?(m={results:t,state:n},f&&clearTimeout(f),f=window.setTimeout((function(){return d(m)}),i)):g=!1},dispose:function(){!0===s&&(document.removeEventListener("click",v),window.removeEventListener("beforeunload",y))},getRenderState:function(e,t){return o(o({},e),{},{analytics:this.getWidgetRenderState(t)})},getWidgetRenderState:function(){return{widgetParams:e}}}},breadcrumb:function(e){var t=e||{},n=t.container,r=t.attributes,i=t.separator,a=t.rootPath,s=t.transformItems,c=t.templates,u=void 0===c?Ya:c,l=t.cssClasses,h=void 0===l?{}:l;if(!n)throw new Error(Ga("The `container` option is required."));var d,f,m,p,g,v=he(n),y={root:oi(Xa(),h.root),noRefinementRoot:oi(Xa({modifierName:"noRefinement"}),h.noRefinementRoot),list:oi(Xa({descendantName:"list"}),h.list),item:oi(Xa({descendantName:"item"}),h.item),selectedItem:oi(Xa({descendantName:"item",modifierName:"selected"}),h.selectedItem),separator:oi(Xa({descendantName:"separator"}),h.separator),link:oi(Xa({descendantName:"link"}),h.link)};return o(o({},qr((f=(d={containerNode:v,cssClasses:y,renderState:{},templates:u}).containerNode,m=d.cssClasses,p=d.renderState,g=d.templates,function(e,t){var n=e.canRefine,r=e.createURL,i=e.instantSearchInstance,a=e.items,s=e.refine;t?p.templateProps=me({defaultTemplates:Ya,templatesConfig:i.templatesConfig,templates:g}):Xn(Mn(Ka,{canRefine:n,cssClasses:m,createURL:r,items:a,refine:s,templateProps:p.templateProps}),f)}),(function(){return Xn(null,v)}))({attributes:r,separator:i,rootPath:a,transformItems:s})),{},{$$widgetType:"ais.breadcrumb"})},menuSelect:function(e){var t=e||{},n=t.container,r=t.attribute,i=t.sortBy,a=void 0===i?["name:asc"]:i,s=t.limit,c=void 0===s?10:s,u=t.cssClasses,l=void 0===u?{}:u,h=t.templates,d=void 0===h?rs:h,f=t.transformItems;if(!n)throw new Error(is("The `container` option is required."));var m,p,g,v,y,b=he(n),S={root:oi(as(),l.root),noRefinementRoot:oi(as({modifierName:"noRefinement"}),l.noRefinementRoot),select:oi(as({descendantName:"select"}),l.select),option:oi(as({descendantName:"option"}),l.option)};return o(o({},or((p=(m={containerNode:b,cssClasses:S,renderState:{},templates:d}).containerNode,g=m.cssClasses,v=m.renderState,y=m.templates,function(e,t){var n=e.refine,r=e.items,i=e.instantSearchInstance;t?v.templateProps=me({defaultTemplates:rs,templatesConfig:i.templatesConfig,templates:y}):Xn(Mn(Za,{cssClasses:g,items:r,refine:n,templateProps:v.templateProps}),p)}),(function(){return Xn(null,b)}))({attribute:r,limit:c,sortBy:a,transformItems:f})),{},{$$widgetType:"ais.menuSelect"})},poweredBy:function(e){var t=e||{},n=t.container,r=t.cssClasses,i=void 0===r?{}:r,a=t.theme,s=void 0===a?"light":a;if(!n)throw new Error(us("The `container` option is required."));var c,u,l,h=he(n),d={root:oi(cs(),cs({modifierName:"dark"===s?"dark":"light"}),i.root),link:oi(cs({descendantName:"link"}),i.link),logo:oi(cs({descendantName:"logo"}),i.logo)};return o(o({},Ur((u=(c={containerNode:h,cssClasses:d}).containerNode,l=c.cssClasses,function(e,t){var n=e.url,r=e.widgetParams;if(t){var i=r.theme;Xn(Mn(es,{cssClasses:l,url:n,theme:i}),u)}}),(function(){return Xn(null,h)}))({theme:s})),{},{$$widgetType:"ais.poweredBy"})},panel:function(e){var t=e||{},n=t.templates,r=void 0===n?{}:n,i=t.hidden,a=void 0===i?function(){return!1}:i,s=t.collapsed,c=t.cssClasses,u=void 0===c?{}:c,l=document.createElement("div"),h=Boolean(s),d="function"==typeof s?s:function(){return!1},f={root:oi(ks(),u.root),noRefinementRoot:oi(ks({modifierName:"noRefinement"}),u.noRefinementRoot),collapsibleRoot:oi(ks({modifierName:"collapsible"}),u.collapsibleRoot),collapsedRoot:oi(ks({modifierName:"collapsed"}),u.collapsedRoot),collapseButton:oi(ks({descendantName:"collapseButton"}),u.collapseButton),collapseIcon:oi(ks({descendantName:"collapseIcon"}),u.collapseIcon),body:oi(ks({descendantName:"body"}),u.body),header:oi(ks({descendantName:"header"}),u.header),footer:oi(ks({descendantName:"footer"}),u.footer)};return function(e){return function(t){var n=(t||{}).container;if(!n)throw new Error(Cs("The `container` option is required in the widget within the panel."));var i,s,c,u,m,p={header:"",footer:"",collapseButtonText:function(e){var t=e.collapsed;return'<svg\n          class="'.concat(f.collapseIcon,'"\n          width="1em"\n          height="1em"\n          viewBox="0 0 500 500"\n        >\n        <path d="').concat(t?"M100 250l300-150v300z":"M250 400l150-300H100z",'" fill="currentColor" />\n        </svg>')}},g=(i={containerNode:he(n),bodyContainerNode:l,cssClasses:f,templates:o(o({},p),r)},s=i.containerNode,c=i.bodyContainerNode,u=i.cssClasses,m=i.templates,function(e){var t=e.options,n=e.hidden,r=e.collapsible,i=e.collapsed;Xn(Mn(Ns,{cssClasses:u,hidden:n,collapsible:r,isCollapsed:i,templates:m,data:t,bodyElement:c}),s)});g({options:{},hidden:!0,collapsible:h,collapsed:!1});var v=e(o(o({},t),{},{container:l}));return o(o({},v),{},{dispose:function(){if(Xn(null,he(n)),"function"==typeof v.dispose){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=v.dispose).call.apply(e,[this].concat(r))}},render:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0],s=o(o({},v.getWidgetRenderState?v.getWidgetRenderState(i):{}),i);g({options:s,hidden:Boolean(a(s)),collapsible:h,collapsed:Boolean(d(s))}),"function"==typeof v.render&&(r=v.render).call.apply(r,[this].concat(t))}})}}},voiceSearch:function(e){var t=e||{},n=t.container,r=t.cssClasses,i=void 0===r?{}:r,a=t.templates,s=t.searchAsYouSpeak,c=void 0!==s&&s,u=t.language,l=t.additionalQueryParameters,h=t.createVoiceSearchHelper;if(!n)throw new Error(js("The `container` option is required."));var d=he(n),f={root:oi(Ms(),i.root),button:oi(Ms({descendantName:"button"}),i.button),status:oi(Ms({descendantName:"status"}),i.status)};return o(o({},ii(_s,(function(){return Xn(null,d)}))({container:d,cssClasses:f,templates:o(o({},Es),a),searchAsYouSpeak:c,language:u,additionalQueryParameters:l,createVoiceSearchHelper:h})),{},{$$widgetType:"ais.voiceSearch"})},queryRuleCustomData:function(e){var t=e||{},n=t.container,r=t.cssClasses,i=void 0===r?{}:r,a=t.templates,s=void 0===a?{}:a,c=t.transformItems,u=void 0===c?function(e){return e}:c;if(!n)throw new Error(Os("The `container` option is required."));var l={root:oi(Ls(),i.root)},h=o(o({},{default:function(e){var t=e.items;return JSON.stringify(t,null,2)}}),s),d=he(n);return o(o({},ni(Fs,(function(){Xn(null,d)}))({container:d,cssClasses:l,templates:h,transformItems:u})),{},{$$widgetType:"ais.queryRuleCustomData"})},queryRuleContext:function(e){var t=0<arguments.length&&void 0!==e?e:{};if(!t.trackedFilters)throw new Error(As("The `trackedFilters` option is required."));return o(o({},ni(_e)(t)),{},{$$widgetType:"ais.queryRuleContext"})},index:pt,places:function(e){var t=e||{},n=t.placesReference,r=t.defaultPosition,i=void 0===r?[]:r,a=h(t,["placesReference","defaultPosition"]);if("function"!=typeof n)throw new Error("The `placesReference` option requires a valid Places.js reference.");var s=n(a),c={query:"",initialLatLngViaIP:void 0,isInitialLatLngViaIPSet:!1};return{$$type:"ais.places",$$widgetType:"ais.places",init:function(e){var t=e.helper;s.on("change",(function(e){var n=e.suggestion,r=n.value,i=n.latlng,a=i.lat,s=i.lng;c.query=r,t.setQueryParameter("insideBoundingBox",void 0).setQueryParameter("aroundLatLngViaIP",!1).setQueryParameter("aroundLatLng","".concat(a,",").concat(s)).search()})),s.on("clear",(function(){c.query="",t.setQueryParameter("insideBoundingBox",void 0),1<i.length?t.setQueryParameter("aroundLatLngViaIP",!1).setQueryParameter("aroundLatLng",i.join(",")):t.setQueryParameter("aroundLatLngViaIP",c.initialLatLngViaIP).setQueryParameter("aroundLatLng",void 0),t.search()}))},getWidgetUiState:function(e,t){var n=t.searchParameters.aroundLatLng||i.join(",");return n!==i.join(",")||c.query?o(o({},e),{},{places:{query:c.query,position:n}}):(e.places,h(e,["places"]))},getWidgetSearchParameters:function(e,t){var n=t.uiState.places||{},r=n.query,a=void 0===r?"":r,o=n.position,u=void 0===o?i.join(","):o;return c.query=a,c.isInitialLatLngViaIPSet||(c.isInitialLatLngViaIPSet=!0,c.initialLatLngViaIP=e.aroundLatLngViaIP),s.setVal(a),s.close(),e.setQueryParameter("insideBoundingBox",void 0).setQueryParameter("aroundLatLngViaIP",!1).setQueryParameter("aroundLatLng",u||void 0)},getRenderState:function(e,t){return o(o({},e),{},{places:this.getWidgetRenderState(t)})},getWidgetRenderState:function(){return{widgetParams:e}}}}}),Ds=Object.freeze({__proto__:null,createInsightsMiddleware:function(e){var t=e||{},n=t.insightsClient,r=t.insightsInitParams,i=t.onEvent;if(null!==n&&!n)throw new Error("The `insightsClient` option is required. To disable, set it to `null`.");var a=Boolean(n),s=null===n?_e:n;return function(e){var t=e.instantSearchInstance,c=m(function(e){if(e.transporter){var t=e.transporter,n=t.headers,r=t.queryParameters,i="x-algolia-application-id",a="x-algolia-api-key";return[n[i]||r[i],n[a]||r[a]]}return[e.applicationID,e.apiKey]}(t.client),2),u=c[0],l=c[1],h=void 0,d=void 0;if(Array.isArray(s.queue)){var f=m(Se(s.queue.slice().reverse(),(function(e){return"setUserToken"===m(e,1)[0]}))||[],2);h=f[1]}return s("_get","_userToken",(function(e){d=e})),s("init",o({appId:u,apiKey:l},r)),{onStateChange:function(){},subscribe:function(){function e(e){e&&r.setState(r.state.setQueryParameter("userToken",e))}var r=t.mainIndex.getHelper();r.setState(r.state.setQueryParameter("clickAnalytics",!0));var o=_t();a&&o&&e(o),d?s("setUserToken",d):h&&s("setUserToken",h),s("onUserTokenChange",e,{immediate:!0}),t.sendEventToInsights=function(e){i?i(e,n):e.insightsMethod&&s(e.insightsMethod,e.payload)}},unsubscribe:function(){s("onUserTokenChange",void 0),t.sendEventToInsights=_e}}}},createRouterMiddleware:rn,isMetadataEnabled:an,createMetadataMiddleware:sn}),qs=Object.freeze({__proto__:null,history:nn});function Ws(e){return e.configure,h(e,["configure"])}var Bs=Object.freeze({__proto__:null,simple:Ft,singleIndex:function(e){return{stateToRoute:function(t){return Ws(t[e]||{})},routeToState:function(t){return i({},e,Ws(0<arguments.length&&void 0!==t?t:{}))}}}});function Us(e){var t=e||{};return t.page,h(t,["page"])}var Qs="ais.infiniteHits";function $s(){return"undefined"!=typeof window&&void 0!==window.sessionStorage}function Vs(e){return new ln(e)}return Vs.routers=qs,Vs.stateMappings=Bs,Vs.connectors=si,Vs.widgets=Hs,Vs.version="4.15.0",Vs.createInfiniteHitsSessionStorageCache=function(){return{read:function(e){var t=e.state;if(!$s())return null;try{var n=JSON.parse(window.sessionStorage.getItem(Qs));return n&&je(n.state,Us(t))?n.hits:null}catch(r){if(r instanceof SyntaxError)try{window.sessionStorage.removeItem(Qs)}catch(i){}return null}},write:function(e){var t=e.state,n=e.hits;if($s())try{window.sessionStorage.setItem(Qs,JSON.stringify({state:Us(t),hits:n}))}catch(r){}}}},Vs.highlight=bt,Vs.reverseHighlight=Rt,Vs.snippet=Pt,Vs.reverseSnippet=Nt,Vs.insights=It,Vs.middlewares=Ds,Vs}()})),n=e((function(e,t){e.exports=function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e){var t,n="algoliasearch-client-js-".concat(e.key),r=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(r().getItem(n)||"{}")};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var n=JSON.stringify(e),r=a()[n];return Promise.all([r||t(),void 0!==r])})).then((function(e){var t=i(e,2),r=t[0],a=t[1];return Promise.all([r,a||n.miss(r)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var i=a();return i[JSON.stringify(e)]=t,r().setItem(n,JSON.stringify(i)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=a();delete t[JSON.stringify(e)],r().setItem(n,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){r().removeItem(n)}))}}}function o(e){var t=a(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then((function(e){return Promise.all([e,n.miss(e)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,r,i).catch((function(){return o({caches:t}).get(e,r,i)}))},set:function(e,r){return n.set(e,r).catch((function(){return o({caches:t}).set(e,r)}))},delete:function(e){return n.delete(e).catch((function(){return o({caches:t}).delete(e)}))},clear:function(){return n.clear().catch((function(){return o({caches:t}).clear()}))}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(n);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var s=r(),o=i&&i.miss||function(){return Promise.resolve()};return s.then((function(e){return o(e)})).then((function(){return s}))},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function u(e,t,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return e===p.WithinHeaders?r:{}},queryParameters:function(){return e===p.WithinQueryParameters?r:{}}}}function l(e){var t=0;return e((function n(){return t++,new Promise((function(r){setTimeout((function(){r(e(n))}),Math.min(100*t,1e3))}))}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return Promise.resolve()};return Object.assign(e,{wait:function(n){return h(e.then((function(e){return Promise.all([t(e,n),e])})).then((function(e){return e[1]})))}})}function d(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function f(e,t){return t?(Object.keys(t).forEach((function(n){e[n]=t[n](e)})),e):e}function m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}var p={WithinQueryParameters:0,WithinHeaders:1};function g(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])})),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var v={Read:1,Write:2,Any:3},y=1,b=2,S=3;function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;return n(n({},e),{},{status:t,lastUpdate:Date.now()})}function w(e){return"string"==typeof e?{protocol:"https",url:e,accept:v.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||v.Any}}var P="DELETE",x="GET",N="POST",I="PUT";function _(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(R(t))}))}))).then((function(e){var n=e.filter((function(e){return(t=e).status===y||Date.now()-t.lastUpdate>12e4;var t})),r=e.filter((function(e){return(t=e).status===S&&Date.now()-t.lastUpdate<=12e4;var t})),i=[].concat(a(n),a(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:i.length>0?i.map((function(e){return w(e)})):t}}))}function T(e,t,r,i){var s,o,c,u=[],l=function(e,t){if(e.method!==x&&(void 0!==e.data||void 0!==t.data)){var r=Array.isArray(e.data)?e.data:n(n({},e.data),t.data);return JSON.stringify(r)}}(r,i),h=(s=i,o=n(n({},e.headers),s.headers),c={},Object.keys(o).forEach((function(e){var t=o[e];c[e.toLowerCase()]=t})),c),d=r.method,f=r.method!==x?{}:n(n({},r.data),i.data),m=n(n(n({"x-algolia-agent":e.userAgent.value},e.queryParameters),f),i.queryParameters),p=0,g=function t(n,a){var s=n.pop();if(void 0===s)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:j(u)};var o={data:l,headers:h,method:d,url:k(s,r.path,m),connectTimeout:a(p,e.timeouts.connect),responseTimeout:a(p,i.timeout)},c=function(e){var t={request:o,response:e,host:s,triesLeft:n.length};return u.push(t),t},f={onSucess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw{name:"DeserializationError",message:t.message,response:e}}}(e)},onRetry:function(r){var i=c(r);return r.isTimedOut&&p++,Promise.all([e.logger.info("Retryable failure",M(i)),e.hostsCache.set(s,R(s,r.isTimedOut?S:b))]).then((function(){return t(n,a)}))},onFail:function(e){throw c(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(a){}return{name:"ApiError",message:i,status:r,transporterStackTrace:t}}(e,j(u))}};return e.requester.send(o).then((function(e){return n=f,o=(r=t=e).status,r.isTimedOut||(a=(i=r).isTimedOut,s=i.status,!a&&0==~~s)||2!=~~(o/100)&&4!=~~(o/100)?n.onRetry(t):2==~~(t.status/100)?n.onSucess(t):n.onFail(t);var t,n,r,i,a,s,o}))};return _(e.hostsCache,t).then((function(e){return g(a(e.statelessHosts).reverse(),e.getTimeout)}))}function F(e){var t=e.hostsCache,n=e.logger,r=e.requester,a=e.requestsCache,s=e.responsesCache,o=e.timeouts,c=e.userAgent,u=e.hosts,l=e.queryParameters,h={hostsCache:t,logger:n,requester:r,requestsCache:a,responsesCache:s,timeouts:o,userAgent:c,headers:e.headers,queryParameters:l,hosts:u.map((function(e){return w(e)})),read:function(e,t){var n=g(t,h.timeouts.read),r=function(){return T(h,h.hosts.filter((function(e){return 0!=(e.accept&v.Read)})),e,n)};if(!0!==(void 0!==n.cacheable?n.cacheable:e.cacheable))return r();var a={request:e,mappedRequestOptions:n,transporter:{queryParameters:h.queryParameters,headers:h.headers}};return h.responsesCache.get(a,(function(){return h.requestsCache.get(a,(function(){return h.requestsCache.set(a,r()).then((function(e){return Promise.all([h.requestsCache.delete(a),e])}),(function(e){return Promise.all([h.requestsCache.delete(a),Promise.reject(e)])})).then((function(e){var t=i(e,2);return t[0],t[1]}))}))}),{miss:function(e){return h.responsesCache.set(a,e)}})},write:function(e,t){return T(h,h.hosts.filter((function(e){return 0!=(e.accept&v.Write)})),e,g(t,h.timeouts.write))}};return h}function C(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function k(e,t,n){var r=E(n),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(i+="?".concat(r)),i}function E(e){return Object.keys(e).map((function(t){return m("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function j(e){return e.map((function(e){return M(e)}))}function M(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},e),{},{request:n(n({},e.request),{},{headers:n(n({},e.request.headers),t)})})}var O=function(e){return function(t,n){return e.transporter.write({method:N,path:"2/abtests",data:t},n)}},L=function(e){return function(t,n){return e.transporter.write({method:P,path:m("2/abtests/%s",t)},n)}},A=function(e){return function(t,n){return e.transporter.read({method:x,path:m("2/abtests/%s",t)},n)}},H=function(e){return function(t){return e.transporter.read({method:x,path:"2/abtests"},t)}},D=function(e){return function(t,n){return e.transporter.write({method:N,path:m("2/abtests/%s/stop",t)},n)}},q=function(e){return function(t){return e.transporter.read({method:x,path:"1/strategies/personalization"},t)}},W=function(e){return function(t,n){return e.transporter.write({method:N,path:"1/strategies/personalization",data:t},n)}};function B(e){return function t(n){return e.request(n).then((function(r){if(void 0!==e.batch&&e.batch(r.hits),!e.shouldStop(r))return r.cursor?t({cursor:r.cursor}):t({page:(n.page||0)+1})}))}({})}var U=function(e){return function(t,i){var a=i||{},s=a.queryParameters,o=r(a,["queryParameters"]),c=n({acl:t},void 0!==s?{queryParameters:s}:{});return h(e.transporter.write({method:N,path:"1/keys",data:c},o),(function(t,n){return l((function(r){return G(e)(t.key,n).catch((function(e){if(404!==e.status)throw e;return r()}))}))}))}},Q=function(e){return function(t,n,r){var i=g(r);return i.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:N,path:"1/clusters/mapping",data:{cluster:n}},i)}},$=function(e){return function(t,n,r){return e.transporter.write({method:N,path:"1/clusters/mapping/batch",data:{users:t,cluster:n}},r)}},V=function(e){return function(t,n,r){return h(e.transporter.write({method:N,path:m("1/indexes/%s/operation",t),data:{operation:"copy",destination:n}},r),(function(n,r){return ne(e)(t,{methods:{waitTask:tt}}).waitTask(n.taskID,r)}))}},z=function(e){return function(t,r,i){return V(e)(t,r,n(n({},i),{},{scope:[rt.Rules]}))}},K=function(e){return function(t,r,i){return V(e)(t,r,n(n({},i),{},{scope:[rt.Settings]}))}},J=function(e){return function(t,r,i){return V(e)(t,r,n(n({},i),{},{scope:[rt.Synonyms]}))}},Y=function(e){return function(t,n){return h(e.transporter.write({method:P,path:m("1/keys/%s",t)},n),(function(n,r){return l((function(n){return G(e)(t,r).then(n).catch((function(e){if(404!==e.status)throw e}))}))}))}},G=function(e){return function(t,n){return e.transporter.read({method:x,path:m("1/keys/%s",t)},n)}},X=function(e){return function(t){return e.transporter.read({method:x,path:"1/logs"},t)}},Z=function(e){return function(t){return e.transporter.read({method:x,path:"1/clusters/mapping/top"},t)}},ee=function(e){return function(t,n){return e.transporter.read({method:x,path:m("1/clusters/mapping/%s",t)},n)}},te=function(e){return function(t){var n=t||{},i=n.retrieveMappings,a=r(n,["retrieveMappings"]);return!0===i&&(a.getClusters=!0),e.transporter.read({method:x,path:"1/clusters/mapping/pending"},a)}},ne=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f({transporter:e.transporter,appId:e.appId,indexName:t},n.methods)}},re=function(e){return function(t){return e.transporter.read({method:x,path:"1/keys"},t)}},ie=function(e){return function(t){return e.transporter.read({method:x,path:"1/clusters"},t)}},ae=function(e){return function(t){return e.transporter.read({method:x,path:"1/indexes"},t)}},se=function(e){return function(t){return e.transporter.read({method:x,path:"1/clusters/mapping"},t)}},oe=function(e){return function(t,n,r){return h(e.transporter.write({method:N,path:m("1/indexes/%s/operation",t),data:{operation:"move",destination:n}},r),(function(n,r){return ne(e)(t,{methods:{waitTask:tt}}).waitTask(n.taskID,r)}))}},ce=function(e){return function(t,n){return h(e.transporter.write({method:N,path:"1/indexes/*/batch",data:{requests:t}},n),(function(t,n){return Promise.all(Object.keys(t.taskID).map((function(r){return ne(e)(r,{methods:{waitTask:tt}}).waitTask(t.taskID[r],n)})))}))}},ue=function(e){return function(t,n){return e.transporter.read({method:N,path:"1/indexes/*/objects",data:{requests:t}},n)}},le=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{params:E(e.params||{})})}));return e.transporter.read({method:N,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},he=function(e){return function(t,i){return Promise.all(t.map((function(t){var a=t.params,s=a.facetName,o=a.facetQuery,c=r(a,["facetName","facetQuery"]);return ne(e)(t.indexName,{methods:{searchForFacetValues:Ge}}).searchForFacetValues(s,o,n(n({},i),c))})))}},de=function(e){return function(t,n){var r=g(n);return r.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:P,path:"1/clusters/mapping"},r)}},fe=function(e){return function(t,n){return h(e.transporter.write({method:N,path:m("1/keys/%s/restore",t)},n),(function(n,r){return l((function(n){return G(e)(t,r).catch((function(e){if(404!==e.status)throw e;return n()}))}))}))}},me=function(e){return function(t,n){return e.transporter.read({method:N,path:"1/clusters/mapping/search",data:{query:t}},n)}},pe=function(e){return function(t,n){var i=Object.assign({},n),a=n||{},s=a.queryParameters,o=r(a,["queryParameters"]),c=s?{queryParameters:s}:{},u=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return h(e.transporter.write({method:I,path:m("1/keys/%s",t),data:c},o),(function(n,r){return l((function(n){return G(e)(t,r).then((function(e){return t=e,Object.keys(i).filter((function(e){return-1!==u.indexOf(e)})).every((function(e){return t[e]===i[e]}))?Promise.resolve():n();var t}))}))}))}},ge=function(e){return function(t,n){return h(e.transporter.write({method:N,path:m("1/indexes/%s/batch",e.indexName),data:{requests:t}},n),(function(t,n){return tt(e)(t.taskID,n)}))}},ve=function(e){return function(t){return B(n(n({shouldStop:function(e){return void 0===e.cursor}},t),{},{request:function(n){return e.transporter.read({method:N,path:m("1/indexes/%s/browse",e.indexName),data:n},t)}}))}},ye=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return B(n(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r),{},{request:function(t){return Xe(e)("",n(n({},r),t)).then((function(e){return n(n({},e),{},{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},be=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return B(n(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r),{},{request:function(t){return Ze(e)("",n(n({},r),t)).then((function(e){return n(n({},e),{},{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},Se=function(e){return function(t,n,i){var a=i||{},s=a.batchSize,o=r(a,["batchSize"]),c={taskIDs:[],objectIDs:[]};return h(function r(){var i,a=[];for(i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i<t.length&&(a.push(t[i]),a.length!==(s||1e3));i++);return 0===a.length?Promise.resolve(c):ge(e)(a.map((function(e){return{action:n,body:e}})),o).then((function(e){return c.objectIDs=c.objectIDs.concat(e.objectIDs),c.taskIDs.push(e.taskID),i++,r(i)}))}(),(function(t,n){return Promise.all(t.taskIDs.map((function(t){return tt(e)(t,n)})))}))}},Re=function(e){return function(t){return h(e.transporter.write({method:N,path:m("1/indexes/%s/clear",e.indexName)},t),(function(t,n){return tt(e)(t.taskID,n)}))}},we=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,a=g(r(n,["forwardToReplicas"]));return i&&(a.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:N,path:m("1/indexes/%s/rules/clear",e.indexName)},a),(function(t,n){return tt(e)(t.taskID,n)}))}},Pe=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,a=g(r(n,["forwardToReplicas"]));return i&&(a.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:N,path:m("1/indexes/%s/synonyms/clear",e.indexName)},a),(function(t,n){return tt(e)(t.taskID,n)}))}},xe=function(e){return function(t,n){return h(e.transporter.write({method:N,path:m("1/indexes/%s/deleteByQuery",e.indexName),data:t},n),(function(t,n){return tt(e)(t.taskID,n)}))}},Ne=function(e){return function(t){return h(e.transporter.write({method:P,path:m("1/indexes/%s",e.indexName)},t),(function(t,n){return tt(e)(t.taskID,n)}))}},Ie=function(e){return function(t,n){return h(_e(e)([t],n).then((function(e){return{taskID:e.taskIDs[0]}})),(function(t,n){return tt(e)(t.taskID,n)}))}},_e=function(e){return function(t,n){var r=t.map((function(e){return{objectID:e}}));return Se(e)(r,nt.DeleteObject,n)}},Te=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,s=g(r(i,["forwardToReplicas"]));return a&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:P,path:m("1/indexes/%s/rules/%s",e.indexName,t)},s),(function(t,n){return tt(e)(t.taskID,n)}))}},Fe=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,s=g(r(i,["forwardToReplicas"]));return a&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:P,path:m("1/indexes/%s/synonyms/%s",e.indexName,t)},s),(function(t,n){return tt(e)(t.taskID,n)}))}},Ce=function(e){return function(t){return Ae(e)(t).then((function(){return!0})).catch((function(e){if(404!==e.status)throw e;return!1}))}},ke=function(e){return function(t,n,r){return e.transporter.read({method:N,path:m("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},Ee=function(e){return function(t,a){var s=a||{},o=s.query,c=s.paginate,u=r(s,["query","paginate"]),l=0;return function r(){return Ye(e)(o||"",n(n({},u),{},{page:l})).then((function(e){for(var n=0,a=Object.entries(e.hits);n<a.length;n++){var s=i(a[n],2),o=s[0],u=s[1];if(t(u))return{object:u,position:parseInt(o,10),page:l}}if(l++,!1===c||l>=e.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return r()}))}()}},je=function(e){return function(t,n){return e.transporter.read({method:x,path:m("1/indexes/%s/%s",e.indexName,t)},n)}},Me=function(){return function(e,t){for(var n=0,r=Object.entries(e.hits);n<r.length;n++){var a=i(r[n],2),s=a[0];if(a[1].objectID===t)return parseInt(s,10)}return-1}},Oe=function(e){return function(t,i){var a=i||{},s=a.attributesToRetrieve,o=r(a,["attributesToRetrieve"]),c=t.map((function(t){return n({indexName:e.indexName,objectID:t},s?{attributesToRetrieve:s}:{})}));return e.transporter.read({method:N,path:"1/indexes/*/objects",data:{requests:c}},o)}},Le=function(e){return function(t,n){return e.transporter.read({method:x,path:m("1/indexes/%s/rules/%s",e.indexName,t)},n)}},Ae=function(e){return function(t){return e.transporter.read({method:x,path:m("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t)}},He=function(e){return function(t,n){return e.transporter.read({method:x,path:m("1/indexes/%s/synonyms/%s",e.indexName,t)},n)}},De=function(e){return function(t,n){return h(qe(e)([t],n).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,n){return tt(e)(t.taskID,n)}))}},qe=function(e){return function(t,n){var i=n||{},a=i.createIfNotExists,s=r(i,["createIfNotExists"]),o=a?nt.PartialUpdateObject:nt.PartialUpdateObjectNoCreate;return Se(e)(t,o,s)}},We=function(e){return function(t,s){var o=s||{},c=o.safe,u=o.autoGenerateObjectIDIfNotExist,l=o.batchSize,d=r(o,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),f=function(t,n,r,i){return h(e.transporter.write({method:N,path:m("1/indexes/%s/operation",t),data:{operation:r,destination:n}},i),(function(t,n){return tt(e)(t.taskID,n)}))},p=Math.random().toString(36).substring(7),g="".concat(e.indexName,"_tmp_").concat(p),v=$e({appId:e.appId,transporter:e.transporter,indexName:g}),y=[],b=f(e.indexName,g,"copy",n(n({},d),{},{scope:["settings","synonyms","rules"]}));return y.push(b),h((c?b.wait(d):b).then((function(){var e=v(t,n(n({},d),{},{autoGenerateObjectIDIfNotExist:u,batchSize:l}));return y.push(e),c?e.wait(d):e})).then((function(){var t=f(g,e.indexName,"move",d);return y.push(t),c?t.wait(d):t})).then((function(){return Promise.all(y)})).then((function(e){var t=i(e,3),n=t[0],r=t[1],s=t[2];return{objectIDs:r.objectIDs,taskIDs:[n.taskID].concat(a(r.taskIDs),[s.taskID])}})),(function(e,t){return Promise.all(y.map((function(e){return e.wait(t)})))}))}},Be=function(e){return function(t,r){return ze(e)(t,n(n({},r),{},{clearExistingRules:!0}))}},Ue=function(e){return function(t,r){return Je(e)(t,n(n({},r),{},{clearExistingSynonyms:!0}))}},Qe=function(e){return function(t,n){return h($e(e)([t],n).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,n){return tt(e)(t.taskID,n)}))}},$e=function(e){return function(t,n){var i=n||{},a=i.autoGenerateObjectIDIfNotExist,s=r(i,["autoGenerateObjectIDIfNotExist"]),o=a?nt.AddObject:nt.UpdateObject;if(o===nt.UpdateObject){var c=!0,u=!1,l=void 0;try{for(var d,f=t[Symbol.iterator]();!(c=(d=f.next()).done);c=!0)if(void 0===d.value.objectID)return h(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(m){u=!0,l=m}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}return Se(e)(t,o,s)}},Ve=function(e){return function(t,n){return ze(e)([t],n)}},ze=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,s=i.clearExistingRules,o=g(r(i,["forwardToReplicas","clearExistingRules"]));return a&&(o.queryParameters.forwardToReplicas=1),s&&(o.queryParameters.clearExistingRules=1),h(e.transporter.write({method:N,path:m("1/indexes/%s/rules/batch",e.indexName),data:t},o),(function(t,n){return tt(e)(t.taskID,n)}))}},Ke=function(e){return function(t,n){return Je(e)([t],n)}},Je=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,s=i.clearExistingSynonyms,o=i.replaceExistingSynonyms,c=g(r(i,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return a&&(c.queryParameters.forwardToReplicas=1),(o||s)&&(c.queryParameters.replaceExistingSynonyms=1),h(e.transporter.write({method:N,path:m("1/indexes/%s/synonyms/batch",e.indexName),data:t},c),(function(t,n){return tt(e)(t.taskID,n)}))}},Ye=function(e){return function(t,n){return e.transporter.read({method:N,path:m("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},Ge=function(e){return function(t,n,r){return e.transporter.read({method:N,path:m("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}},Xe=function(e){return function(t,n){return e.transporter.read({method:N,path:m("1/indexes/%s/rules/search",e.indexName),data:{query:t}},n)}},Ze=function(e){return function(t,n){return e.transporter.read({method:N,path:m("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},n)}},et=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,s=g(r(i,["forwardToReplicas"]));return a&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:I,path:m("1/indexes/%s/settings",e.indexName),data:t},s),(function(t,n){return tt(e)(t.taskID,n)}))}},tt=function(e){return function(t,n){return l((function(r){return(i=e,function(e,t){return i.transporter.read({method:x,path:m("1/indexes/%s/task/%s",i.indexName,e.toString())},t)})(t,n).then((function(e){return"published"!==e.status?r():void 0}));var i}))}},nt={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},rt={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},it=1,at=2,st=3;function ot(e,t,r){var i,a,l,h,m,g={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return n.setRequestHeader(t,e.headers[t])}));var r,i=function(e,r){return setTimeout((function(){n.abort(),t({status:0,content:r,isTimedOut:!0})}),1e3*e)},a=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(a),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(a),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(a),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)}))}},logger:(i=st,{debug:function(e,t){return it>=i&&console.debug(e,t),Promise.resolve()},info:function(e,t){return at>=i&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:o({caches:[s({key:"".concat("4.8.5","-").concat(e)}),c()]}),userAgent:C("4.8.5").add({segment:"Browser"})};return a=n(n(n({},g),r),{},{methods:{search:le,searchForFacetValues:he,multipleBatch:ce,multipleGetObjects:ue,multipleQueries:le,copyIndex:V,copySettings:K,copySynonyms:J,copyRules:z,moveIndex:oe,listIndices:ae,getLogs:X,listClusters:ie,multipleSearchForFacetValues:he,getApiKey:G,addApiKey:U,listApiKeys:re,updateApiKey:pe,deleteApiKey:Y,restoreApiKey:fe,assignUserID:Q,assignUserIDs:$,getUserID:ee,searchUserIDs:me,listUserIDs:se,getTopUserIDs:Z,removeUserID:de,hasPendingMappings:te,initIndex:function(e){return function(t){return ne(e)(t,{methods:{batch:ge,delete:Ne,findAnswers:ke,getObject:je,getObjects:Oe,saveObject:Qe,saveObjects:$e,search:Ye,searchForFacetValues:Ge,waitTask:tt,setSettings:et,getSettings:Ae,partialUpdateObject:De,partialUpdateObjects:qe,deleteObject:Ie,deleteObjects:_e,deleteBy:xe,clearObjects:Re,browseObjects:ve,getObjectPosition:Me,findObject:Ee,exists:Ce,saveSynonym:Ke,saveSynonyms:Je,getSynonym:He,searchSynonyms:Ze,browseSynonyms:be,deleteSynonym:Fe,clearSynonyms:Pe,replaceAllObjects:We,replaceAllSynonyms:Ue,searchRules:Xe,getRule:Le,deleteRule:Te,saveRule:Ve,saveRules:ze,replaceAllRules:Be,browseRules:ye,clearRules:we}})}},initAnalytics:function(){return function(e){return t=n(n(n({},g),e),{},{methods:{addABTest:O,getABTest:A,getABTests:H,stopABTest:D,deleteABTest:L}}),r=t.region||"us",i=u(p.WithinHeaders,t.appId,t.apiKey),a=F(n(n({hosts:[{url:"analytics.".concat(r,".algolia.com")}]},t),{},{headers:n(n(n({},i.headers()),{"content-type":"application/json"}),t.headers),queryParameters:n(n({},i.queryParameters()),t.queryParameters)})),f({appId:t.appId,transporter:a},t.methods);var t,r,i,a}},initRecommendation:function(){return function(e){return t=n(n(n({},g),e),{},{methods:{getPersonalizationStrategy:q,setPersonalizationStrategy:W}}),r=t.region||"us",i=u(p.WithinHeaders,t.appId,t.apiKey),a=F(n(n({hosts:[{url:"recommendation.".concat(r,".algolia.com")}]},t),{},{headers:n(n(n({},i.headers()),{"content-type":"application/json"}),t.headers),queryParameters:n(n({},i.queryParameters()),t.queryParameters)})),f({appId:t.appId,transporter:a},t.methods);var t,r,i,a}}}}),l=a.appId,h=u(void 0!==a.authMode?a.authMode:p.WithinHeaders,l,a.apiKey),f({transporter:m=F(n(n({hosts:[{url:"".concat(l,"-dsn.algolia.net"),accept:v.Read},{url:"".concat(l,".algolia.net"),accept:v.Write}].concat(d([{url:"".concat(l,"-1.algolianet.com")},{url:"".concat(l,"-2.algolianet.com")},{url:"".concat(l,"-3.algolianet.com")}]))},a),{},{headers:n(n(n({},h.headers()),{"content-type":"application/x-www-form-urlencoded"}),a.headers),queryParameters:n(n({},h.queryParameters()),a.queryParameters)})),appId:l,addAlgoliaAgent:function(e,t){m.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([m.requestsCache.clear(),m.responsesCache.clear()]).then((function(){}))}},a.methods)}return ot.version="4.8.5",ot}()}));
/*! algoliasearch.umd.js | 4.8.5 | Â© Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */export{n as a,t as i};
